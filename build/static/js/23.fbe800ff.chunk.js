(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[23],{1403:function(e,t,n){"use strict";n.r(t),function(e){var a=n(681),c=n(175),r=n(45),s=n(121),l=n.n(s),o=n(174),i=n(659),j=n(1),u=n.n(j),b=n(658),d=(n(661),n(663),n(1404),n(14)),m=n(1503),h=n(176),O=(n(660),n(17));t.default=function(t){var n=t.match,s=Object(m.a)(),x=Object(i.a)(s,2),p=x[0],g=x[1],f=Object(d.g)(),v=Object(j.useState)(10),w=Object(i.a)(v,2),S=w[0],k=w[1],N=Object(j.useContext)(h.a).refreshTokenHandler,y=Object(j.useState)([]),_=Object(i.a)(y,2),F=(_[0],_[1],Object(j.useState)("")),A=Object(i.a)(F,2),C=A[0],q=A[1],I=Object(j.useState)(),J=Object(i.a)(I,2),U=J[0],E=J[1],K=Object(j.useState)([]),R=Object(i.a)(K,2),B=R[0],D=R[1],T=Object(j.useState)(),z=Object(i.a)(T,2),M=z[0],G=z[1],H=Object(j.useState)(""),P=Object(i.a)(H,2),L=P[0],Q=P[1],V=localStorage.getItem("token"),W=(JSON.parse(V),Object(j.useState)("")),X=Object(i.a)(W,2),Y=(X[0],X[1],Object(j.useState)({name_en:"",name_ar:""})),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1];$.name_en,$.name_ar;Object(j.useEffect)(Object(o.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=function(){var t=Object(o.a)(l.a.mark((function t(n){var c,r,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/roles"),{method:"GET",headers:{Authorization:"Bearer "+c,Accept:"application/json"}});case 4:return(r=t.sent).status,t.next=8,r.json();case 8:if(!(s=t.sent).message||"Unauthenticated."!=s.message){t.next=11;break}return t.abrupt("return",N((function(){a(n)})));case 11:s.message&&"Success"==s.message&&(o=s.payload.filter((function(e){return e.id==n}))[0],ee({name_en:o.name.en,name_ar:o.name.ar})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}())(n.params.id);case 2:case"end":return t.stop()}}),t)}))),[C]);var te=function(e){ee(Object(r.a)(Object(r.a)({},$),{},Object(c.a)({},e.target.name,e.target.value))),E(""),G("")},ne=function(){var t=Object(o.a)(l.a.mark((function t(a){var c,r,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),Q(!0),c=JSON.parse(localStorage.getItem("token")),E(""),G(""),r=new FormData,B&&B.map((function(e,t){e.name_ar&&r.append("requiredDocuments[".concat(t,"][ar]"),e.name_ar),e.name_en&&r.append("requiredDocuments[".concat(t,"][en]"),e.name_en)})),B&&0!==B.length||r.append("delete_all_required_documents",1),t.prev=8,t.next=11,fetch("".concat(e.apiUrl,"api/role/").concat(n.params.id,"?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+c,Accept:"application/json"},body:r});case 11:return s=t.sent,t.next=14,s.json();case 14:if(o=t.sent,k(10),"Fail"!==o.message){t.next=22;break}return E(o.error),Q(!1),t.abrupt("return");case 22:if(!o.errors){t.next=27;break}E(o.errors),Q(!1),t.next=29;break;case 27:if(!o.message||"Unauthenticated."!=o.message){t.next=29;break}return t.abrupt("return",N((function(){ne(a)})));case 29:o.message&&"Success"==o.message&&(G("ar"===g.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u062f\u0648\u0631  \u0628\u0646\u062c\u0627\u062d":"Role has been Updated successfully"),q(!C)),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(8),console.log(t.t0);case 35:Q(!1);case 36:case"end":return t.stop()}}),t,null,[[8,32]])})));return function(e){return t.apply(this,arguments)}}();var ae=function(e,t){var n=Object(a.a)(B);n[t]=Object(r.a)(Object(r.a)({},n[t]),{},Object(c.a)({},e.target.name,e.target.value)),D(n)};return console.log("data",$),Object(O.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(O.jsx)(b.w,{children:Object(O.jsxs)(b.j,{className:"",children:[Object(O.jsx)(b.n,{children:Object(O.jsxs)(b.wb,{className:" row-gap-15",children:[Object(O.jsx)(b.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(O.jsxs)("strong",{children:["ar"===g.language?"\u062a\u0639\u062f\u064a\u0644 \u062f\u0648\u0631":"Update Role"," "]})}),Object(O.jsx)(b.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(O.jsx)(b.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return f.goBack()},children:p("Back")})})]})}),Object(O.jsx)(b.wb,{children:Object(O.jsx)(b.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(O.jsx)(b.J,{onSubmit:function(e){ne(e)},children:Object(O.jsx)(b.k,{children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.k,{children:Object(O.jsxs)(b.wb,{children:[Object(O.jsxs)(b.u,{md:"12",children:[" ",Object(O.jsxs)("strong",{children:[" ","ar"==g.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0648\u0631":"Role Information"]})]}),Object(O.jsx)(b.u,{md:"6",lg:"6",xl:"6",children:Object(O.jsxs)(b.K,{row:!0,children:[Object(O.jsx)(b.u,{md:"12",children:Object(O.jsxs)(b.cb,{htmlFor:"text-input",children:[" ",p("English Name")]})}),Object(O.jsx)(b.u,{xs:"12",md:"12",children:Object(O.jsx)(b.S,{name:"name_en",required:!0,onChange:te,placeholder:p("English Name"),value:$.name_en})})]})}),Object(O.jsx)(b.u,{md:"6",lg:"6",xl:"6",children:Object(O.jsxs)(b.K,{row:!0,children:[Object(O.jsx)(b.u,{md:"12",children:Object(O.jsx)(b.cb,{htmlFor:"text-input",children:p("Arabic Name")})}),Object(O.jsx)(b.u,{xs:"12",md:"12",children:Object(O.jsx)(b.S,{name:"name_ar",required:!0,onChange:te,placeholder:p("Arabic Name"),value:$.name_ar})})]})}),Object(O.jsxs)(b.u,{md:"12",children:[" ",Object(O.jsxs)("strong",{children:[" ","ar"==g.language?"\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629":"Required Files"]})]}),Object(O.jsx)(b.u,{md:"12",children:B?B.map((function(e,t){return Object(O.jsxs)(b.wb,{children:[Object(O.jsx)(b.u,{md:"5",lg:"5",xl:"5",children:Object(O.jsxs)(b.K,{row:!0,children:[Object(O.jsx)(b.u,{md:"12",children:Object(O.jsx)(b.cb,{htmlFor:"text-input",children:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a\u0629 (".concat(t+1,")"):"New File (".concat(t+1,") name en")})}),Object(O.jsx)(b.u,{xs:"12",md:"12",children:Object(O.jsx)(b.S,{name:"name_en",required:!0,onChange:function(e){return ae(e,t)},placeholder:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a\u0629 (".concat(t+1,")"):"New File (".concat(t+1,") name en"),value:e.name_en})})]})}),Object(O.jsx)(b.u,{md:"5",lg:"5",xl:"5",children:Object(O.jsxs)(b.K,{row:!0,children:[Object(O.jsx)(b.u,{md:"12",children:Object(O.jsx)(b.cb,{htmlFor:"text-input",children:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (".concat(t+1,")"):"New File (".concat(t+1,") name ar")})}),Object(O.jsx)(b.u,{xs:"12",md:"12",children:Object(O.jsx)(b.S,{name:"name_ar",required:!0,onChange:function(e){return ae(e,t)},placeholder:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (".concat(t+1,")"):"New File (".concat(t+1,") name ar"),value:e.name_ar})})]})}),Object(O.jsx)(b.u,{md:"2",children:Object(O.jsxs)(b.K,{row:!0,children:[Object(O.jsx)(b.u,{md:"12",children:Object(O.jsxs)(b.cb,{htmlFor:"text-input",children:[" ","ar"==g.language?"\u0625\u0632\u0627\u0644\u0629":"Remove"]})}),Object(O.jsx)(b.u,{xs:"12",md:"12",children:Object(O.jsx)(b.f,{color:"danger",type:"button",onClick:function(){var t;t=e.id,D((function(e){return e.filter((function(e){return e.id!==t}))}))},children:Object(O.jsx)("i",{className:"fa fa-trash  "})})})]})})]},e.id)})):null}),Object(O.jsx)(b.u,{md:"12",children:Object(O.jsx)(b.f,{color:"primary",className:"col-md-4",type:"button",onClick:function(){D((function(e){return[].concat(Object(a.a)(e),[{id:(t=1,n=1e4,Math.floor(Math.random()*(n-t+1))+t),name_en:"",name_ar:""}]);var t,n}))},children:"ar"==g.language?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0641\u0627\u062a \u0627\u062e\u0631\u0649":"Add More Files"})})]})}),Object(O.jsx)(b.l,{className:"p-4",children:Object(O.jsxs)(b.wb,{className:"justify-content-center",children:[U&&"object"===typeof U?Object(O.jsx)(b.a,{color:"danger",className:"col-lg-12",children:Object.keys(U).map((function(e,t){return Object(O.jsxs)(u.a.Fragment,{children:[U[e],Object(O.jsx)("br",{})]},t)}))}):null,U&&"string"===typeof U?Object(O.jsxs)(b.a,{color:"danger",className:"col-lg-12",children:[U," "]}):null,M&&Object(O.jsx)(b.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:S,onShowChange:k,children:M}),Object(O.jsx)(b.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(O.jsxs)(b.f,{color:"success",block:!0,type:"submit",children:[p("Save"),"  ",L&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,n(73))},1404:function(e,t,n){},661:function(e,t,n){},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(729);var c=n(705);function r(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=23.fbe800ff.chunk.js.map