{"version":3,"sources":["views/dashboard/Dashboard.js"],"names":["Dashboard","history","useHistory","tokenString","localStorage","getItem","user_roles","userToken","JSON","parse","useState","fetchedData","setfetchedData","fetchedBalance","setfetchedBalance","useEffect","a","console","log","e","fetch","global","apiUrl","method","headers","Authorization","Accept","responsee","json","response","payload","message","removeItem","clear","push","fetchSettings","fetchBalance","xs","sm","md","color","className","balance","currency","to","all_normal_users","global_offers","confirmed_services","unseen_contact_us_requests","purchases"],"mappings":"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","file":"static/js/106.5654cf42.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport {\n  CBadge,\n  CButton,\n  CButtonGroup,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CProgress,\n  CRow,\n  CLink,\n  CCallout\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n\nimport './dashboard.scss'\nimport'../../globalVar'\nconst Dashboard = () => {\n  let history = useHistory();\n  const tokenString = localStorage.getItem(\"token\");\n\n  const user_roles = localStorage.getItem(\"user_roles\");\n  const userToken = JSON.parse(tokenString);\n  const[fetchedData,setfetchedData]=useState('')\n  const[fetchedBalance,setfetchedBalance]=useState('')\n  useEffect(async()=>{\n    console.log(JSON.parse(user_roles))\n    const fetchSettings=async(e)=>{\n  \n  \n    \n    try {\n      const responsee = await fetch(\n        `${global.apiUrl}/dashboard`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \" + userToken,\n                       // \"Content-Type\": \"application/json\",\n                      //'Access-Control-Allow-Origin': 'https://localhost:3000',\n                      // 'Access-Control-Allow-Credentials': 'true',\n            Accept: \"application/json\",\n          },\n  \n      \n        }\n      );\n      const response = await responsee.json();\n      // console.log('response',response);\n      console.log(response.payload);\n    if(response){\n     setfetchedData(response.payload)\n    }\n      if(response.message&&response.message==\"Unauthorized or invalid token!\"){\n      localStorage.removeItem(\"token\");\n      localStorage.clear()\n   \n    history.push(\"/login\");\n      }\n     \n    } catch (err) {\n      console.log(err);\n     \n    }\n  \n    // setLoading(false)\n    \n    \n    }\n  \n    fetchSettings()\n  },[])\n\n  useEffect(async()=>{\n    const fetchBalance=async(e)=>{\n  \n  \n    \n    try {\n      const responsee = await fetch(\n        `${global.apiUrl}/getBalance`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \" + userToken,\n                       // \"Content-Type\": \"application/json\",\n                      //'Access-Control-Allow-Origin': 'https://localhost:3000',\n                      // 'Access-Control-Allow-Credentials': 'true',\n            Accept: \"application/json\",\n          },\n  \n      \n        }\n      );\n      const response = await responsee.json();\n      // console.log('response',response);\n      console.log(response);\n    if(response){\n     setfetchedBalance(response)\n    }\n      if(response.message&&response.message==\"Unauthorized or invalid token!\"){\n      localStorage.removeItem(\"token\");\n      localStorage.clear()\n   \n    history.push(\"/login\");\n      }\n     \n    } catch (err) {\n      console.log(err);\n     \n    }\n  \n    // setLoading(false)\n    \n    \n    }\n  \n    fetchBalance()\n  },[])\n  return (\n    <>\n   {fetchedData&&   <CRow>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"primary\" className=\"text-white text-center\">\n            <CCardBody>\n              <blockquote className=\"card-bodyquote\">\n                <p>Balance</p>\n               <br/>\n                { fetchedBalance&&  <><strong>{fetchedBalance.balance +' '+fetchedBalance.currency}</strong> <br/></>}\n                \n                <footer><CLink className='DlINK' to='/Settings'>Settings</CLink></footer>\n              </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"success\" className=\"text-white text-center\">\n            <CCardBody>\n              <blockquote className=\"card-bodyquote\">\n                <p>Normal Users</p>\n                <br/>\n                { fetchedData&&  <><strong>{fetchedData.all_normal_users +' Users' }</strong> <br/></>}\n               \n                <footer><CLink className='DlINK' to='/users'>Users Management</CLink></footer>\n              </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"info\" className=\"text-white text-center\">\n            <CCardBody>\n              <blockquote className=\"card-bodyquote\">\n              <p>Global Offers</p>\n                <br/>\n                { fetchedData&&  <><strong>{fetchedData.global_offers +' Offers' }</strong> <br/></>}\n               \n                <footer><CLink className='DlINK' to='/Offers'>Offers Management</CLink></footer>\n              </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"warning\" className=\"text-white text-center\">\n            <CCardBody>\n              <blockquote className=\"card-bodyquote\">\n              <p>Confirmed Services</p>\n                <br/>\n                { fetchedData&&  <><strong>{fetchedData.confirmed_services +' Services' }</strong> <br/></>}\n               \n                <footer><CLink className='DlINK' to='/Services'>Services Management</CLink></footer>\n              </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"danger\" className=\"text-white text-center\">\n            <CCardBody>\n              <blockquote className=\"card-bodyquote\">\n              <p>Unseen Contact Us Requests</p>\n                <br/>\n                { fetchedData&&  <><strong>{fetchedData.unseen_contact_us_requests +' Requests' }</strong> <br/></>}\n               \n                <footer><CLink className='DlINK' to='/ContactUs'>Contact Us Requestes Management</CLink></footer>\n                 </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\n          <CCard color=\"primary\" className=\"text-white text-center\">\n            <CCardBody>\n            <blockquote className=\"card-bodyquote\">\n              <p>All Purchases</p>\n                <br/>\n                { fetchedData&&  <><strong>{fetchedData.purchases +' Purchases' }</strong> <br/></>}\n               \n                <footer><CLink className='DlINK' to='/Purchases'>Purchases</CLink></footer>\n                 </blockquote>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>}\n\n    </>\n  )\n}\n\nexport default Dashboard\n"],"sourceRoot":""}