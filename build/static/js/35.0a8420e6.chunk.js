(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[35],{1257:function(e,t,c){"use strict";c.r(t),function(e){var n=c(175),a=c(45),r=c(121),s=c.n(r),l=c(174),i=c(659),j=c(1),o=c.n(j),u=c(658),b=(c(661),c(663),c(1258),c(14)),d=c(1503),O=c(176),m=(c(660),c(17));t.default=function(){var t=Object(d.a)(),c=Object(i.a)(t,2),r=c[0],h=c[1],x=Object(b.g)(),p=Object(j.useState)(10),g=Object(i.a)(p,2),f=g[0],v=g[1],S=Object(j.useContext)(O.a).refreshTokenHandler,k=Object(j.useState)([]),w=Object(i.a)(k,2),y=(w[0],w[1],Object(j.useState)("")),N=Object(i.a)(y,2),_=(N[0],N[1],Object(j.useState)()),A=Object(i.a)(_,2),C=A[0],J=A[1],T=Object(j.useState)(""),F=Object(i.a)(T,2),P=F[0],B=F[1],E=Object(j.useState)(),I=Object(i.a)(E,2),U=I[0],q=I[1],z=Object(j.useState)(""),K=Object(i.a)(z,2),D=K[0],G=K[1],H=localStorage.getItem("token"),L=(JSON.parse(H),Object(j.useState)("")),M=Object(i.a)(L,2),Q=(M[0],M[1],Object(j.useState)("")),R=Object(i.a)(Q,2),V=R[0],W=R[1],X=Object(j.useState)({name_en:"",name_ar:""}),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Z.name_en,te=Z.name_ar,ce=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(t),J(""),q("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(j.useEffect)(Object(l.a)(s.a.mark((function t(){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/offerAndPriceTypes?is_price_type=0"),{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:if(!(l=t.sent).message||"Unauthenticated."!=l.message){t.next=10;break}return t.abrupt("return",S((function(){c(n)})));case 10:l.message&&"Success"==l.message&&B(l.payload),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[]);var ne=function(e){$(Object(a.a)(Object(a.a)({},Z),{},Object(n.a)({},e.target.name,e.target.value))),J(""),q("")},ae=function(){var t=Object(l.a)(s.a.mark((function t(c){var n,a,r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),G(!0),n=JSON.parse(localStorage.getItem("token")),J(""),q(""),a={name:{ar:te,en:ee},is_price_type:1,type_id:V},t.prev=6,t.next=9,fetch("".concat(e.apiUrl,"api/offerTypes"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});case 9:return r=t.sent,t.next=12,r.json();case 12:if(l=t.sent,v(10),"Fail"!==l.message){t.next=19;break}return J(l.error),t.abrupt("return");case 19:if(!l.errors){t.next=23;break}J(l.errors),t.next=25;break;case 23:if(!l.message||"Unauthenticated."!=l.message){t.next=25;break}return t.abrupt("return",S((function(){ae(c)})));case 25:l.message&&"Success"==l.message&&(q("ar"===h.language?"\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u062e\u064a\u0627\u0631 \u062a\u0633\u0639\u064a\u0631 \u0628\u0646\u062c\u0627\u062d":"Pricing Option has been added successfully"),$({name_ar:"",name_en:""}),W("")),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(6),console.log(t.t0);case 31:G(!1);case 32:case"end":return t.stop()}}),t,null,[[6,28]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(m.jsx)(u.w,{children:Object(m.jsxs)(u.j,{className:"",children:[Object(m.jsx)(u.n,{children:Object(m.jsxs)(u.wb,{className:" row-gap-15",children:[Object(m.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(m.jsxs)("strong",{children:["ar"==h.language?"\u0627\u0636\u0627\u0641\u0629 \u062e\u064a\u0627\u0631 \u062a\u0633\u0639\u064a\u0631 \u062c\u062f\u064a\u062f":"Add New Pricing Option","  "]})}),Object(m.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(m.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return x.goBack()},children:r("Back")})})]})}),Object(m.jsx)(u.wb,{children:Object(m.jsx)(u.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(m.jsx)(u.J,{onSubmit:function(e){ae(e)},children:Object(m.jsx)(u.k,{children:Object(m.jsxs)(u.j,{children:[Object(m.jsx)(u.k,{children:Object(m.jsxs)(u.wb,{children:[Object(m.jsxs)(u.u,{md:"12",children:[" ",Object(m.jsx)("strong",{children:"ar"==h.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062e\u064a\u0627\u0631 \u0627\u0644\u062a\u0633\u0639\u064a\u0631":"Pricing Option Information"})]}),Object(m.jsx)(u.u,{md:"6",children:Object(m.jsxs)(u.K,{row:!0,children:[Object(m.jsx)(u.u,{md:"12",children:Object(m.jsxs)(u.cb,{htmlFor:"text-input",children:[" ","ar"==h.language?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0639\u0631\u0636":"Select Offer Type"]})}),Object(m.jsx)(u.u,{xs:"12",md:"12",children:Object(m.jsxs)(u.xb,{custom:!0,name:"category_id",value:V,required:!0,onChange:function(e){return ce(e.target.value)},children:[Object(m.jsxs)("option",{value:"",children:["      ","ar"==h.language?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639":"Select"]}),P.length>0&&P.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["  ",e.name[h.language],"   "]},e.id)}))]})})]})}),Object(m.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(u.K,{row:!0,children:[Object(m.jsx)(u.u,{md:"12",children:Object(m.jsx)(u.cb,{htmlFor:"text-input",children:r("English Name")})}),Object(m.jsx)(u.u,{xs:"12",md:"12",children:Object(m.jsx)(u.S,{name:"name_en",required:!0,onChange:ne,placeholder:r("English Name"),value:Z.name_en})})]})}),Object(m.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(u.K,{row:!0,children:[Object(m.jsx)(u.u,{md:"12",children:Object(m.jsx)(u.cb,{htmlFor:"text-input",children:r("Arabic Name")})}),Object(m.jsx)(u.u,{xs:"12",md:"12",children:Object(m.jsx)(u.S,{name:"name_ar",required:!0,onChange:ne,placeholder:r("Arabic Name"),value:Z.name_ar})})]})})]})}),Object(m.jsx)(u.l,{className:"p-4",children:Object(m.jsxs)(u.wb,{className:"justify-content-center",children:[C&&"object"===typeof C?Object(m.jsx)(u.a,{color:"danger",className:"col-lg-12",children:Object.keys(C).map((function(e,t){return Object(m.jsxs)(o.a.Fragment,{children:[C[e],Object(m.jsx)("br",{})]},t)}))}):null,C&&"string"===typeof C?Object(m.jsxs)(u.a,{color:"danger",className:"col-lg-12",children:[C," "]}):null,U&&Object(m.jsx)(u.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:f,onShowChange:v,children:U}),Object(m.jsx)(u.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(m.jsxs)(u.f,{color:"success",block:!0,type:"submit",children:[r("Save"),D&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1258:function(e,t,c){},661:function(e,t,c){}}]);
//# sourceMappingURL=35.0a8420e6.chunk.js.map