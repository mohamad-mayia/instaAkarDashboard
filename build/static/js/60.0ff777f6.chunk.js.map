{"version":3,"sources":["views/services/storedServices/storedServices.js"],"names":["StoredServices","history","useHistory","useState","visible","setVisible","setTotalPages","fetchedData","setfetchedData","refresh","setRefresh","errorMessage","setErrorMessage","setCollapsed","showCard","succesAdd","setSuccessAdd","loading","setLoading","tokenString","localStorage","getItem","userToken","JSON","parse","userId","pageStatus","setPageStatus","name_en","name_ar","quantity","old_price","new_price","short_description_en","short_description_ar","long_description_en","long_description_ar","upData","setUpData","accordion","setAccordion","types","setTypes","activeType","setActiveType","categories","setCategories","activeCat","setActiveCat","activeService","setActiveService","activeServiceId","setActiveServiceId","url","setUrl","getUnique","array","key","property","item","Array","from","reduce","map","k","has","set","Map","values","useEffect","a","e","fetch","global","apiUrl","method","headers","Authorization","Accept","responsee","json","response","console","log","temp","payload","service","index","push","id","original_id","original_name","original_type","original_category","original_rate","original_min","original_max","original_refill","original_dripfeed","avatar","confirmed","active","status","actions","Math","ceil","length","filter","message","removeItem","clear","fetchSettings","handleAcivate","document","getElementById","style","opacity","handleData","target","name","value","handleUpdateService","preventDefault","data","FormData","append","pickedImg","body","setPickedImg","errors","handleImg","files","handleDeleteSercice","handleSetUpdate","className","md","lg","xl","custom","onChange","handleUrlFilter","handleCat","handleType","items","fields","bordered","striped","hover","sorter","itemsPerPage","pagination","columnFilter","scopedSlots","color","onClick","class","xs","sm","in","show","src","onSubmit","row","htmlFor","required","placeholder","defaultValue","rows","type","col","accept","variant","URL","createObjectURL","onShowChange","Object","keys","i","block"],"mappings":"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","file":"static/js/60.0ff777f6.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCardFooter,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CPagination,\n  CDataTable,\n  CSelect,\n  CFormText,\nCTextarea,\nCFormGroup,\nCLabel,\nCInputFile,\n  CLink,\n  CFade,\n  CCollapse,\n  CBadge,\n  CRow\n} from '@coreui/react'\nimport 'react-phone-number-input/style.css'\nimport PhoneInput from 'react-phone-number-input'\nimport CIcon from '@coreui/icons-react'\nimport './storedServices.scss'\n\nimport {CAlert} from '@coreui/react'\nimport { useHistory } from \"react-router-dom\";\n  \nimport '../../../globalVar'\n// import MIN_SAFE_INTEGER from 'core-js/fn/number/min-safe-integer'\nconst StoredServices = () => {\n  let history = useHistory();\n  const [visible, setVisible] = useState(10)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [totalPages, setTotalPages] = useState()\n  const[fetchedData,setfetchedData]=useState([])\n  const[refresh,setRefresh]=useState('')\n  const [errorMessage, setErrorMessage] = useState();\n  const [collapsed, setCollapsed] = useState(true)\n  const [showCard, setShowCard] = useState(true)\n  const[succesAdd,setSuccessAdd]=useState()\n  const[loading,setLoading]=useState('')\n  const tokenString = localStorage.getItem(\"token\");\n  const userToken = JSON.parse(tokenString);\n  const userId = localStorage.getItem(\"user_id\");\n  const user_id = JSON.parse(userId);\n  const [pageStatus,setPageStatus]=useState(0)\nconst [upData,setUpData]=useState({\n  name_en:'',\nname_ar:'',\nquantity:'',\nold_price:'',\nnew_price:'',\nshort_description_en:'',\nshort_description_ar:'',\nlong_description_en:'',\nlong_description_ar:'',\n})\nconst{name_en,\n  name_ar,\n  quantity,\n  old_price,\n  new_price,\n  short_description_en,\n  short_description_ar,\n  long_description_en,\n  long_description_ar,\n\n}=upData;\nconst [accordion, setAccordion] = useState()\n\nconst [types,setTypes]=useState([])\nconst [activeType,setActiveType]=useState('0')\nconst [categories,setCategories]=useState([])\nconst [activeCat,setActiveCat]=useState('0')\nconst [activeService,setActiveService]=useState('')\nconst [activeServiceId,setActiveServiceId]=useState('')\nconst [url,setUrl]=useState(`services/searchServices`)\nfunction getUnique(array, key) {\n  if (typeof key !== 'function') {\n    const property = key;\n    key = function(item) { return item[property]; };\n  }\n  return Array.from(array.reduce(function(map, item) {\n    const k = key(item);\n    if (!map.has(k)) map.set(k, item);\n    return map;\n  }, new Map()).values());\n}\n\n\n\nuseEffect(async()=>{\n  const fetchSettings=async(e)=>{\n\n\n  \n  try {\n    const responsee = await fetch(\n      `${global.apiUrl}/${url}`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \" + userToken,\n\n          Accept: \"application/json\",\n        },\n\n    \n      }\n    );\n    const response = await responsee.json();\n    \n    console.log(response);\n\n    if(response){\n      let temp=[]\n     \n     await response.payload.map((service,index)=>{\n      \n      temp.push({\n       \n        index:index+1,\n        id:service.id,\n        original_id: service.original_id,\n        original_name: service.original_name,\n        original_type: service.original_type,\n        original_category: service.original_category,\n        original_rate: service.original_rate,\n        original_min:service.original_min,\n        original_max:service.original_max,\n        original_refill:service.original_refill,\n        original_dripfeed:service.original_dripfeed,\n        name_en:service.name_en,\n        name_ar:service.name_ar,\n        quantity: service.quantity,\n        old_price: service.old_price,\n        new_price: service.new_price,\n        short_description_en: service.short_description_en,\n        short_description_ar: service.short_description_ar,\n        long_description_en:service.long_description_en,\n        long_description_ar:service.long_description_ar,\n        avatar:service.avatar,\n        confirmed:service.confirmed,\n        active:service.active,\n        status:'',\n        actions:''\n      })\n  \n     })\n     await setTotalPages(Math.ceil(response.length/12))\n        setfetchedData(temp)\n        setTypes(getUnique(response.payload, 'original_type'))\n        setCategories(getUnique(response.payload, 'original_category'))\n        if(activeServiceId){\n          setActiveService(response.payload.filter(item=>item.id==activeServiceId)&&response.payload.filter(item=>item.id==activeServiceId)[0])\n        }\n     \n     }\n\n  // if(response){\n  //  setfetchedData(response)\n  //  setTotalPages(Math.ceil(response.length/12))\n  //  console.log(Math.ceil(response.length/12))\n  // }\n    if(response.message&&response.message==\"Unauthorized or invalid token!\"){\n    localStorage.removeItem(\"token\");\n    localStorage.clear()\n \n  history.push(\"/login\");\n    }\n   \n  } catch (err) {\n    console.log(err);\n   \n  }\n\n  // setLoading(false)\n  \n  \n  }\n\n  fetchSettings()\n},[url,refresh])\n\n// console.log('procceed',fetchedData);\n\nconst handleUrlFilter=(e)=>{\n  if(e.target.value=='0'){setUrl(`services/searchServices`)}\n  else if(e.target.value=='active'){setUrl(`services/searchServices?active=1`)}\n  else if(e.target.value=='confirmeed'){setUrl(`services/searchServices?confirmed=1`)}\n  else if(e.target.value=='notActive'){setUrl(`services/searchServices?active=0`)}\n  else if(e.target.value=='notConfirmed'){setUrl(`services/searchServices?confirmed=0`)}\n  else {setUrl(`services/searchServices`)}\n  \n}\nconst handleAcivate=async(id)=>{\n document.getElementById('root').style.opacity=0.75;\n  try {\n    const responsee = await fetch(\n      `${global.apiUrl}/services/activateService?service_id=${id}`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \" + userToken,\n\n          Accept: \"application/json\",\n        },\n\n    \n      }\n    );\n    const response = await responsee.json();\n    \n    console.log(response);\n\n    if(response.message){\n     setRefresh(!refresh)\n document.getElementById('root').style.opacity=1;\n   \n     }\n\n  // if(response){\n  //  setfetchedData(response)\n  //  setTotalPages(Math.ceil(response.length/12))\n  //  console.log(Math.ceil(response.length/12))\n  // }\n    if(response.message&&response.message==\"Unauthorized or invalid token!\"){\n document.getElementById('root').style.opacity=1;\n\n    localStorage.removeItem(\"token\");\n    localStorage.clear()\n \n  history.push(\"/login\");\n    }\n   \n  } catch (err) {\n    console.log(err);\n   \n  }\n  document.getElementById('root').style.opacity=1;\n\n}\n\nconst handleData=(e)=>{\n  setUpData({...upData,[e.target.name]:e.target.value})\n\n  setErrorMessage('')\n  setSuccessAdd('')\n}\n\nconst handleCat=(e)=>{\n setActiveCat(e.target.value)\n setActiveType('0')\n  // setErrorMessage('')\n  // setSuccessAdd('')\n}\nconst handleType=(e)=>{\n  setActiveType(e.target.value)\n  setActiveCat('0')\n   // setErrorMessage('')\n   // setSuccessAdd('')\n }\n \n\n\nconst handleUpdateService=async(e)=>{\n  e.preventDefault()\n  setLoading(true)\n  \n  setErrorMessage('')\n  setSuccessAdd('')\n\n  const data = new FormData();\n  name_en&& data.append(\"name_en\", name_en);\n  name_ar&& data.append(\"name_ar\", name_ar);\n  quantity&& data.append(\"quantity\", quantity);\n  old_price&& data.append(\"old_price\", old_price);\n  data.append(\"new_price\", new_price);\n  short_description_en&& data.append(\"short_description_en\", short_description_en);\n  short_description_ar&& data.append(\"short_description_ar\", short_description_ar);\n  long_description_en&& data.append(\"long_description_en\", long_description_en);\n  long_description_ar&& data.append(\"long_description_ar\", long_description_ar);\n activeServiceId&& data.append(\"service_id\",activeServiceId);\n  pickedImg&& data.append(\"avatar\", pickedImg);\n\n\n\n\n\ntry {\n  const responsee = await fetch(\n    `${global.apiUrl}/services/updateService`,\n    {\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + userToken,\n                  //  \"Content-Type\": \"application/json\",\n                  //'Access-Control-Allow-Origin': 'https://localhost:3000',\n                  // 'Access-Control-Allow-Credentials': 'true',\n        Accept: \"application/json\",\n      },\n      body:data\n      ,\n  \n    }\n  );\n  const response = await responsee.json();\n  console.log('response',response);\n  console.log(response);\n  setVisible(10)\n  if(response.message&&response.message==\"Service information updated successfully!\"){\n    await  setVisible(6)\n    setSuccessAdd(\"Service information updated successfully!\")\n\n setRefresh(!refresh)\n setUpData({\n  name_en:'',\nname_ar:'',\nquantity:'',\nold_price:'',\nnew_price:'',\nshort_description_en:'',\nshort_description_ar:'',\nlong_description_en:'',\nlong_description_ar:'',\n})\nsetPickedImg('')\n\n setVisible(6)\n  }\n  else{\n   \n     setVisible(10)\n     setErrorMessage(response.errors)\n\n    \n    }\n  \n \n} catch (err) {\n  console.log(err);\n \n}\n\nsetLoading(false)\n}\nconst [pickedImg,setPickedImg]=useState('')\nconst handleImg=(e)=>{\n  if(e.target.files[0])\n { setPickedImg(e.target.files[0])}\n}\n  const checkUnCheck=async(e,index)=>{\n    setErrorMessage('')\n      await setfetchedData(\n        fetchedData.map(item => \n            item.index === index \n            ? \n            {...item, checked :e.target.checked} \n            \n            : item \n    ))\n\n  }\n  \n  const handleDeleteSercice=async(id)=>{\n document.getElementById('root').style.opacity=0.75;\n  try {\n    const responsee = await fetch(\n      `${global.apiUrl}/services/deleteServices?service_ids[0]=${id}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          Authorization: \"Bearer \" + userToken,\n\n          Accept: \"application/json\",\n        },\n\n    \n      }\n    );\n    const response = await responsee.json();\n    \n    console.log(response);\n\n    if(response.message=='Services deleted successfully!'){\n     setRefresh(!refresh)\n document.getElementById('root').style.opacity=1;\n setUpData({\n  name_en:'',\nname_ar:'',\nquantity:'',\nold_price:'',\nnew_price:'',\nshort_description_en:'',\nshort_description_ar:'',\nlong_description_en:'',\nlong_description_ar:'',\n})\nsetPickedImg('')\nsetActiveService('')\nsetActiveServiceId('')\nsetPageStatus(0)\n   \n     }\n\n    if(response.message&&response.message==\"Unauthorized or invalid token!\"){\n document.getElementById('root').style.opacity=1;\n\n    localStorage.removeItem(\"token\");\n    localStorage.clear()\n \n  history.push(\"/login\");\n    }\n   \n  } catch (err) {\n    console.log(err);\n   \n  }\n  document.getElementById('root').style.opacity=1;\n\n}\n\n  \n  const setFilter=()=>{\n  if ( activeCat=='0'&&activeType=='0'){\n    return  fetchedData\n  }\n  else if(activeCat=='0'&&activeType!=='0'){\n    return fetchedData.filter(item=>item.original_type==activeType)\n  }\n  else if(activeCat!=='0'&&activeType=='0'){\n    return fetchedData.filter(item=>item.original_category==activeCat)\n  }\n   else{\n    return  fetchedData\n   }\n    \n\n  }\n  \n  const handleSetUpdate=(item)=>{\n    setPageStatus(1)\n    setActiveService(item)\n    setActiveServiceId(item.id) \n    console.log(item)\n    setCollapsed(false)\n    setAccordion()\n    setPickedImg('')\n  }\n  \n  console.log(errorMessage)\n  \n  const fields = ['checked','index','id','name','type','rate','min','max','dripfeed', 'refill', 'category']\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center register-cont\">\n   \n      <CContainer>\n\n     {pageStatus==0&&<>\n      {fetchedData&&   <CCard>\n          <CCardHeader>\n          <CRow className=\" row-gap-15 \">\n          \n            <CCol md=\"12\" lg=\"12\" xl=\"12\" className=\"justify-content-center align-self-center align-items-center place-items-center text-capitalize\">\n            Stored Services\n            </CCol>\n        \n       \n          <CCol md=\"4\" lg=\"4\" xl=\"4\" >\n            {categories.length>0&&\n             <CSelect custom name=\"select\"   onChange={(e)=>handleUrlFilter(e)}>\n               <option value='0' >Filter (Defaul All Services) </option>\n               <option value='active' >Active</option>\n                <option value='confirmeed' >Confirmed</option>\n                <option value='notActive' >Not Active</option>\n                <option value='notConfirmed' >Not Confirmed</option>\n            </CSelect>\n            }\n    \n          </CCol>\n          <CCol md=\"4\" lg=\"4\" xl=\"4\" >\n            {categories.length>0&&\n             <CSelect custom name=\"select\" id=\"select\" value={activeCat} onChange={(e)=>handleCat(e)}>\n               <option value='0' >All Categories</option>\n         {   categories.map((item)=>{\n              return(\n                <option key={item.original_category} value={item.original_category}>{item.original_category}</option>\n              )\n            })}\n            \n            </CSelect>\n            }\n\n          </CCol>\n          <CCol md=\"4\" lg=\"4\" xl=\"4\" >\n         \n       {types.length>0&&\n             <CSelect custom name=\"select\" value={activeType} onChange={(e)=>handleType(e)}>\n               <option value='0' >All Types</option>\n         {   types.map((item)=>{\n              return(\n                <option key={item.original_type} value={item.original_type}>{item.original_type}</option>\n              )\n            })}\n            \n            </CSelect>\n            }\n\n          </CCol>\n            </CRow>\n          </CCardHeader>\n          <CCardBody>\n          <CRow>\n \n    </CRow>  \n    \n\n\n          <CRow className='servicesTabel'>\n   { fetchedData.length>0&&      <CDataTable\n              items={\n                setFilter()\n           \n                }\n              fields={['index','id','original_name','original_type', 'original_category','status','actions']}\n              bordered\n             striped \n             hover\n             sorter\n              itemsPerPage={12}\n              pagination\n              columnFilter\n              scopedSlots = {{\n                'status':\n                  (item)=>(\n                    <td>\n\n                      {item.active&&item.confirmed?\n                   \n                      <> <CBadge className=\"\" color=\"primary\">Active</CBadge> <br></br><CBadge className=\"\" color=\"primary\">Confirmed</CBadge>    </>:null}\n                      {!item.active&&!item.confirmed?<><CBadge className=\"\" color=\"danger\">Not Active</CBadge> <br></br><CBadge className=\"\" color=\"danger\">Not Confirmed</CBadge>   </>:null}\n                      {item.active&&!item.confirmed?<><CBadge className=\"\" color=\"primary\">Active</CBadge>  <br></br><CBadge className=\"\" color=\"primary\">Confirmed</CBadge>   </>:null}\n                      {!item.active&&item.confirmed?<><CBadge className=\"\" color=\"danger\">Not Active</CBadge><br></br><CBadge className=\"\" color=\"primary\">Confirmed</CBadge>    </>:null}\n                    </td>\n                  ),\n                  'actions':\n                  (item)=>(\n                    <td>\n                     \n                     {item.active&&item.confirmed?<> <CBadge className=\"p-1 m-1 badg-click\" color=\"dark\" onClick={()=>handleAcivate(item.id)}>Deactivate</CBadge>\n                                                   <br/> <CBadge className=\"p-1 m-1 badg-click\" color=\"success\" onClick={()=>handleSetUpdate(item)}>Update/Show</CBadge> \n                                                      </>:null}\n                     {!item.active&&item.confirmed?<> <CBadge className=\"p-1 m-1 badg-click\" color=\"success\" onClick={()=>handleAcivate(item.id)} >Activate</CBadge>\n                                                     <br/> <CBadge className=\"p-1  m-1 badg-click\" color=\"success\" onClick={()=>handleSetUpdate(item)}>Update/Show</CBadge> \n                                                       </>:null}\n                     {!item.active&&!item.confirmed?<> <CBadge className=\"p-1 m-1 badg-click\" color=\"info\" onClick={()=>handleSetUpdate(item)}>Confirme/Show</CBadge> </>:null}\n                    </td>\n                  )\n                \n                \n                }\n                \n                }\n            />\n}\n\n\n          </CRow>\n          </CCardBody>\n        </CCard>\n       \n}\n     </>}\n    \n\n\n{fetchedData&&pageStatus==1&&activeService&&<>\n\n\n         {/* mx-4 */}\n            <CCard className=\"\">\n\n        \n\n            <CCardHeader>\n          <CRow className=\" row-gap-15\">\n            \n            <CCol md=\"6\" lg=\"6\" xl=\"6\" className=\"justify-content-center align-self-center align-items-center place-items-center text-capitalize\">\n           <strong>{activeService.confirmed?'Update Service':'Confirm Service'}</strong>\n            </CCol>\n          \n            <CCol md=\"6\" lg=\"6\" xl=\"6\" className='row-gap-15 col-gap-15'>\n            <CButton color=\"danger\"  className='col-lg-3  col-md-3 col-sm-6 col-xs-6 updatebtn'\n           onClick={()=>handleDeleteSercice(activeService.id)} ><i class= \"fa fa-trash\" aria-hidden= \"true\" ></i>\n                  </CButton>\n            <CButton color=\"success\"  className='col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn'\n           onClick={()=>setPageStatus(0)} >Back\n                  </CButton>\n               \n            </CCol>\n            </CRow>\n          </CCardHeader>\n\n              <CCardBody className=\"p-4 ps-0\">\n                <CRow>\n                <CCol xs=\"12\" sm=\"12\" md=\"12\" className='p-0'>\n          <CFade in={showCard}>\n            <CCard>\n              <CCardHeader>\n                {activeService.original_name}\n                <div className=\"card-header-actions\">\n              \n                  <CLink className=\"card-header-action\" \n                                   onClick={() => setAccordion(accordion ===0 ? null :0)}\n                  // onClick={() => setCollapsed(!collapsed)}\n                  >\n                   \n                  {accordion ===0?'Hide Details':'Show Details'} <CIcon name={accordion ===0 ? 'cil-chevron-bottom':'cil-chevron-top'} />\n                  </CLink>\n              \n                </div>\n              </CCardHeader>\n              <CCollapse\n                             show={accordion === 0}\n              // show={collapsed}\n              >\n                <CCardBody>\n              <CRow className='p-0'>\n             <CCol className='card p-1' md='12' >\n             \n  <img className=\"card-img-top\" src={activeService.avatar} />\n \n  <ul className=\"list-group list-group-flush\">\n    \n    <li className=\"list-group-item\"><strong>Original Name:{' '}</strong><br/> {activeService.original_name}</li>\n    <li className=\"list-group-item\"><strong>Id : {' '}</strong>{activeService.id}</li>\n    \n    <li className=\"list-group-item\"><strong>Original Id : {' '}</strong>{activeService.original_id}</li>\n    <li className=\"list-group-item\"><strong>Name En: {' '}</strong><br/>{activeService.name_en?activeService.name_en:'Need Confirme'}</li>\n    <li className=\"list-group-item arabic-align\"><strong>اسم عربي :{' '}</strong><br/>{activeService.name_ar?activeService.name_ar:'Need Confirme'}</li>\n    <li className=\"list-group-item\"><strong>Original Type : {' '}</strong>{activeService.original_type?activeService.original_type:'Need Confirme'}</li>\n    <li className=\"list-group-item\"><strong>Original Category : {' '}</strong><br/>{activeService.original_category?activeService.original_category:'Need Confirme'}</li>\n\n    <li className=\"list-group-item\"><strong>Original MAX : {' '}</strong>{activeService.original_max}</li>\n    <li className=\"list-group-item\"><strong>Original MIN : {' '}</strong>{activeService.original_min}</li>\n    <li className=\"list-group-item\"><strong>Original Dripfeed : {' '}</strong>{activeService.original_dripfeed}</li>\n   \n    <li className=\"list-group-item\"><strong>Original Refill : {' '}</strong>{activeService.original_refill}</li>\n    <li className=\"list-group-item\"><strong>Old Price: {' '}</strong>{activeService.old_price?activeService.old_price:'Need Comfirme'}</li>\n    \n    <li className=\"list-group-item\"><strong>New Price : {' '}</strong>{activeService.new_price?activeService.new_price:'-'}</li>\n    <li className=\"list-group-item\"><strong>Original Rate : {' '}</strong>{activeService.original_rate}</li>\n    <li className=\"list-group-item\"><strong>Quantity : {' '}</strong>{activeService.quantity?activeService.quantity:'Need Confirme'}</li>\n  \n\n    <li className=\"list-group-item\"><strong>Long Description En : {' '}<br/></strong>{activeService.long_description_en?activeService.long_description_en:'Need Confirme'}</li>\n    \n    <li className=\"list-group-item\"><strong>Short Description En: {' '}</strong><br/>{activeService.short_description_en?activeService.short_description_en:'Need Confirme'}</li>\n \n    <li className=\"list-group-item arabic-align\"><strong>وصف قصير عربي :{' '}</strong><br/>{activeService.short_description_ar?activeService.short_description_ar:'Need Confirme'}</li>\n    <li className=\"list-group-item arabic-align\"><strong>وصف طويل عربي :{' '}</strong><br/>{activeService.long_description_ar?activeService.long_description_ar:'Need Confirme'}</li>\n  \n\n  </ul>\n  \n\n             </CCol>\n             \n\n              </CRow>\n                </CCardBody>\n              </CCollapse>\n            </CCard>\n          </CFade>\n        </CCol>\n                </CRow>\n                <CRow>\n                <CCol xs=\"12\" sm=\"12\" md=\"12\" className='p-0'>\n          <CFade in={showCard}>\n            <CCard>\n              <CCardHeader   onClick={() => setAccordion(accordion ===1 ? null :1)}>\n              {activeService.confirmed==1?\n                  <> Update Form\n                  </>: <> Confirmation Form\n                  </>}\n              \n                <div className=\"card-header-actions\">\n              \n                  <CLink className=\"card-header-action\"\n                  \n                  onClick={() => setAccordion(accordion ===1 ? null :1)}\n                  \n                  // onClick={() => setCollapsed(!collapsed)}\n                  \n                  >\n                  {activeService.confirmed==1?\n                  <> {accordion ===1?'Hide Update Form':'Show Update Form'}\n                  <CIcon name={accordion ===1 ? 'cil-chevron-bottom':'cil-chevron-top'} /></>:null}\n                   \n                  {activeService.confirmed==0?\n                  <> {accordion ===1?'Hide Confirme Form':'Show Confirme Form'}\n                  <CIcon name={accordion ===1 ? 'cil-chevron-bottom':'cil-chevron-top'} /></>:null}\n\n\n                  </CLink>\n              \n                </div>\n              </CCardHeader>\n              <CCollapse\n              //  show={collapsed}\n               show={accordion === 1}\n               >\n                 <CForm onSubmit={(e)=>{handleUpdateService(e)}}>\n                <CCardBody>\n            \n            \n             <CRow className=\"justify-content-center\">\n              <CCol md=\"12\" lg=\"12\" xl=\"12\">\n               \n              <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"text-input\">English Name</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    {activeService.confirmed==0?\n                    <CInput name=\"name_en\"\n                   required\n                   onChange={handleData}\n                    placeholder=\"Englsih Name\" defaultValue={activeService.name_en} />:\n                    <CInput name=\"name_en\"\n                   onChange={handleData}\n                     placeholder=\"Englsih Name\" defaultValue={activeService.name_en} />\n                    }\n                  </CCol>\n                </CFormGroup>\n               \n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"text-input\">Arabic Name</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n\n                    {activeService.confirmed==0?\n                      <CInput name=\"name_ar\" required\n                   onChange={handleData}\n\n                      placeholder=\"Arabic Name\" defaultValue={activeService.name_ar} />\n                    :\n                    <CInput name=\"name_ar\" \n                   onChange={handleData}\n\n                    placeholder=\"Arabic Name\" defaultValue={activeService.name_ar} />\n                    }\n                  \n                  </CCol>\n                </CFormGroup>\n\n                  \n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"text-input\">English Short Description</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n\n                    {activeService.confirmed==0?\n                      <CTextarea name=\"short_description_en\" required  rows=\"4\"\n                   onChange={handleData}\n\n                      placeholder=\"English Short Description\" defaultValue={activeService.short_description_en} />\n                    :\n                    <CTextarea name=\"short_description_en\"  rows=\"4\"\n                   onChange={handleData}\n\n                    placeholder=\"English Short Description\" defaultValue={activeService.short_description_en} />\n                    }\n                  \n                  </CCol>\n                </CFormGroup>\n\n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"text-input\">Arabic Short Description</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n\n                      <CTextarea name=\"short_description_ar\" required  rows=\"4\"\n                      onChange={handleData}\n                    placeholder=\"Arabic Short Description\" defaultValue={activeService.short_description_ar} />\n                  \n                  </CCol>\n                </CFormGroup>\n            \n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"textarea-input\">English Long Description</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                  <CTextarea name=\"long_description_en\" required  rows=\"6\"\n                   onChange={handleData}\n\n                      placeholder=\"English Long Description\" defaultValue={activeService.long_description_en} />\n                  \n                  </CCol>\n                </CFormGroup>\n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"textarea-input\">Arabic Long Description</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                  <CTextarea name=\"long_description_ar\" required  rows=\"6\"\n                   onChange={handleData}\n\n                      placeholder=\"Arabic Long Description\" defaultValue={activeService.long_description_ar} />\n                  \n                  </CCol>\n                </CFormGroup>\n                \n                 </CCol>\n          <CCol md=\"4\" lg=\"4\" xl=\"4\">\n                \n          <CFormGroup row>\n                  <CCol md=\"12\">\n                    <CLabel htmlFor=\"text-input\">Price</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"12\">\n                    <CInput id=\"text-input\" \n                     required\n                     onChange={handleData}\n                     type='number'\n                      name=\"old_price\" placeholder=\"Price\" defaultValue={activeService.old_price} />\n                   \n                  </CCol>\n                </CFormGroup>\n             \n\n           \n                  </CCol>\n                  <CCol md=\"4\" lg=\"4\" xl=\"4\">\n                \n                <CFormGroup row>\n                        <CCol md=\"12\">\n                          <CLabel htmlFor=\"text-input\">New Price</CLabel>\n                        </CCol>\n                        <CCol xs=\"12\" md=\"12\">\n                          <CInput id=\"text-input\"\n                             onChange={handleData}\n                             type='number'\n                              name=\"new_price\" placeholder=\"New Price\" defaultValue={activeService.new_price} />\n                        \n                        </CCol>\n                      </CFormGroup>\n                   \n      \n                 \n                        </CCol>      <CCol md=\"4\" lg=\"4\" xl=\"4\">\n                \n                <CFormGroup row>\n                        <CCol md=\"12\">\n                          <CLabel htmlFor=\"text-input\">Quantity</CLabel>\n                        </CCol>\n                        <CCol xs=\"12\" md=\"12\">\n                          <CInput \n                        onChange={handleData}\n                          type='number'\n                          required\n                          id=\"text-input\" name=\"quantity\"\n                          \n                          placeholder={`quantity (min: ${activeService.original_min}) , (max:${activeService.original_max})`}\n                       \n                          defaultValue={activeService.quantity} />\n                      \n                        </CCol>\n                      </CFormGroup>\n                   \n      \n                 \n                        </CCol>\n                        <CCol md='6'>       <CFormGroup row>\n                  <CLabel col md={12}>Change Service Image</CLabel>\n                  <CCol xs=\"12\" md=\"12\">\n                    {activeService.confirmed==0?\n                    <CInputFile accept=\"image/*\" required custom id=\"custom-file-input\" onChange={(e)=>{handleImg(e)}}  />\n                    :\n                    <CInputFile accept=\"image/*\" custom id=\"custom-file-input\" onChange={(e)=>{handleImg(e)}}  />\n\n                  }\n                    <CLabel htmlFor=\"custom-file-input\" variant=\"custom-file\">\n                     {pickedImg?pickedImg.name:'Choose file...'}\n                      \n                    </CLabel>\n                  </CCol>\n                </CFormGroup></CCol>\n                 <CCol md='6'>\n                   {pickedImg?<img className=\"card-img-top\" src={URL.createObjectURL(pickedImg)}></img>:\n                   <img className=\"card-img-top\" src={activeService.avatar}></img>}\n                 </CCol>\n                 \n                 </CRow> \n               \n            \n            \n\n\n\n                      \n          \n          \n                </CCardBody>\n                <CCardFooter className=\"p-4\">\n                <CRow className=\"justify-content-center\">\n         \n                   { errorMessage&& \n                   <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\n                   color=\"danger\"\n                   // closeButton\n                   show={visible}\n                   // closeButton\n                   onShowChange={setVisible}\n              > \n           \n               {     Object.keys(errorMessage).map((item, i) => (\n              \n         <>{errorMessage[item]}<br/></>  \n            \n                      \n                \n          ))}\n          </CAlert>\n          \n          }\n          \n              \n              \n              \n                { succesAdd&& \n                \n                \n                <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\n                color=\"success\"\n                show={visible}\n                // closeButton\n                onShowChange={setVisible}\n                // closeButton\n              >\n            {succesAdd}\n              </CAlert>\n              \n              \n              }\n            \n                  <CCol  md=\"6\" lg=\"6\" xl=\"6\" xs=\"12\" sm=\"12\" >\n               {   <CButton color=\"success\" block type='submit'>{activeService.confirmed?'Update':'Confirm'}\n                  {loading&&<>{' '}<i className=\"fa fa-spinner fa-spin\" ></i></>} </CButton>}\n                  </CCol>\n                \n                </CRow>\n              </CCardFooter>\n              </CForm>\n              </CCollapse>\n            </CCard>\n          </CFade>\n        </CCol>\n                </CRow>\n\n                  \n              </CCardBody>\n   \n             \n              \n\n\n            </CCard>\n       \n       \n\n\n\n</>}\n    \n\n\n\n\n\n\n     \n      </CContainer>\n    </div>\n  )\n}\n\nexport default StoredServices\n"],"sourceRoot":""}