(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[92],{1237:function(e,t,n){"use strict";n.r(t),function(e){var c=n(121),a=n.n(c),r=n(174),s=n(659),o=n(1),l=n.n(o),u=n(14),i=n(658),j=(n(660),n(1238),n(176)),b=n(1503),p=n(17);t.default=function(){var t=Object(u.g)(),n=Object(b.a)(),c=Object(s.a)(n,2),d=c[0],g=c[1],O=Object(o.useContext)(j.a).refreshTokenHandler,h=Object(o.useState)(!1),m=Object(s.a)(h,2),f=m[0],x=m[1],y=Object(o.useState)(""),k=Object(s.a)(y,2),S=k[0],v=k[1],w=Object(o.useState)([]),N=Object(s.a)(w,2),T=N[0],A=N[1],C=Object(o.useState)(""),E=Object(s.a)(C,2),P=E[0],_=E[1],B=Object(o.useState)(!1),I=Object(s.a)(B,2),U=I[0],J=I[1],z=Object(o.useState)(),D=Object(s.a)(z,2),F=D[0],G=D[1],H=Object(o.useState)(1),K=Object(s.a)(H,2),L=(K[0],K[1],Object(o.useState)()),q=Object(s.a)(L,2),M=(q[0],q[1]),Q=Object(o.useState)(""),R=Object(s.a)(Q,2),V=(R[0],R[1],Object(o.useState)(0)),W=Object(s.a)(V,2),X=W[0],Y=(W[1],localStorage.getItem("token")),Z=(JSON.parse(Y),Object(o.useState)(10)),$=Object(s.a)(Z,2),ee=($[0],$[1]);Object(o.useEffect)(Object(r.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=function(){var t=Object(r.a)(a.a.mark((function t(c){var r,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/propertyTypes"),{method:"GET",headers:{Authorization:"Bearer "+r,Accept:"application/json"}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(o=t.sent).message||"Unauthenticated."!=o.message){t.next=10;break}return t.abrupt("return",O((function(){n(c)})));case 10:o.message&&"Success"==o.message&&(_(o.payload),S&&A(o.payload.find((function(e){return e.id==S})).sub_types)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[U]);var te=Object(o.useState)(""),ne=Object(s.a)(te,2),ce=ne[0],ae=ne[1],re=function(){var t=Object(r.a)(a.a.mark((function t(){var n,c,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(""),M(""),document.getElementById("root").style.opacity=.75,n=JSON.parse(localStorage.getItem("token")),t.prev=4,t.next=7,fetch("".concat(e.apiUrl,"api/propertyTypes/").concat(ce.id),{method:"DELETE",headers:{Authorization:"Bearer "+n,Accept:"application/json"}});case 7:return c=t.sent,t.next=10,c.json();case 10:if(r=t.sent,ee(10),"Fail"!==r.message){t.next=15;break}return G(r.error),t.abrupt("return");case 15:if(r.errors&&G(r.errors),!r.message||"Unauthenticated."!==r.message){t.next=18;break}return t.abrupt("return",O((function(){re()})));case 18:r.message&&"Success"===r.message&&(x(!1),document.getElementById("root").style.opacity=1,J(!U)),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(4),console.log(t.t0);case 24:document.getElementById("root").style.opacity=1;case 25:case"end":return t.stop()}}),t,null,[[4,21]])})));return function(){return t.apply(this,arguments)}}(),se=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),t?(n=P.find((function(e){return e.id==t})).sub_types,A(n)):A([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(i.wb,{children:[0==X&&Object(p.jsx)(i.u,{xl:12,children:Object(p.jsxs)(i.j,{children:[Object(p.jsx)(i.n,{children:Object(p.jsxs)(i.wb,{className:" row-gap-15",children:[Object(p.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"===g.language?"\u0627\u0644\u0627\u0646\u0648\u0627\u0639 \u0627\u0644\u0641\u0631\u0639\u064a\u0629":"Sub property types"}),Object(p.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(p.jsx)(i.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/PropertyTypes/AddNewSubPropertyType")},children:"ar"===g.language?"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0641\u0631\u0639\u064a \u062c\u062f\u064a\u062f":"Add New Sub property type"})}),Object(p.jsx)(i.u,{md:"5",children:Object(p.jsxs)(i.K,{row:!0,children:[Object(p.jsx)(i.u,{md:"12",children:Object(p.jsxs)(i.cb,{htmlFor:"text-input",children:["   ","ar"==g.language?"\u0627\u0644\u0646\u0648\u0639":"Property Type"]})}),Object(p.jsx)(i.u,{xs:"12",md:"12",children:Object(p.jsxs)(i.xb,{custom:!0,name:"category_id",value:S,onChange:function(e){return se(e.target.value)},children:[Object(p.jsxs)("option",{value:"",children:["  ","ar"==g.language?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639":"Select Property Type"]}),P.length>0&&P.map((function(e){return Object(p.jsxs)("option",{value:e.id,children:["  ",e.name[g.language],"   "]},e.id)}))]})})]})})]})}),Object(p.jsxs)(i.k,{className:"usersTabel",children:[!S&&Object(p.jsx)(i.wb,{children:Object(p.jsx)(i.u,{md:"12",children:Object(p.jsx)(i.a,{className:"col-lg-12 ",color:"warning",children:"ar"==g.language?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0644\u0639\u0631\u0636 \u0627\u0644\u0627\u0646\u0648\u0627\u0639 \u0627\u0644\u0641\u0631\u0639\u064a\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0647":"Select a Property Type to view its Sub property types"})})}),T&&S&&Object(p.jsx)(i.y,{items:T,fields:["id",{label:"ar"===g.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name",key:"name_ar"},{label:"ar"===g.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name",key:"name_en"},{label:"ar"===g.language?"\u0639\u0645\u0644\u064a\u0627\u062a":"Actions",key:"Actions"}],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,scopedSlots:{Actions:function(e){return Object(p.jsxs)("td",{children:[Object(p.jsxs)(i.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){x(!0),ae(e),G(""),M("")}(e)},children:[" ",d("Delete")]}),Object(p.jsxs)(i.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return t.push("/PropertyTypes/SubUpdate/".concat(S,"/").concat(e.id))},children:[d("Update"),"  "]})]})},name_ar:function(e){return Object(p.jsxs)("td",{children:[" ",e.name.ar,"  "]})},name_en:function(e){return Object(p.jsxs)("td",{children:[" ",e.name.en,"  "]})}}})]})]})}),Object(p.jsxs)(i.gb,{show:f,onClose:function(){return x(!1)},size:"sm",color:"danger",children:[Object(p.jsx)(i.jb,{closeButton:!0,children:Object(p.jsxs)(i.kb,{children:["ar"===g.language?"\u062d\u0630\u0641 \u0646\u0648\u0639 \u0641\u0631\u0639\u064a":"Delete Sub Property Type"," "]})}),Object(p.jsxs)(i.hb,{children:["".concat("ar"===g.language?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0646\u0648\u0639 \u0641\u0631\u0639\u064a":"Are you sure you want to delete the sub property type","   (").concat(ce.name&&ce.name[g.language],")"),F&&"object"===typeof F?Object(p.jsx)(i.a,{color:"danger",className:"col-lg-12",children:Object.keys(F).map((function(e,t){return Object(p.jsxs)(l.a.Fragment,{children:[F[e],Object(p.jsx)("br",{})]},t)}))}):null,F&&"string"===typeof F?Object(p.jsxs)(i.a,{color:"danger",className:"col-lg-12",children:[F," "]}):null]}),Object(p.jsxs)(i.ib,{children:[Object(p.jsxs)(i.f,{color:"danger",onClick:function(){return re()},children:[d("Delete")," "]})," ",Object(p.jsx)(i.f,{color:"secondary",onClick:function(){return x(!1)},children:d("Cancel")})]})]})]})}}.call(this,n(73))},1238:function(e,t,n){}}]);
//# sourceMappingURL=92.aad9d57a.chunk.js.map