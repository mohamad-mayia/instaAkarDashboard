(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[73],{1130:function(e,t,c){"use strict";c.r(t),function(e){c(175),c(45);var s=c(121),a=c.n(s),n=c(174),r=c(659),o=c(1),l=c(658),i=(c(661),c(663),c(706),c(1131),c(14)),j=(c(660),c(1132)),u=c(17);t.default=function(t){var c=Object(i.g)(),s=Object(o.useState)(10),d=Object(r.a)(s,2),b=d[0],p=d[1],m=Object(o.useState)(""),h=Object(r.a)(m,2),O=h[0],g=h[1],x=Object(o.useState)(""),f=Object(r.a)(x,2),y=f[0],v=f[1],S=Object(o.useState)(),w=Object(r.a)(S,2),k=w[0],N=w[1],C=Object(o.useState)(),P=Object(r.a)(C,2),_=P[0],E=P[1],F=Object(o.useState)(""),J=Object(r.a)(F,2),W=J[0],z=J[1],A=localStorage.getItem("token"),T=JSON.parse(A),U=localStorage.getItem("user_id"),B=(JSON.parse(U),Object(o.useState)(0)),I=Object(r.a)(B,2),D=I[0],R=I[1],G=Object(o.useState)({facebook:"",twitter:"",linkedin:"",instagram:"",email:"",address:"",phone:""}),H=Object(r.a)(G,2),L=H[0],M=(H[1],L.facebook,L.twitter,L.linkedin,L.instagram,L.email,L.address,L.phone,Object(o.useState)("")),q=Object(r.a)(M,2),K=q[0],Q=q[1];Object(o.useEffect)(Object(n.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){var t=Object(n.a)(a.a.mark((function t(s){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/settings/viewWebsiteSettings"),{method:"GET",headers:{Authorization:"Bearer "+T,Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,console.log(r),"Website settings retrieved successfully!"==r.message&&(g(r.payload),Q(r.payload.privacy_policy_ar)),r.message&&"Unauthorized or invalid token!"==r.message&&(localStorage.removeItem("token"),localStorage.clear(),c.push("/login")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}})()();case 2:case"end":return t.stop()}}),t)}))),[y]);var V=function(){var t=Object(n.a)(a.a.mark((function t(c){var s,n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),z(!0),N(""),E(""),s=new FormData,K&&s.append("privacy_policy_ar",K),t.prev=6,t.next=9,fetch("".concat(e.apiUrl,"/settings/updateWebsiteSettings"),{method:"POST",headers:{Authorization:"Bearer "+T,Accept:"application/json"},body:s});case 9:return n=t.sent,t.next=12,n.json();case 12:r=t.sent,console.log("response",r),console.log(r),r.message&&"Website settings updated successfully!"==r.message?(E("Website settings updated successfully!"),v(!y),p(5)):(p(5),N(r.errors)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),console.log(t.t0);case 21:z(!1);case 22:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}();return console.log("p",K),Object(u.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(u.jsxs)(l.w,{children:[0==D&&Object(u.jsx)(u.Fragment,{children:O&&Object(u.jsxs)(l.j,{children:[Object(u.jsx)(l.n,{children:Object(u.jsxs)(l.wb,{className:"justify-content-center row-gap-15 ",children:[Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"Privacy Policy"}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",children:Object(u.jsx)(l.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return R(1)},children:"Update"})})]})}),Object(u.jsx)(l.k,{children:Object(u.jsx)(l.wb,{children:Object(u.jsx)(l.u,{md:"12",className:"arbicJustfiy",dangerouslySetInnerHTML:{__html:O.privacy_policy_ar}})})})]})}),O&&1==D&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.j,{className:"",children:Object(u.jsxs)(l.J,{onSubmit:function(e){V(e)},children:[Object(u.jsx)(l.n,{children:Object(u.jsxs)(l.wb,{className:" row-gap-15",children:[Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"Update Privacy Policy"}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",children:Object(u.jsx)(l.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return R(0)},children:"Back"})})]})}),Object(u.jsx)(l.k,{className:"p-4",children:Object(u.jsx)(l.wb,{className:"justify-content-center",children:Object(u.jsx)(l.u,{md:"12",lg:"12",xl:"12",children:Object(u.jsx)(j.a,{className:"col-md-12",setPrivacyPolicy:Q,privacyPolicy:K})})})}),Object(u.jsx)(l.l,{className:"p-4",children:Object(u.jsxs)(l.wb,{className:"justify-content-center",children:[k&&Object(u.jsx)(l.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",show:b,onShowChange:p,children:Object.keys(k).map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[k[e],Object(u.jsx)("br",{})]})}))}),_&&Object(u.jsx)(l.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:b,onShowChange:p,children:_}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(u.jsxs)(l.f,{color:"success",block:!0,type:"submit",children:["Save",W&&Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})]})})}}.call(this,c(73))},1131:function(e,t,c){},1132:function(e,t,c){"use strict";var s=c(684),a=c(685),n=c(694),r=c(695),o=c(1),l=c(686),i=c(700),j=c(701),u=c.n(j),d=c(702),b=c.n(d),p=(c(704),c(17)),m=function(e){Object(n.a)(c,e);var t=Object(r.a)(c);function c(e){var a;return Object(s.a)(this,c),(a=t.call(this,e)).onEditorStateChange=function(e){a.setState({editorState:e}),console.log(u()(Object(l.convertToRaw)(e.getCurrentContent()))),a.props.setPrivacyPolicy(u()(Object(l.convertToRaw)(e.getCurrentContent())))},a.state={editorState:l.EditorState.createWithContent(l.ContentState.createFromBlockArray(b()(e.privacyPolicy)))},a}return Object(a.a)(c,[{key:"render",value:function(){var e=this.state.editorState;return Object(p.jsx)(i.Editor,{editorState:e,wrapperClassName:"demo-wrapper ",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange})}}]),c}(o.Component);t.a=m}}]);
//# sourceMappingURL=73.17ab8335.chunk.js.map