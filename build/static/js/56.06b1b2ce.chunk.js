(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[56],{1201:function(e,c,t){"use strict";t.r(c),function(e){var n=t(175),a=t(45),s=t(121),r=t.n(s),l=t(174),o=t(659),i=t(1),j=t(658),u=(t(661),t(663),t(1202),t(14)),b=t(1503),d=(t(660),t(17));c.default=function(){var c=Object(b.a)(),t=Object(o.a)(c,2),s=t[0],m=t[1],h=Object(u.g)(),x=Object(i.useState)(10),O=Object(o.a)(x,2),p=O[0],g=O[1],f=Object(i.useState)([]),w=Object(o.a)(f,2),v=w[0],S=w[1],y=Object(i.useState)(""),k=Object(o.a)(y,2),N=k[0],_=(k[1],Object(i.useState)()),A=Object(o.a)(_,2),C=A[0],F=A[1],J=Object(i.useState)(),B=Object(o.a)(J,2),D=B[0],E=B[1],q=Object(i.useState)(""),z=Object(o.a)(q,2),I=z[0],K=z[1],T=localStorage.getItem("token"),U=JSON.parse(T),G=Object(i.useState)(""),P=Object(o.a)(G,2),H=(P[0],P[1],Object(i.useState)({name_en:"",name_ar:"",company_id:""})),L=Object(o.a)(H,2),M=L[0],Q=L[1],R=M.name_en,V=M.name_ar,W=M.company_id;Object(i.useEffect)(Object(l.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(l.a)(r.a.mark((function c(t){var n,a;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/super/companies?paginate=0"),{method:"GET",headers:{Authorization:"Bearer "+U,Accept:"application/json"}});case 3:return n=c.sent,c.next=6,n.json();case 6:a=c.sent,console.log(a),a.success&&S(a.payload),a.message&&"Unauthenticated."==a.message&&(localStorage.removeItem("token"),localStorage.clear(),h.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[N]);var X=function(e){Q(Object(a.a)(Object(a.a)({},M),{},Object(n.a)({},e.target.name,e.target.value))),F(""),E("")},Y=function(){var c=Object(l.a)(r.a.mark((function c(t){var n,a;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t.preventDefault(),K(!0),F(""),E(""),c.prev=4,c.next=7,fetch("".concat(e.apiUrl,"/super/departments"),{method:"POST",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:3000","Access-Control-Allow-Credentials":"true",Accept:"application/json"},body:JSON.stringify({name_ar:V,name_en:R,company_id:W})});case 7:return n=c.sent,c.next=10,n.json();case 10:if(a=c.sent,console.log("response",a),console.log(a),g(10),!a.success){c.next=21;break}return c.next=17,g(6);case 17:E("ar"==m.language?"\u062a\u0645\u062a \u0627\u0636\u0627\u0641\u0629 \u0642\u0633\u0645 \u0628\u0646\u062c\u0627\u062d":"New Department Added Successfuly"),Q({name_ar:"",name_en:"",company_id:""}),c.next=23;break;case 21:g(10),F(a.messages);case 23:c.next=28;break;case 25:c.prev=25,c.t0=c.catch(4),console.log(c.t0);case 28:K(!1);case 29:case"end":return c.stop()}}),c,null,[[4,25]])})));return function(e){return c.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(d.jsx)(j.w,{children:Object(d.jsxs)(j.j,{className:"",children:[Object(d.jsx)(j.n,{children:Object(d.jsxs)(j.wb,{className:" row-gap-15",children:[Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(d.jsx)("strong",{children:"ar"==m.language?"\u0625\u0636\u0627\u0641\u0629 \u0642\u0633\u0645 \u062c\u062f\u064a\u062f":"Add New Department"})}),Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(d.jsx)(j.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return h.goBack()},children:"ar"==m.language?"\u0631\u062c\u0648\u0639":"Back"})})]})}),Object(d.jsx)(j.wb,{children:Object(d.jsx)(j.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(d.jsx)(j.J,{onSubmit:function(e){Y(e)},children:Object(d.jsx)(j.k,{children:Object(d.jsxs)(j.j,{children:[Object(d.jsx)(j.k,{children:Object(d.jsxs)(j.wb,{children:[Object(d.jsxs)(j.u,{md:"12",children:[" ",Object(d.jsx)("strong",{children:"ar"==m.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0642\u0633\u0645 :":"Department Informations :"})]}),Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(d.jsxs)(j.K,{row:!0,children:[Object(d.jsx)(j.u,{md:"12",children:Object(d.jsx)(j.cb,{htmlFor:"text-input",children:"ar"==m.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name"})}),Object(d.jsx)(j.u,{xs:"12",md:"12",children:Object(d.jsx)(j.S,{name:"name_en",required:!0,onChange:X,placeholder:"ar"==m.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name",value:M.name_en})})]})}),Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(d.jsxs)(j.K,{row:!0,children:[Object(d.jsx)(j.u,{md:"12",children:Object(d.jsx)(j.cb,{htmlFor:"text-input",children:"ar"==m.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name"})}),Object(d.jsx)(j.u,{xs:"12",md:"12",children:Object(d.jsx)(j.S,{name:"name_ar",required:!0,onChange:X,placeholder:"ar"==m.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name",value:M.name_ar})})]})}),Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(d.jsxs)(j.K,{row:!0,children:[Object(d.jsx)(j.u,{md:"12",children:Object(d.jsx)(j.cb,{htmlFor:"text-input",children:"ar"==m.language?"\u0627\u0644\u0634\u0631\u0643\u0629":"Company"})}),Object(d.jsx)(j.u,{xs:"12",md:"12",children:Object(d.jsxs)(j.xb,{custom:!0,name:"company_id",required:!0,value:M.company_id,onChange:function(e){return X(e)},children:[Object(d.jsx)("option",{value:"",children:"ar"==m.language?"\u0627\u062e\u062a\u0631 \u0634\u0631\u0643\u0629":"Select Company"}),v.length>0&&v.map((function(e){return Object(d.jsx)("option",{value:e.id,children:"ar"==m.language?e.name_ar:e.name_en},e.id)}))]})})]})})]})}),Object(d.jsx)(j.l,{className:"p-4",children:Object(d.jsxs)(j.wb,{className:"justify-content-center",children:[C&&Object(d.jsx)(j.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",show:p,onShowChange:g,children:Object.keys(C).map((function(e,c){return Object(d.jsxs)(d.Fragment,{children:[C[e],Object(d.jsx)("br",{})]})}))}),D&&Object(d.jsx)(j.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:p,onShowChange:g,children:D}),Object(d.jsx)(j.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(d.jsxs)(j.f,{color:"success",block:!0,type:"submit",children:[s("Save"),I&&Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,t(73))},1202:function(e,c,t){},661:function(e,c,t){}}]);
//# sourceMappingURL=56.06b1b2ce.chunk.js.map