(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[42],{1241:function(e,t,a){"use strict";a.r(t),function(e){var c=a(175),n=a(45),s=a(121),r=a.n(s),l=a(174),o=a(659),i=a(1),j=a.n(i),u=a(658),b=(a(661),a(663),a(1242),a(14)),m=a(1503),d=a(176),p=(a(660),a(17));t.default=function(t){var a=t.match,s=Object(m.a)(),O=Object(o.a)(s,2),h=O[0],x=O[1],g=Object(b.g)(),f=Object(i.useState)(10),y=Object(o.a)(f,2),S=y[0],k=y[1],v=Object(i.useContext)(d.a).refreshTokenHandler,N=Object(i.useState)([]),w=Object(o.a)(N,2),_=(w[0],w[1],Object(i.useState)("")),T=Object(o.a)(_,2),J=T[0],A=T[1],C=Object(i.useState)(),U=Object(o.a)(C,2),F=U[0],B=U[1],E=Object(i.useState)(),I=Object(o.a)(E,2),P=I[0],z=I[1],q=Object(i.useState)(""),K=Object(o.a)(q,2),D=K[0],G=K[1],H=localStorage.getItem("token"),L=(JSON.parse(H),Object(i.useState)("")),M=Object(o.a)(L,2),Q=(M[0],M[1],Object(i.useState)({name_en:"",name_ar:""})),R=Object(o.a)(Q,2),V=R[0],W=R[1],X=V.name_en,Y=V.name_ar;Object(i.useEffect)(Object(l.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=function(){var t=Object(l.a)(r.a.mark((function t(n){var s,l,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/propertyTypes"),{method:"GET",headers:{Authorization:"Bearer "+s,Accept:"application/json"}});case 4:return(l=t.sent).status,t.next=8,l.json();case 8:if(!(o=t.sent).message||"Unauthenticated."!=o.message){t.next=11;break}return t.abrupt("return",v((function(){c(n)})));case 11:o.message&&"Success"==o.message&&(i=o.payload.find((function(e){return e.id==a.params.type})).sub_types.filter((function(e){return e.id==n}))[0],W({name_en:i.name.en,name_ar:i.name.ar})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}())(a.params.id);case 2:case"end":return t.stop()}}),t)}))),[J]);var Z=function(e){W(Object(n.a)(Object(n.a)({},V),{},Object(c.a)({},e.target.name,e.target.value))),B(""),z("")},$=function(){var t=Object(l.a)(r.a.mark((function t(c){var n,s,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),G(!0),n=JSON.parse(localStorage.getItem("token")),B(""),z(""),t.prev=5,t.next=8,fetch("".concat(e.apiUrl,"api/propertyTypes/").concat(a.params.id,"?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:{ar:Y,en:X}})});case 8:return s=t.sent,t.next=11,s.json();case 11:if(l=t.sent,k(10),"Fail"!==l.message){t.next=18;break}return B(l.error),t.abrupt("return");case 18:if(!l.errors){t.next=22;break}B(l.errors),t.next=24;break;case 22:if(!l.message||"Unauthenticated."!=l.message){t.next=24;break}return t.abrupt("return",v((function(){$(c)})));case 24:l.message&&"Success"==l.message&&(z("ar"===x.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0646\u0648\u0639 \u0641\u0631\u0639\u064a \u0628\u0646\u062c\u0627\u062d":"Sub Property Type has been Updated successfully"),A(!J)),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(5),console.log(t.t0);case 30:G(!1);case 31:case"end":return t.stop()}}),t,null,[[5,27]])})));return function(e){return t.apply(this,arguments)}}();return console.log("data",V),Object(p.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(p.jsx)(u.w,{children:Object(p.jsxs)(u.j,{className:"",children:[Object(p.jsx)(u.n,{children:Object(p.jsxs)(u.wb,{className:" row-gap-15",children:[Object(p.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(p.jsxs)("strong",{children:["ar"===x.language?"\u062a\u0639\u062f\u064a\u0644 \u0646\u0648\u0639 \u0641\u0631\u0639\u064a":"Update Sub Property Type"," "]})}),Object(p.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(p.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return g.goBack()},children:h("Back")})})]})}),Object(p.jsx)(u.wb,{children:Object(p.jsx)(u.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(p.jsx)(u.J,{onSubmit:function(e){$(e)},children:Object(p.jsx)(u.k,{children:Object(p.jsxs)(u.j,{children:[Object(p.jsx)(u.k,{children:Object(p.jsxs)(u.wb,{children:[Object(p.jsxs)(u.u,{md:"12",children:[" ",Object(p.jsxs)("strong",{children:[" ","ar"==x.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0648\u0639 \u0627\u0644\u0641\u0631\u0639\u064a":"Sub Property Type Information"]})]}),Object(p.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(p.jsxs)(u.K,{row:!0,children:[Object(p.jsx)(u.u,{md:"12",children:Object(p.jsxs)(u.cb,{htmlFor:"text-input",children:[" ",h("English Name")]})}),Object(p.jsx)(u.u,{xs:"12",md:"12",children:Object(p.jsx)(u.S,{name:"name_en",required:!0,onChange:Z,placeholder:h("English Name"),value:V.name_en})})]})}),Object(p.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(p.jsxs)(u.K,{row:!0,children:[Object(p.jsx)(u.u,{md:"12",children:Object(p.jsx)(u.cb,{htmlFor:"text-input",children:h("Arabic Name")})}),Object(p.jsx)(u.u,{xs:"12",md:"12",children:Object(p.jsx)(u.S,{name:"name_ar",required:!0,onChange:Z,placeholder:h("Arabic Name"),value:V.name_ar})})]})})]})}),Object(p.jsx)(u.l,{className:"p-4",children:Object(p.jsxs)(u.wb,{className:"justify-content-center",children:[F&&"object"===typeof F?Object(p.jsx)(u.a,{color:"danger",className:"col-lg-12",children:Object.keys(F).map((function(e,t){return Object(p.jsxs)(j.a.Fragment,{children:[F[e],Object(p.jsx)("br",{})]},t)}))}):null,F&&"string"===typeof F?Object(p.jsxs)(u.a,{color:"danger",className:"col-lg-12",children:[F," "]}):null,P&&Object(p.jsx)(u.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:S,onShowChange:k,children:P}),Object(p.jsx)(u.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(p.jsxs)(u.f,{color:"success",block:!0,type:"submit",children:[h("Save"),"  ",D&&Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,a(73))},1242:function(e,t,a){},661:function(e,t,a){}}]);
//# sourceMappingURL=42.b8db46ed.chunk.js.map