(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[51],{1189:function(e,t,c){"use strict";c.r(t),function(e){var n=c(175),a=c(45),s=c(121),r=c.n(s),o=c(174),l=c(659),i=c(1),j=c(658),u=(c(661),c(663),c(1414)),b=c(721),d=c(709),O=c(710),h=c(1502),x=c(1498),m=c(1500),p=(c(1190),c(14)),f=c(1503),g=(c(660),c(17));Object(u.a)({direction:"rtl"}),Object(O.a)({key:"muirtl",stylisPlugins:[d.q,b.a]});t.default=function(){var t=Object(f.a)(),c=Object(l.a)(t,2),s=c[0],u=c[1],b=Object(p.g)(),d=Object(i.useState)(10),O=Object(l.a)(d,2),w=O[0],y=O[1],v=Object(i.useState)([]),C=Object(l.a)(v,2),S=(C[0],C[1],Object(i.useState)("")),k=Object(l.a)(S,2),_=(k[0],k[1],Object(i.useState)()),N=Object(l.a)(_,2),A=N[0],F=N[1],z=Object(i.useState)([]),J=Object(l.a)(z,2),q=J[0],B=J[1],E=Object(i.useState)(null),K=Object(l.a)(E,2),P=K[0],I=K[1],L=Object(i.useState)(),T=Object(l.a)(L,2),U=T[0],D=T[1],G=Object(i.useState)(""),H=Object(l.a)(G,2),M=H[0],Q=H[1],R=localStorage.getItem("token"),V=JSON.parse(R),W=Object(i.useState)(""),X=Object(l.a)(W,2),Y=(X[0],X[1],Object(i.useState)({name_en:"",name_ar:"",code:""})),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=$.name_en,ce=$.name_ar,ne=$.code;Object(i.useEffect)(Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){var t=Object(o.a)(r.a.mark((function t(c){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"api/countries"),{method:"GET",headers:{Authorization:"Bearer "+V,Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:(a=t.sent).success&&B(a.payload),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}})()();case 2:case"end":return t.stop()}}),t)}))),[]);var ae=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){ee(Object(a.a)(Object(a.a)({},$),{},Object(n.a)({},e.target.name,e.target.value))),F(""),D("")},re=function(){var t=Object(o.a)(r.a.mark((function t(c){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),Q(!0),F(""),D(""),t.prev=4,t.next=7,fetch("".concat(e.apiUrl,"api/cities/addNewCity"),{method:"POST",headers:{Authorization:"Bearer "+V,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name_ar:ce,name_en:te,country_id:P.id,code:ne})});case 7:return n=t.sent,t.next=10,n.json();case 10:if(a=t.sent,console.log("response",a),console.log(a),y(10),!a.success){t.next=21;break}return t.next=17,y(6);case 17:D("City has been added successfully"),ee({name_ar:"",name_en:"",code:""}),t.next=23;break;case 21:y(10),F(a.errors);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(4),console.log(t.t0);case 28:Q(!1);case 29:case"end":return t.stop()}}),t,null,[[4,25]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(g.jsx)(j.w,{children:Object(g.jsxs)(j.j,{className:"",children:[Object(g.jsx)(j.n,{children:Object(g.jsxs)(j.wb,{className:" row-gap-15",children:[Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(g.jsx)("strong",{children:"  Add New City"})}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(g.jsx)(j.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return b.goBack()},children:"ar"==u.language?"\u0631\u062c\u0648\u0639":"Back"})})]})}),Object(g.jsx)(j.wb,{children:Object(g.jsx)(j.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(g.jsx)(j.J,{onSubmit:function(e){re(e)},children:Object(g.jsx)(j.k,{children:Object(g.jsxs)(j.j,{children:[Object(g.jsx)(j.k,{children:Object(g.jsxs)(j.wb,{children:[Object(g.jsxs)(j.u,{md:"12",children:[" ",Object(g.jsx)("strong",{children:"  City Information:"})]}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(g.jsxs)(j.K,{row:!0,children:[Object(g.jsx)(j.u,{md:"12",children:Object(g.jsx)(j.cb,{htmlFor:"text-input",children:"English Name"})}),Object(g.jsx)(j.u,{xs:"12",md:"12",children:Object(g.jsx)(j.S,{name:"name_en",required:!0,onChange:se,placeholder:"English Name",value:$.name_en})})]})}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(g.jsxs)(j.K,{row:!0,children:[Object(g.jsx)(j.u,{md:"12",children:Object(g.jsx)(j.cb,{htmlFor:"text-input",children:"Arabic Name"})}),Object(g.jsx)(j.u,{xs:"12",md:"12",children:Object(g.jsx)(j.S,{name:"name_ar",onChange:se,placeholder:"Arabic Name",value:$.name_ar})})]})}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(g.jsxs)(j.K,{row:!0,children:[Object(g.jsx)(j.u,{md:"12",children:Object(g.jsx)(j.cb,{htmlFor:"text-input",children:"Country"})}),Object(g.jsx)(j.u,{xs:"12",md:"12",children:Object(g.jsx)("div",{children:Object(g.jsx)(m.a,{id:"country-select-demo",size:"small",options:q,required:!0,autoHighlight:!0,dir:"rtl",rtl:"true",value:P,onChange:function(e,t){ae(t)},autoComplete:"off",getOptionLabel:function(e){return e.country_name_en+"  "+e.country_code},renderOption:function(e,t){return Object(g.jsxs)(h.a,Object(a.a)(Object(a.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[Object(g.jsx)("img",{loading:"lazy",width:"20",src:"https://flagcdn.com/w20/".concat(t.country_code.toLowerCase(),".png"),srcSet:"https://flagcdn.com/w40/".concat(t.country_code.toLowerCase(),".png 2x"),alt:""}),t.country_name_en," (",t.country_code,")"]}))},renderInput:function(e){return Object(g.jsx)(x.a,Object(a.a)(Object(a.a)({required:!0},e),{},{label:"Choose Country",inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:"off"})}))}})})})]})}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(g.jsxs)(j.K,{row:!0,children:[Object(g.jsx)(j.u,{md:"12",children:Object(g.jsx)(j.cb,{htmlFor:"text-input",children:"City Code"})}),Object(g.jsx)(j.u,{xs:"12",md:"12",children:Object(g.jsx)(j.S,{name:"code",onChange:se,placeholder:"City Code",value:$.code})})]})})]})}),Object(g.jsx)(j.l,{className:"p-4",children:Object(g.jsxs)(j.wb,{className:"justify-content-center",children:[A&&Object(g.jsx)(j.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",show:w,onShowChange:y,children:Object.keys(A).map((function(e,t){return Object(g.jsxs)(g.Fragment,{children:[A[e],Object(g.jsx)("br",{})]})}))}),U&&Object(g.jsx)(j.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:w,onShowChange:y,children:U}),Object(g.jsx)(j.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(g.jsxs)(j.f,{color:"success",block:!0,type:"submit",children:[s("Save"),M&&Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1190:function(e,t,c){},661:function(e,t,c){}}]);
//# sourceMappingURL=51.bdbb7ac0.chunk.js.map