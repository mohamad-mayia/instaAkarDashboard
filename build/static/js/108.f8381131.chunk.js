(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[108],{1005:function(e,t,c){"use strict";c.r(t),function(e){var s=c(121),r=c.n(s),n=c(174),j=c(659),i=c(1),d=c(14),l=c(658),a=(c(660),c(1006),c(17));t.default=function(){var t=Object(d.g)(),c=Object(i.useState)(""),s=Object(j.a)(c,2),b=s[0],h=s[1],o=Object(i.useState)(!1),O=Object(j.a)(o,2),x=O[0],u=(O[1],Object(i.useState)()),g=Object(j.a)(u,2),m=(g[0],g[1],Object(i.useState)(1)),f=Object(j.a)(m,2),p=f[0],_=f[1],v=Object(i.useState)(),k=Object(j.a)(v,2),N=k[0],w=(k[1],Object(i.useState)()),S=Object(j.a)(w,2),y=(S[0],S[1],Object(i.useState)("")),P=Object(j.a)(y,2),C=(P[0],P[1],Object(i.useState)(0)),D=Object(j.a)(C,2),F=D[0],I=D[1],A=localStorage.getItem("token"),U=JSON.parse(A);Object(i.useEffect)(Object(n.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(n.a)(r.a.mark((function c(s){var n,j;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/purchases/viewAllPurchases"),{method:"GET",headers:{Authorization:"Bearer "+U,Accept:"application/json"}});case 3:return n=c.sent,c.next=6,n.json();case 6:j=c.sent,console.log("Purchases",j),"Purchases retrieved successfully!"==j.message&&h(j.payload),j.message&&"Unauthorized or invalid token!"==j.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[x]);var E=Object(i.useState)(""),Y=Object(j.a)(E,2),z=Y[0],J=Y[1];return Object(a.jsxs)(l.wb,{children:[0==F&&Object(a.jsx)(l.u,{xl:12,children:Object(a.jsxs)(l.j,{children:[Object(a.jsx)(l.n,{children:"Purchases"}),Object(a.jsxs)(l.k,{className:"usersTabel",children:[b&&Object(a.jsx)(l.y,{items:b,fields:["id","user_id","user","total_cost","checked_out","offer_used","orders","actions"],hover:!0,striped:!0,sorter:!0,itemsPerPage:12,pagination:!0,columnFilter:!0,scopedSlots:{checked_out:function(e){return Object(a.jsx)("td",{children:1==e.checked_out?Object(a.jsx)(l.b,{color:"primary",children:"Yes"}):Object(a.jsx)(l.b,{color:"dark",children:"No"})})},offer_used:function(e){return Object(a.jsx)("td",{children:1==e.is_offer_used?Object(a.jsx)(l.b,{color:"primary",children:"Yes"}):Object(a.jsx)(l.b,{color:"dark",children:"No"})})},orders:function(e){return Object(a.jsx)("td",{children:e.orders?Object(a.jsx)(a.Fragment,{children:e.orders.length}):Object(a.jsx)(a.Fragment,{children:"-"})})},user:function(e){return Object(a.jsx)("td",{children:e.user.first_name+" "+e.user.last_name})},actions:function(e){return Object(a.jsx)("td",{children:Object(a.jsx)(l.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return function(e){J(e),I(1)}(e)},children:"Show...."})})}}}),N&&Object(a.jsx)(l.sb,{align:"center",addListClass:"some-class",activePage:p,pages:N,onActivePageChange:_,className:"faqsPage"})]})]})}),1==F&&z&&Object(a.jsx)(l.u,{xl:12,children:Object(a.jsxs)(l.j,{children:[Object(a.jsx)(l.n,{children:Object(a.jsxs)(l.wb,{className:"justify-content-center row-gap-15 ",children:[Object(a.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize"}),Object(a.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(a.jsx)(l.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return J(""),void I(0)},children:"Back"})})]})}),Object(a.jsxs)(l.k,{className:"",children:[Object(a.jsxs)(l.wb,{children:[Object(a.jsxs)(l.u,{lg:6,children:[Object(a.jsx)("strong",{children:"Purchase informations"}),Object(a.jsx)("table",{className:"table table-striped table-hover",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Purchase ID"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.id})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Total Cost"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.total_cost})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Checked Out"}),Object(a.jsx)("td",{children:Object(a.jsxs)("strong",{children:["     ",1==z.checked_out?"Yes":"No"]})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Offer"}),Object(a.jsx)("td",{children:Object(a.jsxs)("strong",{children:["     ",1==z.is_offer_used?"Yes":"No"]})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Orders"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.orders?Object(a.jsx)(a.Fragment,{children:z.orders.length}):Object(a.jsx)(a.Fragment,{children:"-"})})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Created At"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.orders?Object(a.jsx)(a.Fragment,{children:z.created_at.slice(0,10)}):Object(a.jsx)(a.Fragment,{children:"-"})})})]})]})})]}),Object(a.jsxs)(l.u,{lg:6,children:[Object(a.jsx)("strong",{children:"User informations"}),Object(a.jsx)("table",{className:"table table-striped table-hover info_table",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"User ID"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.user_id})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"User Name"}),Object(a.jsx)("td",{children:Object(a.jsxs)("strong",{children:[" ",z.user.first_name+" "+z.user.last_name]})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Middle Name"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.user.middle_name?"".concat(z.user.middle_name):"-"})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Email"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.user.email})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Phone"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:z.user.phone})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Email Verificaton"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:1==z.user.is_email_verified?"Verified":"Not Verified"})})]})]})})]})]}),Object(a.jsx)(l.wb,{children:Object(a.jsx)(l.u,{md:"12",children:Object(a.jsx)("strong",{children:"Order Informations"})})}),z.orders&&z.orders.map((function(e,t){return Object(a.jsxs)(l.wb,{className:"orderRow",children:[Object(a.jsxs)(l.u,{lg:6,children:[Object(a.jsxs)("strong",{children:["Order"," "+(t+1)]}),Object(a.jsx)("table",{className:"table table-striped table-hover info_table",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"ID"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.id})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Link"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.link?Object(a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.link,children:e.link}):"-"})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Delay"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.delay})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Details"}),Object(a.jsxs)("td",{children:[Object(a.jsx)("strong",{children:e.details?"Charge: ".concat(e.details.charge):"-"})," , "," ",Object(a.jsx)("strong",{children:e.details?"Start Count: ".concat(e.details.start_count):"-"})," , ",Object(a.jsx)("strong",{children:e.details?"status: ".concat(e.details.status):"-"})," , ",Object(a.jsx)("strong",{children:e.details?"Remains: ".concat(e.details.remains):"-"})," , "]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Created_At"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.created_at.slice(0,10)})})]})]})})]}),Object(a.jsxs)(l.u,{lg:6,children:[Object(a.jsxs)("strong",{children:["Order"," "+(t+1)+" service"]}),Object(a.jsx)("table",{className:"table table-striped table-hover info_table",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:" ServiceID"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.service.id})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Name"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.service.name_en})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Quantity"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.service.quantity})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Description"}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:e.service.short_description_en})})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Price"}),Object(a.jsx)("td",{children:Object(a.jsxs)("strong",{children:["Price:"," "+e.service.old_price," ",e.service.new_price?" , New Price :"+e.service.new_price:null]})})]})]})})]})]},e.id)})),Object(a.jsx)(l.wb,{})]})]})})]})}}.call(this,c(73))},1006:function(e,t,c){}}]);
//# sourceMappingURL=108.f8381131.chunk.js.map