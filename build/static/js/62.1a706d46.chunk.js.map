{"version":3,"sources":["views/DynamicPages/AddNewPage/AddNewPage.js","views/DynamicPages/AddNewPage/editor.js","views/DynamicPages/AddNewPage/editor2.js"],"names":["AddNewPage","props","history","useHistory","refreshTokenHandler","useContext","ProfileContext","useState","visible","setVisible","errorMessage","setErrorMessage","useTranslation","t","i18n","succesAdd","setSuccessAdd","loading","setLoading","tokenString","localStorage","getItem","userId","JSON","parse","title_ar","title_en","name","upData","setUpData","dataText","setDataText","dataTextArabic","setDataTextArabic","reload","setReload","reloader","a","handleData","e","target","value","addNewPage","preventDefault","userToken","language","data","FormData","append","fetch","global","apiUrl","method","headers","Authorization","Accept","body","responsee","json","response","message","error","errors","console","log","className","md","lg","xl","color","onClick","goBack","onSubmit","row","htmlFor","xs","required","onChange","placeholder","style","direction","Object","keys","map","item","i","Fragment","show","onShowChange","sm","block","type","ControlledEditor","onEditorStateChange","editorState","setState","draftToHtml","convertToRaw","getCurrentContent","state","EditorState","createEmpty","this","wrapperClassName","editorClassName","Component"],"mappings":"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","file":"static/js/62.1a706d46.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCardFooter,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CInput,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CFormGroup,\r\n  CLabel,\r\n\r\n  CRow\r\n} from '@coreui/react'\r\nimport 'react-phone-number-input/style.css'\r\nimport PhoneInput from 'react-phone-number-input'\r\nimport CIcon from '@coreui/icons-react'\r\nimport '../../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport './AddNewPage.scss'\r\nimport { CAlert } from '@coreui/react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ProfileContext } from 'src/App'\r\nimport '../../../globalVar'\r\nimport Editor from './editor'\r\nimport Editor2 from './editor2'\r\nimport { useTranslation } from 'react-i18next';\r\nconst AddNewPage = (props) => {\r\n  let history = useHistory();\r\n  const { refreshTokenHandler } = useContext(ProfileContext)\r\n  const [visible, setVisible] = useState(10)\r\n  const [fetchedData, setfetchedData] = useState('')\r\n  const [refresh, setRefresh] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState();\r\n\r\n  const [t, i18n] = useTranslation();\r\n  const [succesAdd, setSuccessAdd] = useState()\r\n  const [loading, setLoading] = useState('')\r\n  const tokenString = localStorage.getItem(\"token\");\r\n  const userToken = JSON.parse(tokenString);\r\n  const userId = localStorage.getItem(\"user_id\");\r\n  const user_id = JSON.parse(userId);\r\n  const [pageStatus, setPageStatus] = useState(0)\r\n  const [upData, setUpData] = useState({\r\n    title_ar: '',\r\n    title_en: '',\r\n    name: \"\"\r\n\r\n\r\n  })\r\n  const { title_ar,\r\n    title_en,\r\n\r\n  } = upData;\r\n\r\n  const [dataText, setDataText] = useState('')\r\n  const [dataTextArabic, setDataTextArabic] = useState('')\r\n\r\n\r\n\r\n  const [reload, setReload] = useState(true)\r\n  const reloader = async () => {\r\n\r\n    await setDataText('')\r\n    await setDataTextArabic('')\r\n    await setReload(!reload)\r\n  }\r\n  const handleData = (e) => {\r\n    setUpData({ ...upData, [e.target.name]: e.target.value })\r\n\r\n    setErrorMessage('')\r\n    setSuccessAdd('')\r\n  }\r\n\r\n  const addNewPage = async (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    const userToken = JSON.parse(localStorage.getItem(\"token\"));\r\n    setErrorMessage('')\r\n    setSuccessAdd('')\r\n\r\n    if (dataText == '' || dataTextArabic == '') {\r\n      setVisible(5)\r\n      setErrorMessage({ \"content_en\": [i18n.language === \"ar\" ? \"أدخل محتوى عربي  ومحتوى انكليزي\" : \"Please enter arabic and english content\"], })\r\n      setLoading(false)\r\n      return\r\n    }\r\n    const data = new FormData();\r\n    title_ar && data.append('title[ar]', title_ar);\r\n    title_en && data.append('title[en]', title_en);\r\n    dataTextArabic && data.append('body[ar]', dataTextArabic);\r\n    dataText && data.append('body[en]', dataText);\r\n    data.append('name', upData.name);\r\n    // data.append('files', []);\r\n    try {\r\n      const responsee = await fetch(\r\n        `${global.apiUrl}api/websitePages`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + userToken,\r\n            Accept: \"application/json\",\r\n          },\r\n          body: data,\r\n\r\n        }\r\n      );\r\n      const response = await responsee.json();\r\n      setLoading(false)\r\n      setVisible(10)\r\n      if (response.message === \"Fail\") {\r\n        setErrorMessage(response.error);\r\n        return\r\n      }\r\n      else if (response.errors) {\r\n        setErrorMessage(response.errors);\r\n      }\r\n      else if (response.message && response.message == \"Unauthenticated.\") {\r\n        return refreshTokenHandler(function () { addNewPage(e) })\r\n      }\r\n\r\n      if (response.message && response.message == \"Success\") {\r\n        setSuccessAdd(i18n.language === \"ar\" ? \"تم إضافة صفحة جديدة بنجاح\" : \"New page has been added successfully\")\r\n        await setDataText('')\r\n        await setDataTextArabic('')\r\n        setUpData({ title_ar: '', title_en: '', name: \"\" })\r\n\r\n        reloader()\r\n      }\r\n\r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n\r\n    }\r\n\r\n    setLoading(false)\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"c-app c-default-layout flex-row align-items-center register-cont\">\r\n\r\n      <CContainer>\r\n\r\n        <CCard className=\"\">\r\n\r\n\r\n\r\n          <CCardHeader>\r\n            <CRow className=\" row-gap-15\">\r\n\r\n              <CCol md=\"6\" lg=\"6\" xl=\"6\" className=\"justify-content-center align-self-center align-items-center place-items-center text-capitalize\">\r\n                <strong>{i18n.language === \"ar\" ? \"إضافة صفحة جديدة\" : \"Add New Page\"}</strong>\r\n              </CCol>\r\n\r\n              <CCol md=\"6\" lg=\"6\" xl=\"6\" className='row-gap-15 col-gap-15'>\r\n\r\n                <CButton color=\"success\" className='col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn'\r\n                  onClick={() => history.goBack()} > {t(\"Back\")}\r\n                </CButton>\r\n\r\n              </CCol>\r\n            </CRow>\r\n          </CCardHeader>\r\n          <CForm onSubmit={(e) => { addNewPage(e) }}>\r\n            <CCardBody className=\"p-4\">\r\n              <CRow>\r\n                <CCol md=\"6\" lg=\"6\" xl=\"6\">\r\n                  <CFormGroup row>\r\n                    <CCol md=\"12\">\r\n                      <CLabel htmlFor=\"text-input\">{i18n.language === \"ar\" ? \"اسم الصفحة\" : \"Page Name\"}</CLabel>\r\n                    </CCol>\r\n                    <CCol xs=\"12\" md=\"12\">\r\n\r\n                      <CInput name=\"name\"\r\n                        required\r\n                        onChange={handleData}\r\n                        placeholder={i18n.language === \"ar\" ? \"اسم الصفحة\" : \"Page Name\"}\r\n                        value={upData.name} />\r\n                    </CCol>\r\n                  </CFormGroup>\r\n                </CCol>\r\n                <CCol md=\"6\" lg=\"6\" xl=\"6\">\r\n                  <CFormGroup row>\r\n                    <CCol md=\"12\">\r\n                      <CLabel htmlFor=\"text-input\">{i18n.language === \"ar\" ? \"عنوان انكليزي\" : \"English Title\"}</CLabel>\r\n                    </CCol>\r\n                    <CCol xs=\"12\" md=\"12\">\r\n\r\n                      <CInput name=\"title_en\"\r\n                        required\r\n                        onChange={handleData}\r\n                        placeholder={i18n.language === \"ar\" ? \"عنوان انكليزي\" : \"English Title\"}\r\n                        value={upData.title_en} />\r\n                    </CCol>\r\n                  </CFormGroup>\r\n                </CCol>\r\n                <CCol md=\"6\" lg=\"6\" xl=\"6\">\r\n                  <CFormGroup row>\r\n                    <CCol md=\"12\">\r\n                      <CLabel htmlFor=\"text-input\">{i18n.language === \"ar\" ? \"عنوان عربي\" : \"Arabic Title\"} </CLabel>\r\n                    </CCol>\r\n                    <CCol xs=\"12\" md=\"12\">\r\n\r\n                      <CInput name=\"title_ar\"\r\n                        required\r\n                        onChange={handleData}\r\n                        placeholder={i18n.language === \"ar\" ? \"عنوان عربي\" : \"Arabic Title\"}\r\n                        value={upData.title_ar} />\r\n                    </CCol>\r\n                  </CFormGroup>\r\n                </CCol>\r\n\r\n\r\n              </CRow>\r\n              <hr />\r\n              <CRow className=\"justify-content-center\" style={{ direction: 'ltr' }}>\r\n                <CCol md=\"12\" lg=\"12\" xl=\"12\">\r\n\r\n                  <h5>{i18n.language === \"ar\" ? \"محتوى انكليزي\" : \"English Content\"}</h5>\r\n                </CCol>\r\n\r\n                <CCol md=\"12\" lg=\"12\" xl=\"12\">\r\n                  {reload == true ?\r\n                    <Editor className='col-md-12' setDataText={setDataText} dataText={dataText} />\r\n                    :\r\n                    <Editor2 className='col-md-12' setDataText={setDataText} dataText={dataText} />\r\n                  }\r\n\r\n                </CCol>\r\n\r\n\r\n              </CRow>\r\n              <hr />\r\n              <CRow className=\"justify-content-center\" style={{ direction: 'ltr' }}>\r\n                <CCol md=\"12\" lg=\"12\" xl=\"12\" style={{ direction: 'rtl' }}>\r\n\r\n                  <h5>{i18n.language === \"ar\" ? \"محتوى عربي\" : \"Arabic Content\"}</h5>\r\n                </CCol>\r\n\r\n                <CCol md=\"12\" lg=\"12\" xl=\"12\">\r\n                  {\r\n                    reload == true ?\r\n                      <Editor className='col-md-12' setDataText={setDataTextArabic} dataText={dataTextArabic} />\r\n\r\n                      :\r\n                      <Editor2 className='col-md-12' setDataText={setDataTextArabic} dataText={dataTextArabic} />\r\n\r\n                  }\r\n                </CCol>\r\n\r\n\r\n              </CRow>\r\n            </CCardBody>\r\n            <CCardFooter className=\"p-4\">\r\n              <CRow className=\"justify-content-center\">\r\n\r\n                {errorMessage && typeof errorMessage === 'object' ? <CAlert color=\"danger\" className='col-lg-12'  >\r\n                  {Object.keys(errorMessage).map((item, i) => (\r\n                    <React.Fragment key={i}>{errorMessage[item]}<br /></React.Fragment >\r\n                  ))}\r\n                </CAlert>\r\n                  :\r\n                  null}\r\n                {errorMessage && typeof errorMessage === 'string' ? <CAlert color=\"danger\" className='col-lg-12'  >{errorMessage} </CAlert> : null}\r\n                {succesAdd &&\r\n\r\n\r\n                  <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\r\n                    color=\"success\"\r\n                    show={visible}\r\n                    // closeButton\r\n                    onShowChange={setVisible}\r\n                  // closeButton\r\n                  >\r\n                    {succesAdd}\r\n                  </CAlert>\r\n\r\n\r\n                }\r\n\r\n                <CCol md=\"6\" lg=\"6\" xl=\"6\" xs=\"12\" sm=\"12\" >\r\n                  <CButton color=\"success\" block type='submit'>{t(\"Save\")}\r\n                    {loading && <>{' '}<i className=\"fa fa-spinner fa-spin\" ></i></>} </CButton>\r\n                </CCol>\r\n\r\n              </CRow>\r\n            </CCardFooter>\r\n          </CForm>\r\n        </CCard>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </CContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddNewPage\r\n","import React, { Component } from 'react';\r\nimport { EditorState, ContentState, convertFromHTML, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport { stateFromHTML } from 'draft-js-import-html';\r\nclass ControlledEditor extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.state = {\r\n  //     editorState: EditorState.createEmpty(),\r\n  //   };\r\n  //   console.log(props)\r\n  // }\r\n  constructor(props) {\r\n    super(props);\r\n    // var contentState = stateFromHTML(props.privacyPolicy);\r\n    // var editorStat = EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(props.privacyPolicy)));\r\n\r\n    // const html = props.privacyPolicy;\r\n    // const contentBlock = htmlToDraft(html);\r\n\r\n\r\n    //  const editorStateInitial =\r\n    //   EditorState.createWithContent(\r\n    //     ContentState.createFromBlockArray(contentBlock.htmlToDraft(props.privacyPolicy)));\r\n\r\n    // var editorStat = EditorState.createWithContent(contentState);\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n      // editorState: EditorState.createWithContent(\r\n      //   ContentState.createFromBlockArray(htmlToDraft(props.dataText)))\r\n    };\r\n  }\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n    // console.log(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n    this.props.setDataText(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n  };\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <Editor\r\n        editorState={editorState}\r\n        wrapperClassName=\"demo-wrapper \"\r\n        editorClassName=\"demo-editor\"\r\n        onEditorStateChange={this.onEditorStateChange}\r\n      />\r\n    )\r\n  }\r\n}\r\nexport default ControlledEditor","import React, { Component } from 'react';\r\nimport { EditorState, ContentState, convertFromHTML, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport { stateFromHTML } from 'draft-js-import-html';\r\nclass ControlledEditor extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.state = {\r\n  //     editorState: EditorState.createEmpty(),\r\n  //   };\r\n  //   console.log(props)\r\n  // }\r\n  constructor(props) {\r\n    super(props);\r\n    // var contentState = stateFromHTML(props.privacyPolicy);\r\n    // var editorStat = EditorState.createWithContent(ContentState.createFromBlockArray(convertFromHTML(props.privacyPolicy)));\r\n\r\n    // const html = props.privacyPolicy;\r\n    // const contentBlock = htmlToDraft(html);\r\n\r\n\r\n    //  const editorStateInitial =\r\n    //   EditorState.createWithContent(\r\n    //     ContentState.createFromBlockArray(contentBlock.htmlToDraft(props.privacyPolicy)));\r\n\r\n    // var editorStat = EditorState.createWithContent(contentState);\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n      // editorState: EditorState.createWithContent(\r\n      //   ContentState.createFromBlockArray(htmlToDraft(props.dataText)))\r\n    };\r\n  }\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n    // console.log(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n    this.props.setDataText(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n  };\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <Editor\r\n        editorState={editorState}\r\n        wrapperClassName=\"demo-wrapper \"\r\n        editorClassName=\"demo-editor\"\r\n        onEditorStateChange={this.onEditorStateChange}\r\n      />\r\n    )\r\n  }\r\n}\r\nexport default ControlledEditor"],"sourceRoot":""}