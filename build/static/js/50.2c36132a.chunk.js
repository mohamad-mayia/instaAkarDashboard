(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[50],{1197:function(e,t,c){"use strict";c.r(t),function(e){var a=c(175),n=c(45),s=c(121),r=c.n(s),l=c(174),o=c(659),i=c(1),j=c.n(i),u=c(658),b=(c(661),c(663),c(1198),c(14)),m=c(1503),d=c(176),O=(c(660),c(17));t.default=function(t){var c=t.match,s=Object(m.a)(),h=Object(o.a)(s,2),x=h[0],p=h[1],g=Object(b.g)(),f=Object(i.useState)(10),k=Object(o.a)(f,2),S=k[0],w=k[1],v=Object(i.useContext)(d.a).refreshTokenHandler,N=Object(i.useState)([]),y=Object(o.a)(N,2),A=(y[0],y[1],Object(i.useState)("")),_=Object(o.a)(A,2),C=_[0],J=_[1],F=Object(i.useState)(),I=Object(o.a)(F,2),U=I[0],B=I[1],E=Object(i.useState)(""),T=Object(o.a)(E,2),z=(T[0],T[1],Object(i.useState)()),q=Object(o.a)(z,2),K=q[0],D=q[1],G=Object(i.useState)(""),H=Object(o.a)(G,2),P=H[0],L=H[1],M=localStorage.getItem("token"),Q=(JSON.parse(M),Object(i.useState)("")),R=Object(o.a)(Q,2),V=(R[0],R[1],Object(i.useState)("")),W=Object(o.a)(V,2),X=(W[0],W[1],Object(i.useState)({name_en:"",name_ar:""})),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],ee=Z.name_en,te=Z.name_ar;Object(i.useEffect)(Object(l.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=function(){var t=Object(l.a)(r.a.mark((function t(n){var s,l,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/countries?country_id=").concat(c.params.CountryId),{method:"GET",headers:{Authorization:"Bearer "+s,Accept:"application/json"}});case 4:return l=t.sent,t.next=7,l.json();case 7:if(!(o=t.sent).message||"Unauthenticated."!=o.message){t.next=10;break}return t.abrupt("return",v((function(){a(n)})));case 10:o.message&&"Success"==o.message&&(i=o.payload.filter((function(e){return e.id==c.params.id}))[0],$({name_en:i.name.en,name_ar:i.name.ar})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[C]);var ce=function(e){$(Object(n.a)(Object(n.a)({},Z),{},Object(a.a)({},e.target.name,e.target.value))),B(""),D("")},ae=function(){var t=Object(l.a)(r.a.mark((function t(a){var n,s,l,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),L(!0),n=JSON.parse(localStorage.getItem("token")),B(""),D(""),s={name:{ar:te,en:ee}},t.prev=6,t.next=9,fetch("".concat(e.apiUrl,"api/areas/").concat(c.params.id,"?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:3000","Access-Control-Allow-Credentials":"true",Accept:"application/json"},body:JSON.stringify(s)});case 9:return l=t.sent,t.next=12,l.json();case 12:if(o=t.sent,w(10),"Fail"!==o.message){t.next=19;break}return B(o.error),t.abrupt("return");case 19:if(!o.errors){t.next=23;break}B(o.errors),t.next=25;break;case 23:if(!o.message||"Unauthenticated."!=o.message){t.next=25;break}return t.abrupt("return",v((function(){ae(a)})));case 25:o.message&&"Success"==o.message&&(D("ar"===p.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0645\u0646\u0637\u0642\u0629 \u0628\u0646\u062c\u0627\u062d":"Area has been updated successfully"),J(!C)),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(6),console.log(t.t0);case 31:L(!1);case 32:case"end":return t.stop()}}),t,null,[[6,28]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(O.jsx)(u.w,{children:Object(O.jsxs)(u.j,{className:"",children:[Object(O.jsx)(u.n,{children:Object(O.jsxs)(u.wb,{className:" row-gap-15",children:[Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(O.jsxs)("strong",{children:["ar"==p.language?"\u062a\u0639\u062f\u064a\u0644 \u0645\u0646\u0637\u0642\u0629":"Area Update","  "]})}),Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(O.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return g.goBack()},children:x("Back")})})]})}),Object(O.jsx)(u.wb,{children:Object(O.jsx)(u.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(O.jsx)(u.J,{onSubmit:function(e){ae(e)},children:Object(O.jsx)(u.k,{children:Object(O.jsxs)(u.j,{children:[Object(O.jsx)(u.k,{children:Object(O.jsxs)(u.wb,{children:[Object(O.jsxs)(u.u,{md:"12",children:[" ",Object(O.jsx)("strong",{children:"ar"==p.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0646\u0637\u0642\u0629":"Area Information"})]}),Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(O.jsxs)(u.K,{row:!0,children:[Object(O.jsx)(u.u,{md:"12",children:Object(O.jsx)(u.cb,{htmlFor:"text-input",children:x("English Name")})}),Object(O.jsx)(u.u,{xs:"12",md:"12",children:Object(O.jsx)(u.S,{name:"name_en",required:!0,onChange:ce,placeholder:x("English Name"),value:Z.name_en})})]})}),Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(O.jsxs)(u.K,{row:!0,children:[Object(O.jsx)(u.u,{md:"12",children:Object(O.jsx)(u.cb,{htmlFor:"text-input",children:x("Arabic Name")})}),Object(O.jsx)(u.u,{xs:"12",md:"12",children:Object(O.jsx)(u.S,{name:"name_ar",required:!0,onChange:ce,placeholder:x("Arabic Name"),value:Z.name_ar})})]})})]})}),Object(O.jsx)(u.l,{className:"p-4",children:Object(O.jsxs)(u.wb,{className:"justify-content-center",children:[U&&"object"===typeof U?Object(O.jsx)(u.a,{color:"danger",className:"col-lg-12",children:Object.keys(U).map((function(e,t){return Object(O.jsxs)(j.a.Fragment,{children:[U[e],Object(O.jsx)("br",{})]},t)}))}):null,U&&"string"===typeof U?Object(O.jsxs)(u.a,{color:"danger",className:"col-lg-12",children:[U," "]}):null,K&&Object(O.jsx)(u.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:S,onShowChange:w,children:K}),Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(O.jsxs)(u.f,{color:"success",block:!0,type:"submit",children:[x("Save"),P&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1198:function(e,t,c){},661:function(e,t,c){}}]);
//# sourceMappingURL=50.2c36132a.chunk.js.map