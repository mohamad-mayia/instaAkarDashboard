(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[53],{1161:function(e,c,t){"use strict";t.r(c),function(e){var n=t(121),s=t.n(n),a=t(174),r=t(175),l=t(45),j=t(659),i=t(1),o=t(658),b=(t(661),t(663),t(1162),t(14)),m=t(1503),d=(t(660),t(17));c.default=function(){var c=Object(m.a)(),t=Object(j.a)(c,2),n=(t[0],t[1]),u=(Object(b.g)(),Object(i.useState)(10)),O=Object(j.a)(u,2),h=O[0],x=O[1],g=Object(i.useState)(),p=Object(j.a)(g,2),f=p[0],w=p[1],N=Object(i.useState)(),S=Object(j.a)(N,2),v=S[0],k=S[1],_=Object(i.useState)(""),y=Object(j.a)(_,2),C=y[0],F=y[1],A=localStorage.getItem("token"),J=JSON.parse(A),L=Object(i.useState)(""),U=Object(j.a)(L,2),q=U[0],K=U[1],z=Object(i.useState)({name_en:"",name_ar:""}),D=Object(j.a)(z,2),E=D[0],I=D[1],R=E.name_en,B=E.name_ar,P=function(e){I(Object(l.a)(Object(l.a)({},E),{},Object(r.a)({},e.target.name,e.target.value))),w(""),k("")},T=function(){var c=Object(a.a)(s.a.mark((function c(t){var n,a,r;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t.preventDefault(),F(!0),w(""),k(""),n=new FormData,R&&n.append("name_en",R),B&&n.append("name_ar",B),q&&n.append("logo",q),c.prev=8,c.next=11,fetch("".concat(e.apiUrl,"api/companies"),{method:"POST",headers:{Authorization:"Bearer "+J,Accept:"application/json"},body:n});case 11:return a=c.sent,c.next=14,a.json();case 14:if(r=c.sent,console.log("response",r),console.log(r),x(10),!r.success){c.next=27;break}return c.next=21,x(6);case 21:k("Company added successfully."),I({name_en:"",name_ar:""}),K(""),x(6),c.next=29;break;case 27:x(10),w(r.messages);case 29:c.next=34;break;case 31:c.prev=31,c.t0=c.catch(8),console.log(c.t0);case 34:F(!1);case 35:case"end":return c.stop()}}),c,null,[[8,31]])})));return function(e){return c.apply(this,arguments)}}();return console.log("data",E),Object(d.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(d.jsx)(o.w,{children:Object(d.jsxs)(o.j,{className:"",children:[Object(d.jsx)(o.n,{children:Object(d.jsx)(o.wb,{className:" row-gap-15",children:Object(d.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(d.jsx)("strong",{children:"Add New Company"})})})}),Object(d.jsx)(o.wb,{children:Object(d.jsx)(o.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(d.jsx)(o.J,{onSubmit:function(e){T(e)},children:Object(d.jsx)(o.k,{children:Object(d.jsxs)(o.j,{children:[Object(d.jsx)(o.k,{children:Object(d.jsxs)(o.wb,{children:[Object(d.jsxs)(o.u,{md:"12",children:[" ",Object(d.jsx)("strong",{children:"Company Information:"})]}),Object(d.jsx)(o.u,{md:"6",lg:"6",xl:"6",children:Object(d.jsxs)(o.K,{row:!0,children:[Object(d.jsx)(o.u,{md:"12",children:Object(d.jsx)(o.cb,{htmlFor:"text-input",children:"English Name"})}),Object(d.jsx)(o.u,{xs:"12",md:"12",children:Object(d.jsx)(o.S,{name:"name_en",required:!0,onChange:P,placeholder:"English Name",value:E.name_en})})]})}),Object(d.jsx)(o.u,{md:"6",lg:"6",children:Object(d.jsxs)(o.K,{row:!0,className:"arabic-align",children:[Object(d.jsx)(o.u,{md:"12",children:Object(d.jsx)(o.cb,{htmlFor:"text-input"})}),Object(d.jsx)(o.u,{xs:"12",md:"12",children:Object(d.jsx)(o.S,{name:"name_ar",required:!0,onChange:P,placeholder:"Arabic Name",value:E.name_ar})})]})}),Object(d.jsxs)(o.u,{md:"6",children:[Object(d.jsx)(o.u,{md:"12",children:Object(d.jsxs)(o.K,{row:!0,children:[Object(d.jsx)(o.cb,{col:!0,md:12,children:"ar"==n.language?"\u0627\u0644\u0634\u0639\u0627\u0631":"Logo"}),Object(d.jsxs)(o.u,{xs:"12",md:"12",children:[Object(d.jsx)(o.U,{required:!0,accept:"image/*",custom:!0,id:"custom-file-input",onChange:function(e){!function(e){e.target.files[0]&&K(e.target.files[0])}(e)}}),Object(d.jsx)(o.cb,{htmlFor:"custom-file-input",variant:"custom-file",children:q?q.name:"ar"==n.language?"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629 ...":"Choose image ..."})]})]})}),"  "]}),Object(d.jsx)(o.u,{md:"6",children:q?Object(d.jsx)("img",{className:"imgLogo",src:URL.createObjectURL(q)}):null})]})}),Object(d.jsx)(o.l,{className:"p-4",children:Object(d.jsxs)(o.wb,{className:"justify-content-center",children:[f&&Object(d.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",show:h,onShowChange:x,children:Object.keys(f).map((function(e,c){return Object(d.jsxs)(d.Fragment,{children:[f[e],Object(d.jsx)("br",{})]})}))}),v&&Object(d.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:h,onShowChange:x,children:v}),Object(d.jsx)(o.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(d.jsxs)(o.f,{color:"success",block:!0,type:"submit",children:["Save",C&&Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,t(73))},1162:function(e,c,t){},661:function(e,c,t){}}]);
//# sourceMappingURL=53.afe03ce5.chunk.js.map