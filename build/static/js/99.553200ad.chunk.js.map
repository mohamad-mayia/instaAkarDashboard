{"version":3,"sources":["views/Tickets/Tickets.js"],"names":["Tickets","history","useHistory","useTranslation","i18n","useState","data","setData","refresh","currentPage","pageStatus","setPageStatus","tokenString","localStorage","getItem","userToken","JSON","parse","useEffect","a","e","fetch","global","apiUrl","method","headers","Authorization","Accept","responsee","json","response","console","log","success","payload","activeUser","id","getTicket","message","removeItem","clear","push","fetchTickets","language","setActiveUser","status","contentArea","useRef","xl","className","items","fields","hover","striped","pagination","sorter","itemsPerPage","columnFilter","scopedSlots","item","color","onClick","handleShow","md","lg","name","event","options","margin","filename","image","type","html2canvas","logging","jsPDF","format","orientation","Html2Pdf","document","getElementById","getPdf","then","pdf","handleExportWithFunction","ref","description","style","ticket_priority","reopen_reason","ticket_status","name_ar","name_en","ticket_type","next_action_date","company","department","backgroundColor","days_to_resolve","time_to_resolve","slice","customer","civil_id","email","company_id","company_name","phones","lenght","map","phone","index","Fragment","number","avenue","street","block","building","floor","flat","area_id","notes","blocking_reason"],"mappings":"sRAkeeA,UA7bC,WACd,IAAMC,EAAUC,cAChB,EAAkBC,cAAlB,mBAAUC,GAAV,WAEA,EAA0BC,oBAAS,GAAnC,mBACA,GADA,UAC0BA,oBAAS,IAAnC,mBACA,GADA,UAC0BA,oBAAS,IAAnC,mBACC,GADD,UAC6BA,oBAAS,IAArC,mBACD,GADC,UACoBA,mBAAS,KAA9B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KACA,GADA,KACwCH,sBAAxC,mBACA,GADA,UACsCA,mBAAS,IAA/C,mBAAOI,EAAP,KAEA,GAFA,KAE+BJ,sBAA/B,mBACA,GADA,UAC0BA,mBAAS,KAAnC,mBACA,GADA,UACiCA,mBAAS,IAA1C,mBAAOK,EAAP,KAAkBC,EAAlB,KACMC,EAAcC,aAAaC,QAAQ,SACnCC,EAAYC,KAAKC,MAAML,GAE7B,EAA8BP,mBAAS,IAAvC,6BAMAa,oBAAS,sBAAC,sBAAAC,EAAA,sFAAAA,EAAA,MACW,WAAMC,GAAN,iBAAAD,EAAA,+EAEOE,MAAM,GAAD,OACxBC,EAAOC,OADiB,mCAE3B,CACEC,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYX,EAC3BY,OAAQ,sBARG,cAEXC,EAFW,gBAaMA,EAAUC,OAbhB,OAaXC,EAbW,OAejBC,QAAQC,IAAI,OAAOF,GAClBA,EAASG,UACX1B,EAAQuB,EAASI,SAEfC,EAAWC,IAAIC,EAAUF,EAAWC,KAGlCN,EAASQ,SAA2B,oBAAlBR,EAASQ,UAC9BzB,aAAa0B,WAAW,SACxB1B,aAAa2B,QAEfvC,EAAQwC,KAAK,WA1BM,kDA8BjBV,QAAQC,IAAR,MA9BiB,0DADX,sDAuCRU,GAvCQ,2CAyCR,CAACjC,EAAYL,EAAKuC,SAASnC,IAI9B,MAAiCH,mBAAS,IAA1C,mBAAO8B,EAAP,KAAkBS,EAAlB,KAgBMP,EAAS,uCAAC,WAAMD,GAAN,iBAAAjB,EAAA,+EAGWE,MAAM,GAAD,OACxBC,EAAOC,OADiB,0BACOa,GAClC,CACEZ,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYX,EAE3BY,OAAQ,sBAVD,cAGPC,EAHO,QAcAiB,OAdA,SAiBUjB,EAAUC,OAjBpB,OAiBPC,EAjBO,OAkBbC,QAAQC,IAAI,WAAWF,GACvBC,QAAQC,IAAIF,GACS,GAAlBA,EAASG,SACVW,EAAcd,EAASI,SArBZ,kDAwBbH,QAAQC,IAAR,MAxBa,0DAAD,sDA4BVc,EAAcC,iBAAO,MAqBzB,OAEE,eAAC,KAAD,WACe,GAAZrC,GACA,cAAC,IAAD,CAAMsC,GAAI,GAAV,SACA,eAAC,IAAD,WACE,cAAC,IAAD,UAEoB,MAAjB5C,EAAKuC,SAAmB,mDAAa,YAExC,cAAC,IAAD,CAAWM,UAAU,aAArB,SACD3C,GAAQ,cAAC,IAAD,CACL4C,MAAO5C,EACP6C,OAAQ,CAAC,KAAK,OAAO,cAAc,mBAAmB,WAAW,OAAO,SAAS,WACjF,UACA,aAAa,WACbC,OAAK,EACLC,SAAO,EACPC,YAAU,EAEVC,QAAM,EACjBC,aAAc,GACbC,cAAY,EAGFC,YAAe,CAGX,QACA,SAACC,GAAD,OACE,6BAEI,cAAC,IAAD,CAAQV,UAAU,sBAAsBW,MAAM,OAAQC,QAAS,kBA/FlE,SAACF,GAEhBtB,EAAUsB,EAAKvB,IAEfzB,EAAc,GA2FuEmD,CAAWH,IAA9E,SACkB,MAAjBvD,EAAKuC,SAAmB,2BAAc,0BAaxC,GAAZjC,GAAeyB,GACf,cAAC,IAAD,CAAMa,GAAI,GAAV,SACA,eAAC,IAAD,WACE,cAAC,IAAD,UACA,eAAC,KAAD,CAAMC,UAAU,qCAAhB,UAKE,cAAC,IAAD,CAAMc,GAAG,IAAIC,GAAG,IAAIhB,GAAG,IAAIC,UAAU,iGAArC,SACCd,EAAW8B,OAEZ,eAAC,IAAD,CAAMF,GAAG,IAAIC,GAAG,IAAIhB,GAAG,IAAIC,UAAU,0BAArC,UACA,cAAC,IAAD,CAASW,MAAM,OAAQX,UAAU,kDAClCY,QAAS,SAACzC,GAAD,OAhFe,SAAC8C,GAGlC,IAAMC,EAAU,CACdC,OAAQ,CAAC,GAAI,GAAI,GAAI,IACrBC,SAAS,UAAD,OAAYlC,EAAW8B,KAAvB,QACRK,MAAO,CAAEC,KAAM,OAEfC,YAAa,CAAEC,SAAS,GACxBC,MAAO,CAACC,OAAQ,KAChBC,YAAa,MAGA,IAAIC,IAASC,SAASC,eAAe,QAASZ,GACpDa,QAAO,GAAMC,MAAK,SAAAC,OAkEJC,IADb,SAC6D,MAAjB/E,EAAKuC,SAAL,oDAEtC,cAAC,IAAD,CAASiB,MAAM,UAAWX,UAAU,kDAC3CY,QAAS,kBAtHlBjB,EAAc,SACdjC,EAAc,IAoHE,SACuC,MAAjBP,EAAKuC,SAAL,4CAO9B,qBAAOyC,IAAKtC,EAAaV,GAAG,OAA5B,SACA,eAAC,IAAD,CAAWa,UAAU,GAArB,UAIA,eAAC,KAAD,WACE,cAAC,IAAD,CAAMc,GAAG,KAAT,SAAc,iCAA0B,MAAjB3D,EAAKuC,SAAL,kHACzBR,EAAWkD,aAAgB,cAAC,IAAD,CAAMpC,UAAU,OAAQc,GAAG,KAA3B,SAErC,qBAAId,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEd,MAAjBxD,EAAKuC,SAAmB,iCAAU,cAC/B,OAAa,uCAAmBR,EAAWkD,iBAIzClD,EAAWqD,eAAkB,cAAC,IAAD,CAAMvC,UAAU,OAAQc,GAAG,KAA3B,SAEnC,qBAAId,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEd,MAAjBxD,EAAKuC,SAAmB,mFAAoB,gBACzC,OAAa,uCAAmBR,EAAWqD,mBAGnC,eAAC,IAAD,CAAMvC,UAAU,OAAOc,GAAG,IAA1B,UAGZ,qBAAId,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,4CAA2C,OAC5F,IAAI,uCAAmBR,EAAWC,MACnC,qBAAIa,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,wCAChD,OAAa,uCAFf,IAEmCR,EAAW8B,QAE3C,qBAAIhB,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,sFACnD,OAAa,uCAFZ,IAEiD,MAAjBvC,EAAKuC,SAAkBR,EAAWsD,cAAcC,QAAUvD,EAAWsD,cAAcE,WACrH,qBAAI1C,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,oGACjD,OAAa,uCAFd,IAEmD,MAAjBvC,EAAKuC,SAAkBR,EAAWoD,gBAAgBG,QAAUvD,EAAWoD,gBAAgBI,cAKhH,eAAC,IAAD,CAAM1C,UAAU,OAAOc,GAAG,IAA1B,UAGV,qBAAId,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,8EAChD,OAFF,IAEgB,uCAFhB,IAEqD,MAAjBvC,EAAKuC,SAAkBR,EAAWyD,YAAYF,QAAUvD,EAAWyD,YAAYD,WAElH,qBAAI1C,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEf,MAAjBxD,EAAKuC,SAAL,oIACG,OAAa,uCAAmBR,EAAW0D,oBAC/C,qBAAI5C,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,iDADlB,IACmE,OAC1F,uCAAmBR,EAAW2D,QAAQ3D,EAAW2D,QAAQ,OAElE,qBAAI7C,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,8CADlB,IACqE,OAC5F,uCAAoC,MAAjBvC,EAAKuC,SAAkBR,EAAW4D,WAAWL,QAAUvD,EAAW4D,WAAWJ,iBAWrG,eAAC,KAAD,WACQ,cAAC,IAAD,CAAM5B,GAAG,KAAT,SAAc,iCAA0B,MAAjB3D,EAAKuC,SAAL,0HAGvB,eAAC,IAAD,CAAMM,UAAU,OAAOc,GAAG,IAA1B,UAGZ,qBAAId,UAAU,kBAAd,UAAgC,mCAA0B,MAAjB7C,EAAKuC,SAAL,oGACvC,OADF,IACgB,uCADhB,IACqD,MAAjBvC,EAAKuC,SAAkBR,EAAWoD,gBAAgBG,QAAUvD,EAAWoD,gBAAgBI,WAE3H,qBAAI1C,UAAU,kBAAd,UAAgC,mCAA0B,MAAjB7C,EAAKuC,SAAL,yCACvC,IAD8B,IACzB,0CADP,MACqC,sBAAMM,UAAU,SAASqC,MAAO,CAACU,gBAAgB7D,EAAWoD,gBAAgB3B,SAC/GzB,EAAWoD,gBAAgB3B,YAMnB,eAAC,IAAD,CAAMX,UAAU,OAAOc,GAAG,IAA1B,UAGV,qBAAId,UAAU,kBAAd,UAAgC,mCAA0B,MAAjB7C,EAAKuC,SAAL,qJACvC,OAAa,uCADf,IACmCR,EAAWoD,gBAAgBU,mBAG9D,qBAAIhD,UAAU,kBAAd,UAAgC,mCAA0B,MAAjB7C,EAAKuC,SAAL,yIACvC,OAAa,uCADf,IACmCR,EAAWoD,gBAAgBW,iBAAiB/D,EAAWoD,gBAAgBW,gBAAgBC,MAAM,EAAE,YAe9H,eAAC,KAAD,WACQ,cAAC,IAAD,CAAMpC,GAAG,KAAT,SAAc,iCAA0B,MAAjB3D,EAAKuC,SAAL,8GAEvB,eAAC,IAAD,CAAMM,UAAU,OAAOc,GAAG,IAA1B,UAGZ,qBAAId,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,4CAA2C,OAC5F,IAAI,uCAAmB,IAAKR,EAAWiE,SAAShE,MACjD,qBAAIa,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,wCAChD,OAAa,uCAAmB,IAFlC,IAEwCR,EAAWiE,SAASnC,QAC5D,qBAAIhB,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEd,MAAjBxD,EAAKuC,SAAL,gHACG,OAAa,uCAAmB,IAAKR,EAAWiE,SAASC,YAC1D,qBAAIpD,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,6GACjD,OAAa,uCAAmB,IAAKR,EAAWiE,SAASE,SAC7D,qBAAIrD,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,6EAAwD,OACjG,uCAAmB,IAAKR,EAAWiE,SAASG,cACrD,qBAAItD,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,yEAAyD,OAClG,uCAAmB,IAAKR,EAAWiE,SAASI,gBAErD,qBAAIvD,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,0CADlB,IACiE,OACjG,uCAAmB,IAAKR,EAAWiE,SAASK,OAAOC,OAAO,EAC1D,qCAAG,KACDvE,EAAWiE,SAASK,OAAOE,KAAI,SAACC,EAAMC,GACpC,OAAO,cAAC,IAAMC,SAAP,UAA6BF,EAAMG,OAAO,OAArBF,SAMpB,UAMF,eAAC,IAAD,CAAM5D,UAAU,OAAOc,GAAG,IAA1B,UAGV,qBAAId,UAAU,kBAAd,UAAgC,yBAC/BqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADV,UACoC,MAAjBxD,EAAKuC,SAAL,gDADnB,IACmE,OADnG,IAEW,IAAI,uCAAmB,IAAKR,EAAWiE,SAASY,OAAO7E,EAAWiE,SAASY,OAAO,OAC7F,qBAAI/D,UAAU,kBAAd,UAAgC,yBAC9BqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADX,UACqC,MAAjBxD,EAAKuC,SAAL,gDADpB,IACoE,OADpG,IAEW,IAAI,uCAAmB,IAAKR,EAAWiE,SAASa,OAAO9E,EAAWiE,SAASa,OAAO,OAC7F,qBAAIhE,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEd,MAAjBxD,EAAKuC,SAAL,+CACG,OAHJ,IAGmB,IAAI,uCAAmB,IAAKR,EAAWiE,SAASc,MAAM/E,EAAWiE,SAASc,MAAM,OACnG,qBAAIjE,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,kDADlB,IACoE,OADpG,IAEW,IAAI,uCAAmB,IAAKR,EAAWiE,SAASe,SAAShF,EAAWiE,SAASe,SAAS,OACjG,qBAAIlE,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,+CADlB,IACiE,OADjG,IAEW,IAAI,uCAAmB,IAAKR,EAAWiE,SAASgB,MAAMjF,EAAWiE,SAASgB,MAAM,OAC3F,qBAAInE,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UACmC,MAAjBxD,EAAKuC,SAAL,wCADlB,IAC+D,OAD/F,IAEW,IAAI,uCAAmB,IAAKR,EAAWiE,SAASiB,KAAKlF,EAAWiE,SAASiB,KAAK,OACzF,qBAAIpE,UAAU,kBAAd,UAAgC,yBAChCqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OADT,UAEb,MAAjBxD,EAAKuC,SAAL,gFACA,OAHF,IAGiB,IAAI,uCAAmB,IAHxC,IAG8CR,EAAWiE,SAASkB,cAMvDnF,EAAWiE,SAASmB,OACrB,cAAC,IAAD,CAAMtE,UAAU,OAAQc,GAAG,KAA3B,SAEV,qBAAId,UAAU,kBAAd,UAAgC,yBAAQqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OAAjD,UACd,MAAjBxD,EAAKuC,SAAmB,6CAAY,QACjC,OAAcR,EAAWiE,SAASmB,WAMjCpF,EAAWiE,SAASoB,iBACf,cAAC,IAAD,CAAMvE,UAAU,OAAQc,GAAG,KAA3B,SAEV,qBAAId,UAAU,kBAAd,UAAgC,yBAASqC,MAAO,CAAC1B,MAAMzB,EAAWoD,gBAAgB3B,OAAlD,UACd,MAAjBxD,EAAKuC,SAAmB,qDAAe,gBACpC,OAFJ,IAEmB,IAAI,uCAAmB,IAAKR,EAAWiE,SAASoB,uC","file":"static/js/99.553200ad.chunk.js","sourcesContent":["import React, { useState, useEffect,useRef } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CPagination,\n  CButton,\n  CForm,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CFormGroup, \nCLabel,\nCSelect,\nCInput,\nCInputGroup,\nCInputGroupPrepend,\nCInputGroupText,\nCCardFooter\n} from '@coreui/react'\nimport {CAlert} from '@coreui/react'\nimport '../../globalVar'\nimport './Tickets.scss'\n\nimport { useTranslation } from 'react-i18next';\nimport { PDFExport, savePDF } from '@progress/kendo-react-pdf';\n// import html2PDF from 'jspdf-html2canvas';html2canvas\nimport { jsPDF } from \"jspdf\";\nimport Html2Pdf from \"js-html2pdf\";\nimport html2canvas from 'html2canvas';\nconst Tickets = () => {\n  const history = useHistory()\n  const [t, i18n] = useTranslation();\n\n  const [modal, setModal] = useState(true)\n  const [small, setSmall] = useState(false)\n  const [large, setLarge] = useState(false)\n   const [danger, setDanger] = useState(false)\n  const [data,setData]=useState('')\n  const [refresh, setRefresh] = useState(false)\n  const [errorMessage, setErrorMessage] = useState();\n  const [currentPage, setCurrentPage] = useState(1)\n \n  const[succesAdd,setSuccessAdd]=useState()\n  const[loading,setLoading]=useState('')\n  const [pageStatus,setPageStatus]=useState(0)\n  const tokenString = localStorage.getItem(\"token\");\n  const userToken = JSON.parse(tokenString);\n\n  const [visible, setVisible] = useState(10)\n\n\n\n\n\n  useEffect(async()=>{\n    const fetchTickets=async(e)=>{\n    try {\n      const responsee = await fetch(\n        `${global.apiUrl}/super/tickets?paginate=0&name=`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \" + userToken,\n            Accept: \"application/json\",\n          },\n\n        }\n      );\n      const response = await responsee.json();\n      // console.log('response',response);\n      console.log('faqs',response);\n    if(response.success){\n     setData(response.payload)\n    //  setTotalPages(response.payload.last_page)\n    if(activeUser.id){getTicket(activeUser.id)}\n  \n    }\n      if(response.message&&response.message==\"Unauthenticated.\"){\n      localStorage.removeItem(\"token\");\n      localStorage.clear()\n   \n    history.push(\"/login\");\n      }\n     \n    } catch (err) {\n      console.log(err);\n     \n    }\n\n    \n    \n    }\n  \n    fetchTickets()\n   \n  },[currentPage,i18n.language,refresh])\n\n \n  \n const [activeUser,setActiveUser]=useState('')\n\n const handleShow=(item)=>{\n  //  setActiveUser(item)\n   getTicket(item.id)\n   \n   setPageStatus(1)\n }\n\n const handleBack=(item)=>{\n  setActiveUser('')\n  setPageStatus(0)\n}\n\n\n\nconst  getTicket=async(id)=>{\n  \n  try {\n    const responsee = await fetch(\n      `${global.apiUrl}/super/tickets/${id}`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \" + userToken,\n                 \n          Accept: \"application/json\",\n        },\n     }\n    );\n    if(responsee.status==204){\n     \n    }\n    const response = await responsee.json();\n    console.log('response',response);\n    console.log(response);\n    if(response.success==true){\n      setActiveUser(response.payload)\n    }\n  } catch (err) {\n    console.log(err);\n   \n  }\n}\nconst contentArea = useRef(null);\nconst  handleExportWithFunction  = (event) => {\n\n  // document.getElementById('page').style.fontFamily = 'Almarai';\n  const options = {\n    margin: [10, 12, 10, 12],\n    filename: `ticket ${activeUser.name}.pdf`,\n    image: { type: 'png' },\n    // output: './pdf/generate.pdf',\n    html2canvas: { logging: true },\n    jsPDF: {format: 'a4',\n    orientation: 'p',\n  }\n  };\n  let exporter = new Html2Pdf(document.getElementById('page'), options);\n  exporter.getPdf(true).then(pdf => {\n    // this.$emit('success');\n});   \n\n}\n\n  return (\n    \n    <CRow>\n      {pageStatus==0&&\n       <CCol xl={12}>\n       <CCard>\n         <CCardHeader>\n           \n           {i18n.language == 'ar' ? \"البطاقات\" : \"Tickets\"}\n         </CCardHeader>\n         <CCardBody className='usersTabel'>\n      { data&&  <CDataTable\n           items={data}\n           fields={['id','name','description','next_action_date','customer','type','status','priority',\n           'company',\n           'department','actions']}\n           hover\n           striped\n           pagination\n    \n           sorter\nitemsPerPage={12}\n columnFilter\n          //  clickableRows\n          //  onRowClick={(item) => handleShow(item)}\n           scopedSlots = {{\n         \n             \n               'actions':\n               (item)=>(\n                 <td>\n             \n                     <CBadge className=\"p-1  m-1 badg-click\" color=\"info\"  onClick={()=>handleShow(item)}  >\n                     {i18n.language == 'ar' ? \"عرض .....\" : \"Show....\"}</CBadge> \n                  \n                 </td>\n               ),\n\n           }}\n         />}\n\n         </CCardBody>\n       </CCard>\n     </CCol>\n      }\n      {\n        pageStatus==1&&activeUser&&\n        <CCol xl={12}>\n        <CCard>\n          <CCardHeader>\n          <CRow className=\"justify-content-center row-gap-15 \">\n\n\n        \n\n            <CCol md=\"6\" lg=\"6\" xl=\"6\" className=\"justify-content-center align-self-center align-items-center place-items-center text-capitalize\">\n            {activeUser.name}\n            </CCol>\n            <CCol md=\"6\" lg=\"6\" xl=\"6\" className=\" row-gap-15 col-gap-15 \">\n            <CButton color=\"info\"  className='col-lg-4  col-md-4col-sm-12 col-xs-12 updatebtn'\n           onClick={(e)=>handleExportWithFunction(e)} >{i18n.language == 'ar' ? `تصدير PDF` : `Export PDF`}\n                  </CButton>\n                  <CButton color=\"success\"  className='col-lg-4  col-md-4col-sm-12 col-xs-12 updatebtn'\n           onClick={()=>handleBack()} >{i18n.language == 'ar' ? `رجوع` : `Back`}\n                  </CButton>\n         \n            </CCol>\n            </CRow>\n      \n          </CCardHeader>\n          <div   ref={contentArea} id=\"page\">  \n          <CCardBody className=''>\n     \n        \n         \n          <CRow>\n            <CCol md='12'><strong>{i18n.language == 'ar' ? `معلومات البطاقة` : `Ticket Informations`}</strong></CCol>\n       {  activeUser.description&&   <CCol className=' p-1'  md='12'>\n          {/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? \"الوصف\" : \"Description\"}\n   {' '}</strong><strong>:</strong>{activeUser.description}</li>\n   {/* </ul> */}\n   </CCol>}\n \n   {  activeUser.reopen_reason&&   <CCol className=' p-1'  md='12'>\n          {/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? \"سبب إعادة الفتح\" : \"Reopen Reason\"}\n   {' '}</strong><strong>:</strong>{activeUser.reopen_reason}</li>\n   {/* </ul> */}\n   </CCol>}\n            <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `المعرف` :   `Id`}{' '}</strong>\n{' '}<strong>:</strong>{activeUser.id}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الاسم` :   `Name`}\n {' '}</strong><strong>:</strong> {activeUser.name}</li>\n\n   <li className=\"list-group-item\"><strong\n   style={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `حالة البطاقة` :   `Ticket Status`}\n {' '}</strong><strong>:</strong> {i18n.language == 'ar' ?activeUser.ticket_status.name_ar : activeUser.ticket_status.name_en  }</li>\n <li className=\"list-group-item\"><strong\n style={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `اولوية البطاقة` :   `Ticket Priority`}\n {' '}</strong><strong>:</strong> {i18n.language == 'ar' ?activeUser.ticket_priority.name_ar : activeUser.ticket_priority.name_en  }</li>\n{/* </ul> */}\n\n\n          </CCol>\n          <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `نوع البطاقة` :   `Ticket Type`}\n {' '}</strong> <strong>:</strong> {i18n.language == 'ar' ?activeUser.ticket_type.name_ar : activeUser.ticket_type.name_en  }</li>\n\n <li className=\"list-group-item\"><strong\n style={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? `تاريخ الإجراء التالي` :   `Next Action Date`}\n   {' '}</strong><strong>:</strong>{activeUser.next_action_date}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الشركة` :   `Company`} {' '}\n</strong><strong>:</strong>{activeUser.company?activeUser.company:'-'}</li>\n\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `القسم` :   `Department`} {' '}\n</strong><strong>:</strong>{i18n.language == 'ar' ?activeUser.department.name_ar : activeUser.department.name_en  }</li>\n  {/* </ul> */}\n\n\n          </CCol>\n\n\n\n\n    </CRow>  \n\n    <CRow>\n            <CCol md='12'><strong>{i18n.language == 'ar' ? `معلومات الأولوية` : `Priority Informations`}</strong></CCol>\n\n  \n            <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong>{i18n.language == 'ar' ? `اولوية البطاقة` :   `Ticket Priority`}\n {' '}</strong> <strong>:</strong> {i18n.language == 'ar' ?activeUser.ticket_priority.name_ar : activeUser.ticket_priority.name_en  }</li>\n\n<li className=\"list-group-item\"><strong>{i18n.language == 'ar' ? `اللون` :   `Color`}\n {' '} <strong>:</strong></strong>   <span className='colDiv' style={{backgroundColor:activeUser.ticket_priority.color}}></span>\n {activeUser.ticket_priority.color}</li>\n\n{/* </ul> */}\n\n\n          </CCol>\n          <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong>{i18n.language == 'ar' ? `الايام اللازمة للمعالجة` :   `Days To Resolve`}\n {' '}</strong><strong>:</strong> {activeUser.ticket_priority.days_to_resolve }</li>\n\n\n<li className=\"list-group-item\"><strong>{i18n.language == 'ar' ? `الزمن اللازم للمعالجة` :   `Time To Resolve`}\n {' '}</strong><strong>:</strong> {activeUser.ticket_priority.time_to_resolve&&activeUser.ticket_priority.time_to_resolve.slice(0,5) }</li>\n\n\n  {/* </ul> */}\n\n\n          </CCol>\n\n\n\n\n    </CRow>  \n\n\n\n    <CRow>\n            <CCol md='12'><strong>{i18n.language == 'ar' ? `معلومات الزبون` : `Customer Informations`}</strong></CCol>\n            \n            <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `المعرف` :   `Id`}{' '}</strong>\n{' '}<strong>:</strong>{' '}{activeUser.customer.id}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الاسم` :   `Name`}\n {' '}</strong><strong>:</strong>{' '} {activeUser.customer.name}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? `رقم الهوية المدنية` :   `Civil Id`}\n   {' '}</strong><strong>:</strong>{' '}{activeUser.customer.civil_id}</li>\n   <li className=\"list-group-item\"><strong\n   style={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `البريد الالكتروني` :   `Email `}\n   {' '}</strong><strong>:</strong>{' '}{activeUser.customer.email}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `معرف الشركة` :   `Company Id`}{' '}\n</strong><strong>:</strong>{' '}{activeUser.customer.company_id}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `اسم الشركة` :   `Company Name`}{' '}\n</strong><strong>:</strong>{' '}{activeUser.customer.company_name}</li>\n\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `هواتف` :   `Phones`} {' '}</strong>\n<strong>:</strong>{' '}{activeUser.customer.phones.lenght>0?\n<>{'/ '}{\n  activeUser.customer.phones.map((phone,index)=>{ \n    return(<React.Fragment key={index}>{phone.number+' / '}</React.Fragment>)\n  })\n}\n</>\n\n:\n            '-'\n            }</li>\n{/* </ul> */}\n\n\n          </CCol>\n          <CCol className=' p-1' md='6' >\n\n{/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong\n style={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الجادة` :   `Avenue`} {' '}\n</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.avenue?activeUser.customer.avenue:'-'}</li>\n<li className=\"list-group-item\"><strong \n  style={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الشارع` :   `Street`} {' '}\n</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.street?activeUser.customer.street:'-'}</li>\n<li className=\"list-group-item\"><strong \nstyle={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? `الكتلة` :   `Block`}\n   {' '}</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.block?activeUser.customer.block:'-'}</li>\n<li className=\"list-group-item\"><strong \nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `البناء` :   `Building`} {' '}\n</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.building?activeUser.customer.building:'-'}</li>\n<li className=\"list-group-item\"><strong \nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الطابق` :   `Floor`} {' '}\n</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.floor?activeUser.customer.floor:'-'}</li>\n<li className=\"list-group-item\"><strong \nstyle={{color:activeUser.ticket_priority.color}}>{i18n.language == 'ar' ? `الشقة` :   `Flat`} {' '}\n</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.flat?activeUser.customer.flat:'-'}</li>\n<li className=\"list-group-item\"><strong\nstyle={{color:activeUser.ticket_priority.color}}\n>{i18n.language == 'ar' ? `معرف المنطقة` :   `Area Id`}\n {' '}</strong> {' '}<strong>:</strong>{' '} {activeUser.customer.area_id}</li>\n\n  {/* </ul> */}\n\n\n          </CCol>\n          {activeUser.customer.notes &&\n          <CCol className=' p-1'  md='12'>\n          {/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong style={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? \"ملاحظات\" : \"Notes\"}\n   {' '}</strong>{activeUser.customer.notes}</li>\n\n\n\n{/* </ul> */}\n          </CCol>}\n    {activeUser.customer.blocking_reason &&\n          <CCol className=' p-1'  md='12'>\n          {/* <ul className=\" card list-group list-group-flush\"> */}\n<li className=\"list-group-item\"><strong  style={{color:activeUser.ticket_priority.color}}>\n{i18n.language == 'ar' ? \" سبب الحظر\" : \" Block Reason\"}\n   {' '}</strong> {' '}<strong>:</strong>{' '}{activeUser.customer.blocking_reason}</li>\n\n\n\n{/* </ul> */}\n          </CCol>}\n    </CRow>  \n          </CCardBody>\n          </div>\n        </CCard>\n      </CCol>\n\n\n      }\n       {/* <CModal \n              show={small} \n              onClose={() => setSmall(!small)}\n              size=\"sm\"\n              color='danger'\n            >\n              <CModalHeader closeButton>\n                <CModalTitle>{i18n.language == 'ar' ? \"حذف مستخدم\" : \"Delete User\"}</CModalTitle>\n              </CModalHeader>\n              <CModalBody>\n              {i18n.language == 'ar' ? `هل انت متأكد أنك تريد حذف مستخدم (${itemToDelete.username})` \n              : `Are you sure you want to delete a User (${itemToDelete.username})`}\n              </CModalBody>\n              <CModalFooter>\n                <CButton color=\"danger\" onClick={() =>handleDelete()}>{i18n.language == 'ar' ? \"حذف\" : \"Delete\"}</CButton>{' '}\n                <CButton color=\"secondary\" onClick={() => setSmall(!small)}>{i18n.language == 'ar' ? \"الغاء\" : \"Cancel\"}</CButton>\n              </CModalFooter>\n            </CModal> */}\n     \n    </CRow>\n  )\n}\n\nexport default Tickets\n"],"sourceRoot":""}