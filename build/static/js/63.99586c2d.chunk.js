(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[63],{1307:function(e,t,c){"use strict";c.r(t),function(e){var n=c(681),a=c(121),s=c.n(a),r=c(174),i=c(659),l=c(1),o=c.n(l),j=c(658),u=(c(1308),c(176)),b=c(14),d=c(1503),m=(c(660),c(17));t.default=function(){var t=Object(l.useContext)(u.a).refreshTokenHandler,c=Object(d.a)(),a=Object(i.a)(c,2),O=a[0],f=a[1],h=Object(b.g)(),g=Object(l.useState)(10),x=Object(i.a)(g,2),p=x[0],k=x[1],y=Object(l.useState)(),N=Object(i.a)(y,2),w=N[0],v=N[1],S=Object(l.useState)(),P=Object(i.a)(S,2),A=P[0],I=P[1],C=Object(l.useState)(""),F=Object(i.a)(C,2),J=F[0],U=F[1],R=localStorage.getItem("token"),B=(JSON.parse(R),Object(l.useState)([])),D=Object(i.a)(B,2),T=D[0],z=D[1],E=function(){var c=Object(r.a)(s.a.mark((function c(n){var a,r,i,l;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),v(""),I(""),0!=T.length||(v("ar"===f.language?"\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0635\u0648\u0631\u0629 \u0627\u0648 \u0627\u0643\u062b\u0631":"You must enter one or more images."),k(8),0)){c.next=5;break}return c.abrupt("return");case 5:return"api/addPredefinedAdminPostImages",U(!0),a=JSON.parse(localStorage.getItem("token")),r=new FormData,T.length>0&&T.forEach((function(e,t){r.append("images[".concat(t,"][file]"),e)})),c.prev=10,c.next=13,fetch("".concat(e.apiUrl).concat("api/addPredefinedAdminPostImages"),{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:r});case 13:return i=c.sent,c.next=16,i.json();case 16:if(l=c.sent,U(!1),k(10),"Fail"!==l.message){c.next=24;break}return v(l.error),c.abrupt("return");case 24:if(!l.errors){c.next=28;break}v(l.errors),c.next=30;break;case 28:if(!l.message||"Unauthenticated."!=l.message){c.next=30;break}return c.abrupt("return",t((function(){E(n)})));case 30:l.message&&200==i.status&&(k(6),I(l.message),z([])),c.next=36;break;case 33:c.prev=33,c.t0=c.catch(10),console.log(c.t0);case 36:U(!1);case 37:case"end":return c.stop()}}),c,null,[[10,33]])})));return function(e){return c.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(m.jsx)(j.w,{children:Object(m.jsxs)(j.j,{className:"",children:[Object(m.jsx)(j.n,{children:Object(m.jsxs)(j.wb,{className:" row-gap-15",children:[Object(m.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(m.jsx)("strong",{children:"ar"===f.language?"\u0627\u0636\u0627\u0641\u0629 \u0635\u0648\u0631 \u0644\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a":"Add New Pre-Defined Posts Images"})}),Object(m.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(m.jsxs)(j.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return h.goBack()},children:["  ",O("Back")]})})]})}),Object(m.jsx)(j.wb,{children:Object(m.jsx)(j.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(m.jsx)(j.J,{onSubmit:function(e){E(e)},children:Object(m.jsx)(j.k,{children:Object(m.jsxs)(j.j,{children:[Object(m.jsx)(j.k,{children:Object(m.jsxs)(j.wb,{children:[Object(m.jsx)(j.u,{md:"6",children:Object(m.jsx)(j.u,{md:"12",children:Object(m.jsxs)(j.K,{row:!0,children:[Object(m.jsx)(j.cb,{col:!0,md:12,children:"ar"==f.language?"\u0635\u0648\u0631\u0629 \u0645\u0633\u0628\u0642\u0629 \u0644\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a":"Predefined Post Pictures"}),Object(m.jsxs)(j.u,{xs:"12",md:"12",children:[Object(m.jsx)(j.U,{accept:"image/*",required:!0,custom:!0,multiple:!0,id:"custom-files-input",onChange:function(e){!function(e){e.target.files[0]&&z((function(t){return[].concat(Object(n.a)(t),Object(n.a)(e.target.files))}))}(e)}}),Object(m.jsx)(j.cb,{htmlFor:"custom-files-input",variant:"custom-file",children:"ar"==f.language?"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631 ...":"Choose images ..."})]})]})})}),Object(m.jsx)(j.u,{md:"12"}),T.length>0?Object(m.jsx)(m.Fragment,{children:T.map((function(e,t){return Object(m.jsx)(j.u,{md:"3",className:"mb-1",children:Object(m.jsxs)("ul",{className:" card list-group list-group-flush",children:[Object(m.jsx)("li",{className:"list-group-item  ",children:Object(m.jsx)("img",{className:"imgprediifined",src:URL.createObjectURL(e)})}),Object(m.jsx)(j.f,{color:"secondary",className:"col-lg-12  ",type:"button",onClick:function(){return function(e){var t=Object(n.a)(T);t.splice(e,1),z(Object(n.a)(t))}(t)},style:{borderRadius:"0"},children:O("Remove")})]})},"".concat(t).concat(e.lastModified))}))}):null]})}),Object(m.jsx)(j.l,{className:"p-4",children:Object(m.jsxs)(j.wb,{className:"justify-content-center",children:[w&&"object"===typeof w?Object(m.jsx)(j.a,{color:"danger",className:"col-lg-12",children:Object.keys(w).map((function(e,t){return Object(m.jsxs)(o.a.Fragment,{children:[w[e],Object(m.jsx)("br",{})]},t)}))}):null,w&&"string"===typeof w?Object(m.jsxs)(j.a,{color:"danger",className:"col-lg-12",children:[w," "]}):null,A&&Object(m.jsx)(j.a,{className:"col-lg-12    ",color:"success",show:p,onShowChange:k,children:A}),Object(m.jsx)(j.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(m.jsxs)(j.f,{color:"success",block:!0,type:"submit",children:[O("Save"),J&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1308:function(e,t,c){},681:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c(729);var a=c(705);function s(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=63.99586c2d.chunk.js.map