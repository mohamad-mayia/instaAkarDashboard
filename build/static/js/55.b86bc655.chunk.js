(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[55],{1177:function(e,c,t){"use strict";t.r(c),function(e){var n=t(175),r=t(45),a=t(121),s=t.n(a),l=t(174),u=t(659),o=t(1),i=t.n(o),j=t(658),b=(t(661),t(663),t(1178),t(14)),m=t(1503),d=t(176),h=(t(660),t(17));c.default=function(c){var t=c.match,a=Object(m.a)(),x=Object(u.a)(a,2),O=x[0],p=x[1],g=Object(b.g)(),f=Object(o.useState)(10),y=Object(u.a)(f,2),_=y[0],S=y[1],k=Object(o.useContext)(d.a).refreshTokenHandler,w=Object(o.useState)([]),v=Object(u.a)(w,2),N=(v[0],v[1],Object(o.useState)("")),C=Object(u.a)(N,2),A=C[0],F=C[1],J=Object(o.useState)(),E=Object(u.a)(J,2),U=E[0],q=E[1],B=Object(o.useState)(),I=Object(u.a)(B,2),K=I[0],T=I[1],z=Object(o.useState)(""),D=Object(u.a)(z,2),G=D[0],H=D[1],P=localStorage.getItem("token"),L=(JSON.parse(P),Object(o.useState)("")),M=Object(u.a)(L,2),Q=(M[0],M[1],Object(o.useState)({country_name_en:"",country_name_ar:"",currency_name_en:"",currency_name_ar:""})),R=Object(u.a)(Q,2),V=R[0],W=R[1],X=V.country_name_en,Y=V.country_name_ar,Z=V.currency_name_ar,$=V.currency_name_en;Object(o.useEffect)(Object(l.a)(s.a.mark((function c(){var n;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(n=function(){var c=Object(l.a)(s.a.mark((function c(t){var r,a,l,u;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=JSON.parse(localStorage.getItem("token")),c.prev=1,c.next=4,fetch("".concat(e.apiUrl,"api/countries"),{method:"GET",headers:{Authorization:"Bearer "+r,Accept:"application/json"}});case 4:return(a=c.sent).status,c.next=8,a.json();case 8:if(!(l=c.sent).message||"Unauthenticated."!=l.message){c.next=11;break}return c.abrupt("return",k((function(){n(t)})));case 11:l.message&&"Success"==l.message&&(u=l.payload.filter((function(e){return e.id==t}))[0],W({country_name_en:u.name.en,country_name_ar:u.name.ar,currency_name_en:u.currency.en,currency_name_ar:u.currency.ar})),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(1),console.log(c.t0);case 17:case"end":return c.stop()}}),c,null,[[1,14]])})));return function(e){return c.apply(this,arguments)}}())(t.params.id);case 2:case"end":return c.stop()}}),c)}))),[A]);var ee=function(e){W(Object(r.a)(Object(r.a)({},V),{},Object(n.a)({},e.target.name,e.target.value))),q(""),T("")},ce=function(){var c=Object(l.a)(s.a.mark((function c(n){var r,a,l;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),H(!0),r=JSON.parse(localStorage.getItem("token")),q(""),T(""),c.prev=5,c.next=8,fetch("".concat(e.apiUrl,"api/countries/").concat(t.params.id,"?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:3000","Access-Control-Allow-Credentials":"true",Accept:"application/json"},body:JSON.stringify({name:{ar:Y,en:X},currency:{ar:Z,en:$}})});case 8:return a=c.sent,c.next=11,a.json();case 11:if("Fail"!==(l=c.sent).message){c.next=17;break}return q(l.error),c.abrupt("return");case 17:if(!l.errors){c.next=21;break}q(l.errors),c.next=23;break;case 21:if(!l.message||"Unauthenticated."!=l.message){c.next=23;break}return c.abrupt("return",k((function(){ce(n)})));case 23:S(10),l.message&&"Success"==l.message&&(S(6),T("ar"===p.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u062f\u0648\u0644\u0629 \u0628\u0646\u062c\u0627\u062d":"Country Updated Successfuly"),F(!A)),c.next=30;break;case 27:c.prev=27,c.t0=c.catch(5),console.log(c.t0);case 30:H(!1);case 31:case"end":return c.stop()}}),c,null,[[5,27]])})));return function(e){return c.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(h.jsx)(j.w,{children:Object(h.jsxs)(j.j,{className:"",children:[Object(h.jsx)(j.n,{children:Object(h.jsxs)(j.wb,{className:" row-gap-15",children:[Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(h.jsx)("strong",{children:"ar"===p.language?"\u062a\u0639\u062f\u064a\u0644 \u062f\u0648\u0644\u0629":"Update Country"})}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(h.jsx)(j.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return g.goBack()},children:O("Back")})})]})}),Object(h.jsx)(j.wb,{children:Object(h.jsx)(j.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(h.jsx)(j.J,{onSubmit:function(e){ce(e)},children:Object(h.jsx)(j.k,{children:Object(h.jsxs)(j.j,{children:[Object(h.jsx)(j.k,{children:Object(h.jsxs)(j.wb,{children:[Object(h.jsxs)(j.u,{md:"12",children:[" ",Object(h.jsx)("strong",{children:O("Country Information")})]}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(h.jsxs)(j.K,{row:!0,children:[Object(h.jsx)(j.u,{md:"12",children:Object(h.jsx)(j.cb,{htmlFor:"text-input",children:O("English Name")})}),Object(h.jsx)(j.u,{xs:"12",md:"12",children:Object(h.jsx)(j.S,{name:"country_name_en",required:!0,onChange:ee,placeholder:O("English Name"),value:V.country_name_en})})]})}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(h.jsxs)(j.K,{row:!0,children:[Object(h.jsx)(j.u,{md:"12",children:Object(h.jsx)(j.cb,{htmlFor:"text-input",children:O("Arabic Name")})}),Object(h.jsx)(j.u,{xs:"12",md:"12",children:Object(h.jsx)(j.S,{name:"country_name_ar",required:!0,onChange:ee,placeholder:O("Arabic Name"),value:V.country_name_ar})})]})}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(h.jsxs)(j.K,{row:!0,children:[Object(h.jsx)(j.u,{md:"12",children:Object(h.jsx)(j.cb,{htmlFor:"text-input",children:"ar"===p.language?"\u0627\u0644\u0639\u0645\u0644\u0629 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a\u0629":"Currency En"})}),Object(h.jsx)(j.u,{xs:"12",md:"12",children:Object(h.jsx)(j.S,{name:"currency_name_en",required:!0,onChange:ee,placeholder:O("ar"===p.language?"\u0627\u0644\u0639\u0645\u0644\u0629 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a\u0629":"Currency En"),value:V.currency_name_en})})]})}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",children:Object(h.jsxs)(j.K,{row:!0,children:[Object(h.jsx)(j.u,{md:"12",children:Object(h.jsx)(j.cb,{htmlFor:"text-input",children:"ar"===p.language?"\u0627\u0644\u0639\u0645\u0644\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629":"Currency Ar"})}),Object(h.jsx)(j.u,{xs:"12",md:"12",children:Object(h.jsx)(j.S,{name:"currency_name_ar",required:!0,onChange:ee,placeholder:"ar"===p.language?"\u0627\u0644\u0639\u0645\u0644\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629":"Currency Ar",value:V.currency_name_ar})})]})})]})}),Object(h.jsx)(j.l,{className:"p-4",children:Object(h.jsxs)(j.wb,{className:"justify-content-center",children:[U&&"object"===typeof U?Object(h.jsx)(j.a,{color:"danger",className:"col-lg-12",children:Object.keys(U).map((function(e,c){return Object(h.jsxs)(i.a.Fragment,{children:[U[e],Object(h.jsx)("br",{})]},c)}))}):null,U&&"string"===typeof U?Object(h.jsxs)(j.a,{color:"danger",className:"col-lg-12",children:[U," "]}):null,K&&Object(h.jsx)(j.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:_,onShowChange:S,children:K}),Object(h.jsx)(j.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(h.jsxs)(j.f,{color:"success",block:!0,type:"submit",children:[O("Save"),G&&Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,t(73))},1178:function(e,c,t){},661:function(e,c,t){}}]);
//# sourceMappingURL=55.b86bc655.chunk.js.map