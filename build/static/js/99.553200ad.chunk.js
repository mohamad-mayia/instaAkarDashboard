(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[99],{1227:function(e,t,c){"use strict";c.r(t),function(e){var s=c(121),r=c.n(s),i=c(174),l=c(659),n=c(1),a=c.n(n),o=c(14),j=c(658),g=(c(660),c(1228),c(1503)),u=(c(1413),c(908),c(1230)),d=c.n(u),m=(c(834),c(17));t.default=function(){var t=Object(o.g)(),c=Object(g.a)(),s=Object(l.a)(c,2),u=(s[0],s[1]),b=Object(n.useState)(!0),O=Object(l.a)(b,2),p=(O[0],O[1],Object(n.useState)(!1)),h=Object(l.a)(p,2),x=(h[0],h[1],Object(n.useState)(!1)),y=Object(l.a)(x,2),k=(y[0],y[1],Object(n.useState)(!1)),_=Object(l.a)(k,2),N=(_[0],_[1],Object(n.useState)("")),f=Object(l.a)(N,2),v=f[0],S=f[1],w=Object(n.useState)(!1),T=Object(l.a)(w,2),I=T[0],C=(T[1],Object(n.useState)()),P=Object(l.a)(C,2),D=(P[0],P[1],Object(n.useState)(1)),F=Object(l.a)(D,2),A=F[0],B=(F[1],Object(n.useState)()),E=Object(l.a)(B,2),R=(E[0],E[1],Object(n.useState)("")),z=Object(l.a)(R,2),J=(z[0],z[1],Object(n.useState)(0)),U=Object(l.a)(J,2),G=U[0],q=U[1],H=localStorage.getItem("token"),K=JSON.parse(H),L=Object(n.useState)(10),M=Object(l.a)(L,2);M[0],M[1];Object(n.useEffect)(Object(i.a)(r.a.mark((function c(){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(i.a)(r.a.mark((function c(s){var i,l;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/super/tickets?paginate=0&name="),{method:"GET",headers:{Authorization:"Bearer "+K,Accept:"application/json"}});case 3:return i=c.sent,c.next=6,i.json();case 6:l=c.sent,console.log("faqs",l),l.success&&(S(l.payload),W.id&&Y(W.id)),l.message&&"Unauthenticated."==l.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[A,u.language,I]);var Q=Object(n.useState)(""),V=Object(l.a)(Q,2),W=V[0],X=V[1],Y=function(){var t=Object(i.a)(r.a.mark((function t(c){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/super/tickets/").concat(c),{method:"GET",headers:{Authorization:"Bearer "+K,Accept:"application/json"}});case 3:return(s=t.sent).status,t.next=7,s.json();case 7:i=t.sent,console.log("response",i),console.log(i),1==i.success&&X(i.payload),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),Z=Object(n.useRef)(null);return Object(m.jsxs)(j.wb,{children:[0==G&&Object(m.jsx)(j.u,{xl:12,children:Object(m.jsxs)(j.j,{children:[Object(m.jsx)(j.n,{children:"ar"==u.language?"\u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062a":"Tickets"}),Object(m.jsx)(j.k,{className:"usersTabel",children:v&&Object(m.jsx)(j.y,{items:v,fields:["id","name","description","next_action_date","customer","type","status","priority","company","department","actions"],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,columnFilter:!0,scopedSlots:{actions:function(e){return Object(m.jsx)("td",{children:Object(m.jsx)(j.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return function(e){Y(e.id),q(1)}(e)},children:"ar"==u.language?"\u0639\u0631\u0636 .....":"Show...."})})}}})})]})}),1==G&&W&&Object(m.jsx)(j.u,{xl:12,children:Object(m.jsxs)(j.j,{children:[Object(m.jsx)(j.n,{children:Object(m.jsxs)(j.wb,{className:"justify-content-center row-gap-15 ",children:[Object(m.jsx)(j.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:W.name}),Object(m.jsxs)(j.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:[Object(m.jsx)(j.f,{color:"info",className:"col-lg-4  col-md-4col-sm-12 col-xs-12 updatebtn",onClick:function(e){return function(e){var t={margin:[10,12,10,12],filename:"ticket ".concat(W.name,".pdf"),image:{type:"png"},html2canvas:{logging:!0},jsPDF:{format:"a4",orientation:"p"}};new d.a(document.getElementById("page"),t).getPdf(!0).then((function(e){}))}()},children:"ar"==u.language?"\u062a\u0635\u062f\u064a\u0631 PDF":"Export PDF"}),Object(m.jsx)(j.f,{color:"success",className:"col-lg-4  col-md-4col-sm-12 col-xs-12 updatebtn",onClick:function(){return X(""),void q(0)},children:"ar"==u.language?"\u0631\u062c\u0648\u0639":"Back"})]})]})}),Object(m.jsx)("div",{ref:Z,id:"page",children:Object(m.jsxs)(j.k,{className:"",children:[Object(m.jsxs)(j.wb,{children:[Object(m.jsx)(j.u,{md:"12",children:Object(m.jsx)("strong",{children:"ar"==u.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629":"Ticket Informations"})}),W.description&&Object(m.jsx)(j.u,{className:" p-1",md:"12",children:Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0648\u0635\u0641":"Description"," "]}),Object(m.jsx)("strong",{children:":"}),W.description]})}),W.reopen_reason&&Object(m.jsx)(j.u,{className:" p-1",md:"12",children:Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0633\u0628\u0628 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0641\u062a\u062d":"Reopen Reason"," "]}),Object(m.jsx)("strong",{children:":"}),W.reopen_reason]})}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0645\u0639\u0631\u0641":"Id"," "]})," ",Object(m.jsx)("strong",{children:":"}),W.id]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0627\u0633\u0645":"Name"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.name]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u062d\u0627\u0644\u0629 \u0627\u0644\u0628\u0637\u0627\u0642\u0629":"Ticket Status"," "]}),Object(m.jsx)("strong",{children:":"})," ","ar"==u.language?W.ticket_status.name_ar:W.ticket_status.name_en]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0648\u0644\u0648\u064a\u0629 \u0627\u0644\u0628\u0637\u0627\u0642\u0629":"Ticket Priority"," "]}),Object(m.jsx)("strong",{children:":"})," ","ar"==u.language?W.ticket_priority.name_ar:W.ticket_priority.name_en]})]}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0646\u0648\u0639 \u0627\u0644\u0628\u0637\u0627\u0642\u0629":"Ticket Type"," "]})," ",Object(m.jsx)("strong",{children:":"})," ","ar"==u.language?W.ticket_type.name_ar:W.ticket_type.name_en]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0627\u0644\u062a\u0627\u0644\u064a":"Next Action Date"," "]}),Object(m.jsx)("strong",{children:":"}),W.next_action_date]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0634\u0631\u0643\u0629":"Company"," "," "]}),Object(m.jsx)("strong",{children:":"}),W.company?W.company:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0642\u0633\u0645":"Department"," "," "]}),Object(m.jsx)("strong",{children:":"}),"ar"==u.language?W.department.name_ar:W.department.name_en]})]})]}),Object(m.jsxs)(j.wb,{children:[Object(m.jsx)(j.u,{md:"12",children:Object(m.jsx)("strong",{children:"ar"==u.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629":"Priority Informations"})}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{children:["ar"==u.language?"\u0627\u0648\u0644\u0648\u064a\u0629 \u0627\u0644\u0628\u0637\u0627\u0642\u0629":"Ticket Priority"," "]})," ",Object(m.jsx)("strong",{children:":"})," ","ar"==u.language?W.ticket_priority.name_ar:W.ticket_priority.name_en]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{children:["ar"==u.language?"\u0627\u0644\u0644\u0648\u0646":"Color"," "," ",Object(m.jsx)("strong",{children:":"})]}),"   ",Object(m.jsx)("span",{className:"colDiv",style:{backgroundColor:W.ticket_priority.color}}),W.ticket_priority.color]})]}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{children:["ar"==u.language?"\u0627\u0644\u0627\u064a\u0627\u0645 \u0627\u0644\u0644\u0627\u0632\u0645\u0629 \u0644\u0644\u0645\u0639\u0627\u0644\u062c\u0629":"Days To Resolve"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.ticket_priority.days_to_resolve]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{children:["ar"==u.language?"\u0627\u0644\u0632\u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645 \u0644\u0644\u0645\u0639\u0627\u0644\u062c\u0629":"Time To Resolve"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.ticket_priority.time_to_resolve&&W.ticket_priority.time_to_resolve.slice(0,5)]})]})]}),Object(m.jsxs)(j.wb,{children:[Object(m.jsx)(j.u,{md:"12",children:Object(m.jsx)("strong",{children:"ar"==u.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0632\u0628\u0648\u0646":"Customer Informations"})}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0645\u0639\u0631\u0641":"Id"," "]})," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.id]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0627\u0633\u0645":"Name"," "]}),Object(m.jsx)("strong",{children:":"})," "," ",W.customer.name]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064a\u0629 \u0627\u0644\u0645\u062f\u0646\u064a\u0629":"Civil Id"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.customer.civil_id]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a":"Email "," "]}),Object(m.jsx)("strong",{children:":"})," ",W.customer.email]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0645\u0639\u0631\u0641 \u0627\u0644\u0634\u0631\u0643\u0629":"Company Id"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.customer.company_id]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629":"Company Name"," "]}),Object(m.jsx)("strong",{children:":"})," ",W.customer.company_name]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0647\u0648\u0627\u062a\u0641":"Phones"," "," "]}),Object(m.jsx)("strong",{children:":"})," ",W.customer.phones.lenght>0?Object(m.jsxs)(m.Fragment,{children:["/ ",W.customer.phones.map((function(e,t){return Object(m.jsx)(a.a.Fragment,{children:e.number+" / "},t)}))]}):"-"]})]}),Object(m.jsxs)(j.u,{className:" p-1",md:"6",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u062c\u0627\u062f\u0629":"Avenue"," "," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.avenue?W.customer.avenue:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0634\u0627\u0631\u0639":"Street"," "," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.street?W.customer.street:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0643\u062a\u0644\u0629":"Block"," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.block?W.customer.block:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0628\u0646\u0627\u0621":"Building"," "," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.building?W.customer.building:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0637\u0627\u0628\u0642":"Floor"," "," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.floor?W.customer.floor:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0627\u0644\u0634\u0642\u0629":"Flat"," "," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.flat?W.customer.flat:"-"]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0646\u0637\u0642\u0629":"Area Id"," "]})," "," ",Object(m.jsx)("strong",{children:":"})," "," ",W.customer.area_id]})]}),W.customer.notes&&Object(m.jsx)(j.u,{className:" p-1",md:"12",children:Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?"\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes"," "]}),W.customer.notes]})}),W.customer.blocking_reason&&Object(m.jsx)(j.u,{className:" p-1",md:"12",children:Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsxs)("strong",{style:{color:W.ticket_priority.color},children:["ar"==u.language?" \u0633\u0628\u0628 \u0627\u0644\u062d\u0638\u0631":" Block Reason"," "]})," "," ",Object(m.jsx)("strong",{children:":"})," ",W.customer.blocking_reason]})})]})]})})]})})]})}}.call(this,c(73))},1228:function(e,t,c){}}]);
//# sourceMappingURL=99.553200ad.chunk.js.map