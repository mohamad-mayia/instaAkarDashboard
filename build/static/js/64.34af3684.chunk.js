(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[64],{1280:function(e,t,a){"use strict";a.r(t),function(e){var c=a(175),n=a(45),r=a(121),s=a.n(r),l=a(174),i=a(659),o=a(1),j=a.n(o),u=a(658),b=(a(661),a(663),a(706),a(1281),a(14)),d=a(176),O=(a(660),a(1282)),h=a(1503),x=a(17);t.default=function(t){t.props;var a=t.match,r=Object(h.a)(),m=Object(i.a)(r,2),p=m[0],g=m[1],f=Object(b.g)(),S=Object(o.useContext)(d.a).refreshTokenHandler,v=Object(o.useState)(10),w=Object(i.a)(v,2),k=w[0],N=w[1],y=Object(o.useState)(""),C=Object(i.a)(y,2),T=(C[0],C[1]),_=Object(o.useState)(""),E=Object(i.a)(_,2),A=E[0],F=E[1],J=Object(o.useState)(),P=Object(i.a)(J,2),B=P[0],D=P[1],U=Object(o.useState)(),I=Object(i.a)(U,2),q=I[0],z=I[1],K=Object(o.useState)(""),G=Object(i.a)(K,2),H=G[0],R=G[1],W=localStorage.getItem("token"),L=(JSON.parse(W),localStorage.getItem("user_id")),M=(JSON.parse(L),Object(o.useState)(0)),Q=Object(i.a)(M,2),V=(Q[0],Q[1],Object(o.useState)({title_ar:"",title_en:"",name:""})),X=Object(i.a)(V,2),Y=X[0],Z=X[1],$=Object(o.useState)({title_ar:"",title_en:""}),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ce=Y.title_ar,ne=Y.title_en,re=Object(o.useState)(""),se=Object(i.a)(re,2),le=se[0],ie=se[1],oe=Object(o.useState)(""),je=Object(i.a)(oe,2),ue=je[0],be=je[1];Object(o.useEffect)(Object(l.a)(s.a.mark((function t(){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=function(){var t=Object(l.a)(s.a.mark((function t(n){var r,l,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/websitePages"),{method:"GET",headers:{Authorization:"Bearer "+r,Accept:"application/json"}});case 4:return l=t.sent,t.next=7,l.json();case 7:if(!(i=t.sent).message||"Unauthenticated."!=i.message){t.next=10;break}return t.abrupt("return",S((function(){c(n)})));case 10:i.message&&"Success"==i.message&&(o=i.payload.filter((function(e){return e.id==a.params.id}))[0],T(i.payload),Z({title_ar:o.title.ar,title_en:o.title.en,name:o.name}),ie(o.body.en),be(o.body.ar),ae(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[A]);var de=Object(o.useState)(!0),Oe=Object(i.a)(de,2),he=(Oe[0],Oe[1],function(e){Z(Object(n.a)(Object(n.a)({},Y),{},Object(c.a)({},e.target.name,e.target.value))),D(""),z("")}),xe=function(){var t=Object(l.a)(s.a.mark((function t(c){var n,r,l,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),R(!0),n=JSON.parse(localStorage.getItem("token")),D(""),z(""),r=new FormData,ce!=te.title.ar&&r.append("title[ar]",ce),ne!=te.title.en&&r.append("title[en]",ne),Y.name!=te.name&&r.append("name",Y.name),ue&&r.append("body[ar]",ue),le&&r.append("body[en]",le),t.prev=11,t.next=14,fetch("".concat(e.apiUrl,"api/websitePages/").concat(a.params.id,"?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+n,Accept:"application/json"},body:r});case 14:return l=t.sent,R(!1),t.next=18,l.json();case 18:if(i=t.sent,N(10),"Fail"!==i.message){t.next=25;break}return D(i.error),t.abrupt("return");case 25:if(!i.errors){t.next=29;break}D(i.errors),t.next=31;break;case 29:if(!i.message||"Unauthenticated."!=i.message){t.next=31;break}return t.abrupt("return",S((function(){xe(c)})));case 31:i.message&&"Success"==i.message&&(z("ar"===g.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0635\u0641\u062d\u0629 \u0628\u0646\u062c\u0627\u062d":" page has been updated successfully"),F(!A)),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(11),console.log(t.t0);case 37:R(!1);case 38:case"end":return t.stop()}}),t,null,[[11,34]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(x.jsx)(u.w,{children:Object(x.jsxs)(u.j,{className:"",children:[Object(x.jsx)(u.n,{children:Object(x.jsxs)(u.wb,{className:" row-gap-15",children:[Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(x.jsx)("strong",{children:"ar"===g.language?"\u062a\u0639\u062f\u064a\u0644 \u0635\u0641\u062d\u0629":"Update Page"})}),Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(x.jsxs)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return f.goBack()},children:[" ",p("Back")]})})]})}),Object(x.jsxs)(u.J,{onSubmit:function(e){xe(e)},children:[Object(x.jsxs)(u.k,{className:"p-4",children:[Object(x.jsxs)(u.wb,{children:[Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(x.jsxs)(u.K,{row:!0,children:[Object(x.jsx)(u.u,{md:"12",children:Object(x.jsx)(u.cb,{htmlFor:"text-input",children:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062d\u0629":"Page Name"})}),Object(x.jsx)(u.u,{xs:"12",md:"12",children:Object(x.jsx)(u.S,{name:"name",required:!0,onChange:he,placeholder:"ar"===g.language?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062d\u0629":"Page Name",value:Y.name})})]})}),Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(x.jsxs)(u.K,{row:!0,children:[Object(x.jsx)(u.u,{md:"12",children:Object(x.jsx)(u.cb,{htmlFor:"text-input",children:"ar"===g.language?"\u0639\u0646\u0648\u0627\u0646 \u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Title"})}),Object(x.jsx)(u.u,{xs:"12",md:"12",children:Object(x.jsx)(u.S,{name:"title_en",required:!0,onChange:he,placeholder:"ar"===g.language?"\u0639\u0646\u0648\u0627\u0646 \u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Title",value:Y.title_en})})]})}),Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",children:Object(x.jsxs)(u.K,{row:!0,children:[Object(x.jsx)(u.u,{md:"12",children:Object(x.jsxs)(u.cb,{htmlFor:"text-input",children:["ar"===g.language?"\u0639\u0646\u0648\u0627\u0646 \u0639\u0631\u0628\u064a":"Arabic Title"," "]})}),Object(x.jsx)(u.u,{xs:"12",md:"12",children:Object(x.jsx)(u.S,{name:"title_ar",required:!0,onChange:he,placeholder:"ar"===g.language?"\u0639\u0646\u0648\u0627\u0646 \u0639\u0631\u0628\u064a":"Arabic Title",value:Y.title_ar})})]})})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)(u.wb,{className:"justify-content-center",style:{direction:"ltr"},children:[Object(x.jsx)(u.u,{md:"12",lg:"12",xl:"12",children:Object(x.jsx)("h5",{children:"ar"===g.language?"\u0645\u062d\u062a\u0648\u0649 \u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Content"})}),Object(x.jsx)(u.u,{md:"12",lg:"12",xl:"12",children:le&&Object(x.jsx)(O.a,{className:"col-md-12",setDataText:ie,dataText:le})})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)(u.wb,{className:"justify-content-center",style:{direction:"ltr"},children:[Object(x.jsx)(u.u,{md:"12",lg:"12",xl:"12",style:{direction:"rtl"},children:Object(x.jsx)("h5",{children:"ar"===g.language?"\u0645\u062d\u062a\u0648\u0649 \u0639\u0631\u0628\u064a":"Arabic Content"})}),Object(x.jsx)(u.u,{md:"12",lg:"12",xl:"12",children:ue&&Object(x.jsx)(O.a,{className:"col-md-12",setDataText:be,dataText:ue})})]})]}),Object(x.jsx)(u.l,{className:"p-4",children:Object(x.jsxs)(u.wb,{className:"justify-content-center",children:[B&&"object"===typeof B?Object(x.jsx)(u.a,{color:"danger",className:"col-lg-12",children:Object.keys(B).map((function(e,t){return Object(x.jsxs)(j.a.Fragment,{children:[B[e],Object(x.jsx)("br",{})]},t)}))}):null,B&&"string"===typeof B?Object(x.jsxs)(u.a,{color:"danger",className:"col-lg-12",children:[B," "]}):null,q&&Object(x.jsx)(u.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:k,onShowChange:N,children:q}),Object(x.jsx)(u.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(x.jsxs)(u.f,{color:"success",block:!0,type:"submit",children:[p("Save"),H&&Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})]})})})}}.call(this,a(73))},1281:function(e,t,a){},1282:function(e,t,a){"use strict";var c=a(684),n=a(685),r=a(694),s=a(695),l=a(1),i=a(686),o=a(700),j=a(701),u=a.n(j),b=a(702),d=a.n(b),O=(a(704),a(17)),h=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onEditorStateChange=function(e){n.setState({editorState:e}),n.props.setDataText(u()(Object(i.convertToRaw)(e.getCurrentContent())))},n.state={editorState:i.EditorState.createWithContent(i.ContentState.createFromBlockArray(d()(e.dataText)))},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this.state.editorState;return Object(O.jsx)(o.Editor,{editorState:e,wrapperClassName:"demo-wrapper ",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange})}}]),a}(l.Component);t.a=h}}]);
//# sourceMappingURL=64.34af3684.chunk.js.map