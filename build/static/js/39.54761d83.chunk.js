(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[39],{1233:function(e,t,c){"use strict";c.r(t),function(e){var a=c(121),n=c.n(a),s=c(174),r=c(175),l=c(45),j=c(659),i=c(1),o=c.n(i),b=c(658),u=(c(661),c(663),c(1234),c(14)),d=c(1503),O=c(176),m=(c(660),c(17));t.default=function(){var t=Object(d.a)(),c=Object(j.a)(t,2),a=c[0],x=c[1],h=Object(u.g)(),p=Object(i.useState)(10),g=Object(j.a)(p,2),f=g[0],y=g[1],N=Object(i.useContext)(O.a).refreshTokenHandler,k=Object(i.useState)([]),S=Object(j.a)(k,2),w=(S[0],S[1],Object(i.useState)("")),v=Object(j.a)(w,2),_=(v[0],v[1],Object(i.useState)()),A=Object(j.a)(_,2),C=A[0],T=A[1],J=Object(i.useState)(),F=Object(j.a)(J,2),P=F[0],B=F[1],I=Object(i.useState)(""),q=Object(j.a)(I,2),z=q[0],E=q[1],K=localStorage.getItem("token"),U=(JSON.parse(K),Object(i.useState)("")),D=Object(j.a)(U,2),H=(D[0],D[1],Object(i.useState)({name_en:"",name_ar:""})),G=Object(j.a)(H,2),L=G[0],M=G[1],Q=L.name_en,R=L.name_ar,V=function(e){M(Object(l.a)(Object(l.a)({},L),{},Object(r.a)({},e.target.name,e.target.value))),T(""),B("")},W=function(){var t=Object(s.a)(n.a.mark((function t(c){var a,s,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),E(!0),a=JSON.parse(localStorage.getItem("token")),T(""),B(""),t.prev=5,t.next=8,fetch("".concat(e.apiUrl,"api/propertyTypes"),{method:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:3000","Access-Control-Allow-Credentials":"true",Accept:"application/json"},body:JSON.stringify({name:{ar:R,en:Q}})});case 8:return s=t.sent,t.next=11,s.json();case 11:if(r=t.sent,y(10),"Fail"!==r.message){t.next=18;break}return T(r.error),t.abrupt("return");case 18:if(!r.errors){t.next=22;break}T(r.errors),t.next=24;break;case 22:if(!r.message||"Unauthenticated."!=r.message){t.next=24;break}return t.abrupt("return",N((function(){W(c)})));case 24:r.message&&"Success"==r.message&&(B("ar"===x.language?"\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0628\u0646\u062c\u0627\u062d":"Property Type has been added successfully"),M({name_ar:"",name_en:""})),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(5),console.log(t.t0);case 30:E(!1);case 31:case"end":return t.stop()}}),t,null,[[5,27]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center justify-content-center register-cont",children:Object(m.jsx)(b.w,{children:Object(m.jsxs)(b.j,{className:"",children:[Object(m.jsx)(b.n,{children:Object(m.jsxs)(b.wb,{className:" row-gap-15",children:[Object(m.jsx)(b.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(m.jsxs)("strong",{children:["ar"==x.language?"\u0627\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u062c\u062f\u064a\u062f":"Add New Property Type","  "]})}),Object(m.jsx)(b.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(m.jsx)(b.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return h.goBack()},children:a("Back")})})]})}),Object(m.jsx)(b.wb,{children:Object(m.jsx)(b.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(m.jsx)(b.J,{onSubmit:function(e){W(e)},children:Object(m.jsx)(b.k,{children:Object(m.jsxs)(b.j,{children:[Object(m.jsx)(b.k,{children:Object(m.jsxs)(b.wb,{children:[Object(m.jsxs)(b.u,{md:"12",children:[" ",Object(m.jsx)("strong",{children:"ar"==x.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0648\u0639":"Property Type Information"})]}),Object(m.jsx)(b.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(b.K,{row:!0,children:[Object(m.jsx)(b.u,{md:"12",children:Object(m.jsx)(b.cb,{htmlFor:"text-input",children:a("English Name")})}),Object(m.jsx)(b.u,{xs:"12",md:"12",children:Object(m.jsx)(b.S,{name:"name_en",required:!0,onChange:V,placeholder:a("English Name"),value:L.name_en})})]})}),Object(m.jsx)(b.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(b.K,{row:!0,children:[Object(m.jsx)(b.u,{md:"12",children:Object(m.jsx)(b.cb,{htmlFor:"text-input",children:a("Arabic Name")})}),Object(m.jsx)(b.u,{xs:"12",md:"12",children:Object(m.jsx)(b.S,{name:"name_ar",required:!0,onChange:V,placeholder:a("Arabic Name"),value:L.name_ar})})]})})]})}),Object(m.jsx)(b.l,{className:"p-4",children:Object(m.jsxs)(b.wb,{className:"justify-content-center",children:[C&&"object"===typeof C?Object(m.jsx)(b.a,{color:"danger",className:"col-lg-12",children:Object.keys(C).map((function(e,t){return Object(m.jsxs)(o.a.Fragment,{children:[C[e],Object(m.jsx)("br",{})]},t)}))}):null,C&&"string"===typeof C?Object(m.jsxs)(b.a,{color:"danger",className:"col-lg-12",children:[C," "]}):null,P&&Object(m.jsx)(b.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:f,onShowChange:y,children:P}),Object(m.jsx)(b.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(m.jsxs)(b.f,{color:"success",block:!0,type:"submit",children:[a("Save"),z&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1234:function(e,t,c){},661:function(e,t,c){}}]);
//# sourceMappingURL=39.54761d83.chunk.js.map