(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[70],{1145:function(e,t,c){"use strict";c.r(t),function(e){c(175),c(45);var s=c(121),a=c.n(s),n=c(174),r=c(659),o=c(1),l=c(658),i=(c(661),c(663),c(706),c(1146),c(14)),j=(c(660),c(1147)),u=c(17);t.default=function(t){var c=Object(i.g)(),s=Object(o.useState)(10),b=Object(r.a)(s,2),d=b[0],m=b[1],h=Object(o.useState)(""),O=Object(r.a)(h,2),p=O[0],x=O[1],g=Object(o.useState)(""),f=Object(r.a)(g,2),S=f[0],w=f[1],v=Object(o.useState)(),k=Object(r.a)(v,2),N=k[0],y=k[1],C=Object(o.useState)(),U=Object(r.a)(C,2),_=U[0],T=U[1],A=Object(o.useState)(""),E=Object(r.a)(A,2),F=E[0],I=E[1],W=localStorage.getItem("token"),z=JSON.parse(W),J=localStorage.getItem("user_id"),B=(JSON.parse(J),Object(o.useState)(0)),D=Object(r.a)(B,2),R=D[0],L=D[1],G=Object(o.useState)({facebook:"",twitter:"",linkedin:"",instagram:"",email:"",address:"",phone:""}),H=Object(r.a)(G,2),K=H[0],M=(H[1],K.facebook,K.twitter,K.linkedin,K.instagram,K.email,K.address,K.phone,Object(o.useState)("")),P=Object(r.a)(M,2),q=P[0],Q=P[1],V=Object(o.useState)(""),X=Object(r.a)(V,2),Y=X[0],Z=X[1];Object(o.useEffect)(Object(n.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){var t=Object(n.a)(a.a.mark((function t(s){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/settings/viewWebsiteSettings"),{method:"GET",headers:{Authorization:"Bearer "+z,Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,console.log(r),"Website settings retrieved successfully!"==r.message&&(x(r.payload),Z(r.payload.about_us)),r.message&&"Unauthorized or invalid token!"==r.message&&(localStorage.removeItem("token"),localStorage.clear(),c.push("/login")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}})()();case 2:case"end":return t.stop()}}),t)}))),[S]);var $=function(){var t=Object(n.a)(a.a.mark((function t(c){var s,n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),I(!0),y(""),T(""),s=new FormData,Y&&s.append("about_us",Y),q&&s.append("about_us_photo",q),t.prev=7,t.next=10,fetch("".concat(e.apiUrl,"/settings/updateWebsiteSettings"),{method:"POST",headers:{Authorization:"Bearer "+z,Accept:"application/json"},body:s});case 10:return n=t.sent,t.next=13,n.json();case 13:r=t.sent,console.log("response",r),console.log(r),r.message&&"Website settings updated successfully!"==r.message?(T("Website settings updated successfully!"),w(!S),m(5)):(m(5),y(r.errors)),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),console.log(t.t0);case 22:I(!1);case 23:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}();return console.log("p",Y),Object(u.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(u.jsxs)(l.w,{children:[0==R&&Object(u.jsx)(u.Fragment,{children:p&&Object(u.jsxs)(l.j,{children:[Object(u.jsx)(l.n,{children:Object(u.jsxs)(l.wb,{className:"justify-content-center row-gap-15 ",children:[Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"About Us"}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",children:Object(u.jsx)(l.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return L(1)},children:"Update"})})]})}),Object(u.jsx)(l.k,{children:Object(u.jsxs)(l.wb,{children:[Object(u.jsx)(l.u,{md:"12",children:p&&Object(u.jsx)("img",{className:"aboutUSImg",src:p.about_us_photo})}),Object(u.jsx)(l.u,{md:"12",dangerouslySetInnerHTML:{__html:p.about_us}})]})})]})}),p&&1==R&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.j,{className:"",children:Object(u.jsxs)(l.J,{onSubmit:function(e){$(e)},children:[Object(u.jsx)(l.n,{children:Object(u.jsxs)(l.wb,{className:" row-gap-15",children:[Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"Update About Us"}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",children:Object(u.jsx)(l.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return L(0)},children:"Back"})})]})}),Object(u.jsx)(l.k,{className:"p-4",children:Object(u.jsxs)(l.wb,{className:"justify-content-center",children:[Object(u.jsxs)(l.u,{md:"6",children:["       ",Object(u.jsxs)(l.K,{row:!0,children:[Object(u.jsx)(l.cb,{col:!0,md:12,children:"Change About Us Image"}),Object(u.jsxs)(l.u,{xs:"12",md:"12",children:[Object(u.jsx)(l.U,{accept:"image/*",custom:!0,id:"custom-file-input",onChange:function(e){!function(e){e.target.files[0]&&Q(e.target.files[0])}(e)}}),Object(u.jsx)(l.cb,{htmlFor:"custom-file-input",variant:"custom-file",children:q?q.name:"Choose file..."})]})]})]}),Object(u.jsx)(l.u,{md:"6",children:q?Object(u.jsx)("img",{className:"card-img-top",src:URL.createObjectURL(q)}):Object(u.jsx)("img",{className:"card-img-top",src:p.about_us_photo})}),Object(u.jsx)(l.u,{md:"12",lg:"12",xl:"12",children:Object(u.jsx)(j.a,{className:"col-md-12",setDataText:Z,dataText:Y})})]})}),Object(u.jsx)(l.l,{className:"p-4",children:Object(u.jsxs)(l.wb,{className:"justify-content-center",children:[N&&Object(u.jsx)(l.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",show:d,onShowChange:m,children:Object.keys(N).map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[N[e],Object(u.jsx)("br",{})]})}))}),_&&Object(u.jsx)(l.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:d,onShowChange:m,children:_}),Object(u.jsx)(l.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(u.jsxs)(l.f,{color:"success",block:!0,type:"submit",children:["Save",F&&Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})]})})}}.call(this,c(73))},1146:function(e,t,c){},1147:function(e,t,c){"use strict";var s=c(684),a=c(685),n=c(694),r=c(695),o=c(1),l=c(686),i=c(700),j=c(701),u=c.n(j),b=c(702),d=c.n(b),m=(c(704),c(17)),h=function(e){Object(n.a)(c,e);var t=Object(r.a)(c);function c(e){var a;return Object(s.a)(this,c),(a=t.call(this,e)).onEditorStateChange=function(e){a.setState({editorState:e}),console.log(u()(Object(l.convertToRaw)(e.getCurrentContent()))),a.props.setDataText(u()(Object(l.convertToRaw)(e.getCurrentContent())))},a.state={editorState:l.EditorState.createWithContent(l.ContentState.createFromBlockArray(d()(e.dataText)))},a}return Object(a.a)(c,[{key:"render",value:function(){var e=this.state.editorState;return Object(m.jsx)(i.Editor,{editorState:e,wrapperClassName:"demo-wrapper ",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange})}}]),c}(o.Component);t.a=h}}]);
//# sourceMappingURL=70.16011e41.chunk.js.map