(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[85],{1249:function(e,t,c){"use strict";c.r(t),function(e){var a=c(121),n=c.n(a),r=c(174),s=c(659),o=c(1),l=c.n(o),i=c(14),u=c(658),j=(c(660),c(1250),c(176)),b=c(1503),O=c(17);t.default=function(){var t=Object(i.g)(),c=Object(b.a)(),a=Object(s.a)(c,2),d=a[0],p=a[1],f=Object(o.useContext)(j.a).refreshTokenHandler,g=Object(o.useState)(!0),m=Object(s.a)(g,2),h=(m[0],m[1],Object(o.useState)(!1)),x=Object(s.a)(h,2),y=x[0],k=x[1],S=Object(o.useState)(!1),v=Object(s.a)(S,2),w=(v[0],v[1],Object(o.useState)(!1)),N=Object(s.a)(w,2),A=(N[0],N[1],Object(o.useState)("")),T=Object(s.a)(A,2),E=T[0],C=T[1],B=Object(o.useState)(!1),I=Object(s.a)(B,2),U=I[0],_=I[1],J=Object(o.useState)(),z=Object(s.a)(J,2),D=z[0],P=z[1],F=Object(o.useState)(1),G=Object(s.a)(F,2),H=G[0],L=(G[1],Object(o.useState)()),q=Object(s.a)(L,2),K=(q[0],q[1],Object(o.useState)()),M=Object(s.a)(K,2),Q=(M[0],M[1]),R=Object(o.useState)(""),V=Object(s.a)(R,2),W=(V[0],V[1],Object(o.useState)(0)),X=Object(s.a)(W,2),Y=X[0],Z=(X[1],localStorage.getItem("token")),$=(JSON.parse(Z),Object(o.useState)("")),ee=Object(s.a)($,2),te=(ee[0],ee[1],Object(o.useState)(10)),ce=Object(s.a)(te,2),ae=(ce[0],ce[1]);Object(o.useEffect)(Object(r.a)(n.a.mark((function t(){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=function(){var t=Object(r.a)(n.a.mark((function t(a){var r,s,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/offerAndPriceTypes?is_price_type=0"),{method:"GET",headers:{Authorization:"Bearer "+r,Accept:"application/json"}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(o=t.sent).message||"Unauthenticated."!=o.message){t.next=10;break}return t.abrupt("return",f((function(){c(a)})));case 10:o.message&&"Success"==o.message&&(C(o.payload),se.id&&oe(o.payload.filter((function(e){return e.id==se.id}))[0])),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[H,U]);var ne=Object(o.useState)(""),re=Object(s.a)(ne,2),se=re[0],oe=re[1],le=Object(o.useState)([]),ie=Object(s.a)(le,2),ue=(ie[0],ie[1],Object(o.useState)(!1)),je=Object(s.a)(ue,2),be=(je[0],je[1],Object(o.useState)("")),Oe=Object(s.a)(be,2),de=Oe[0],pe=Oe[1],fe=function(){var t=Object(r.a)(n.a.mark((function t(){var c,a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(""),Q(""),document.getElementById("root").style.opacity=.75,c=JSON.parse(localStorage.getItem("token")),t.prev=4,t.next=7,fetch("".concat(e.apiUrl,"api/offerTypes/").concat(de.id),{method:"DELETE",headers:{Authorization:"Bearer "+c,Accept:"application/json"}});case 7:return a=t.sent,t.next=10,a.json();case 10:if(r=t.sent,console.log("response",r),ae(10),"Fail"!==r.message){t.next=16;break}return P(r.error),t.abrupt("return");case 16:if(r.errors&&P(r.errors),!r.message||"Unauthenticated."!==r.message){t.next=19;break}return t.abrupt("return",f((function(){fe()})));case 19:r.message&&"Success"===r.message&&(k(!1),document.getElementById("root").style.opacity=1,_(!U)),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),console.log(t.t0);case 25:document.getElementById("root").style.opacity=1;case 26:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)(u.wb,{children:[0==Y&&Object(O.jsx)(u.u,{xl:12,children:Object(O.jsxs)(u.j,{children:[Object(O.jsx)(u.n,{children:Object(O.jsxs)(u.wb,{className:" row-gap-15",children:[Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"===p.language?"\u0623\u0646\u0648\u0639 \u0627\u0644\u0639\u0631\u0648\u0636":"Offers Types"}),Object(O.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(O.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/OffersTypes/AddNewOfferType")},children:"ar"===p.language?"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u062c\u062f\u064a\u062f":"Add New Offer Type"})})]})}),Object(O.jsx)(u.k,{className:"usersTabel",children:E&&Object(O.jsx)(u.y,{items:E,fields:["id",{label:"ar"===p.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name",key:"name_ar"},{label:"ar"===p.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name",key:"name_en"},{label:"ar"===p.language?"\u0639\u0645\u0644\u064a\u0627\u062a":"Actions",key:"Actions"}],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,scopedSlots:{Actions:function(e){return Object(O.jsxs)("td",{children:[Object(O.jsxs)(u.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){k(!0),pe(e),P(""),Q("")}(e)},children:[" ",d("Delete")]}),Object(O.jsxs)(u.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return t.push("/OffersTypes/Update/".concat(e.id))},children:[d("Update"),"  "]})]})},name_ar:function(e){return Object(O.jsxs)("td",{children:[" ",e.name.ar,"  "]})},name_en:function(e){return Object(O.jsxs)("td",{children:[" ",e.name.en,"  "]})}}})})]})}),Object(O.jsxs)(u.gb,{show:y,onClose:function(){return k(!1)},size:"md",color:"danger",children:[Object(O.jsx)(u.jb,{closeButton:!0,children:Object(O.jsxs)(u.kb,{children:["ar"===p.language?"\u062d\u0630\u0641 \u0646\u0648\u0639":"Delete Offer Type"," "]})}),Object(O.jsxs)(u.hb,{children:["".concat("ar"===p.language?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0646\u0648\u0639":"Are you sure you want to delete the offer type","   (").concat(de.name&&de.name[p.language],")"),D&&"object"===typeof D?Object(O.jsx)(u.a,{color:"danger",className:"col-lg-12",children:Object.keys(D).map((function(e,t){return Object(O.jsxs)(l.a.Fragment,{children:[D[e],Object(O.jsx)("br",{})]},t)}))}):null,D&&"string"===typeof D?Object(O.jsxs)(u.a,{color:"danger",className:"col-lg-12",children:[D," "]}):null]}),Object(O.jsxs)(u.ib,{children:[Object(O.jsxs)(u.f,{color:"danger",onClick:function(){return fe()},children:[d("Delete")," "]})," ",Object(O.jsx)(u.f,{color:"secondary",onClick:function(){return k(!1)},children:d("Cancel")})]})]})]})}}.call(this,c(73))},1250:function(e,t,c){}}]);
//# sourceMappingURL=85.3105f47c.chunk.js.map