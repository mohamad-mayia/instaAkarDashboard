(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[68],{1311:function(e,t,c){"use strict";c.r(t),function(e){var a=c(681),n=c(175),s=c(121),r=c.n(s),l=c(45),i=c(174),o=c(659),j=c(1),u=c.n(j),d=c(658),b=(c(661),c(663),c(1312),c(777)),h=(c(1328),c(14)),x=c(176),O=c(1503),g=(c(660),c(835)),m=c(17);t.default=function(){var t=Object(O.a)(),c=Object(o.a)(t,2),s=c[0],p=c[1],f=Object(j.useContext)(x.a).refreshTokenHandler,A=Object(h.g)(),v=Object(j.useState)(10),k=Object(o.a)(v,2),S=k[0],y=k[1],w=Object(j.useState)([]),C=Object(o.a)(w,2),N=(C[0],C[1],Object(j.useState)("")),F=Object(o.a)(N,2),K=F[0],E=F[1],U=Object(j.useState)(),B=Object(o.a)(U,2),I=B[0],J=B[1],L=Object(j.useState)(""),P=Object(o.a)(L,2),Q=P[0],z=P[1],M=Object(j.useState)(),_=Object(o.a)(M,2),q=_[0],G=_[1],Y=localStorage.getItem("token"),R=(JSON.parse(Y),Object(j.useState)("")),V=Object(o.a)(R,2),W=V[0],T=V[1],X=Object(j.useState)(),Z=Object(o.a)(X,2),D=Z[0],H=Z[1],$=Object(j.useState)([]),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ae=Object(j.useState)({email:"",profit_percentage:"",address:"",latitude:29.378586,longitude:47.990341}),ne=Object(o.a)(ae,2),se=ne[0],re=ne[1],le=["facebook","twitter","snapchat","tiktok","youtube","instagram"];function ie(e,t){return Math.floor(Math.random()*(t-e+1))+e}se.email,se.address;Object(j.useEffect)(Object(i.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=function(){var t=Object(i.a)(r.a.mark((function t(){var a,n,s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/info"),{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}});case 4:return n=t.sent,t.next=7,n.json();case 7:if(!(s=t.sent).message||"Unauthenticated."!=s.message){t.next=10;break}return t.abrupt("return",f((function(){c()})));case 10:s.message&&"Success"==s.message&&(i=[],s.payload.phone.forEach((function(e){return i.push({id:ie(1,1e4),value:e})})),ce(i),re(Object(l.a)(Object(l.a)({},s.payload),{},{latitude:Number(s.payload.latitude),longitude:Number(s.payload.longitude),profit_percentage:Number(s.payload.profit_percentage)})),H(s.payload)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[K]);var oe=function(e){re(Object(l.a)(Object(l.a)({},se),{},Object(n.a)({},e.target.name,e.target.value))),J(""),G("")},je=function(){var t=Object(i.a)(r.a.mark((function t(c){var a,n,s,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),z(!0),a=JSON.parse(localStorage.getItem("token")),J(""),G(""),(n=new FormData).append("email",se.email),n.append("address",se.address),n.append("latitude",se.latitude),n.append("longitude",se.longitude),n.append("profit_percentage",se.profit_percentage),W&&n.append("logo",W),te.forEach((function(e,t){n.append("phone[".concat(t,"]"),e.value)})),le.forEach((function(e){n.append("".concat(e),se[e])})),t.prev=14,t.next=17,fetch("".concat(e.apiUrl,"api/updateInfo?_method=put"),{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:n});case 17:return s=t.sent,t.next=20,s.json();case 20:if(l=t.sent,y(10),"Fail"!==l.message){t.next=27;break}return J(l.error),t.abrupt("return");case 27:if(!l.errors){t.next=31;break}J(l.errors),t.next=33;break;case 31:if(!l.message||"Unauthenticated."!=l.message){t.next=33;break}return t.abrupt("return",f((function(){je(c)})));case 33:if(!l.message||"Success"!=l.message){t.next=38;break}return t.next=36,y(6);case 36:G("ar"===p.language?"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Information have been modified successfully."),E(!K);case 38:t.next=43;break;case 40:t.prev=40,t.t0=t.catch(14),console.log(t.t0);case 43:z(!1);case 44:case"end":return t.stop()}}),t,null,[[14,40]])})));return function(e){return t.apply(this,arguments)}}(),ue=function(e){e.text;return Object(m.jsxs)("div",{className:"p-0 m-0 ",style:{width:"16px",height:"16px"},children:[Object(m.jsx)("img",{src:g.a,className:"p-0 m-0 "})," "]})};return console.log("data",se),Object(m.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(m.jsx)(d.w,{children:Object(m.jsxs)(d.j,{className:"",children:[Object(m.jsx)(d.n,{children:Object(m.jsxs)(d.wb,{className:" row-gap-15",children:[Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(m.jsxs)("strong",{children:[" ","ar"===p.language?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a":"Update Settings"]})}),Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(m.jsx)(d.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return A.goBack()},children:s("Back")})})]})}),Object(m.jsx)(d.wb,{children:Object(m.jsx)(d.u,{xs:"12",sm:"12",md:"12",className:"",children:Object(m.jsx)(d.J,{onSubmit:function(e){je(e)},children:Object(m.jsx)(d.k,{children:Object(m.jsxs)(d.j,{children:[Object(m.jsx)(d.k,{children:Object(m.jsxs)(d.wb,{children:[Object(m.jsxs)(d.u,{md:"12",children:[" ",Object(m.jsxs)("strong",{children:["         ","ar"===p.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639":"Website Information"]})]}),Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:s("Email")})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"email",type:"email",onChange:oe,placeholder:s("Email"),value:se.email})})]})}),Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.cb,{htmlFor:"text-input",children:[s("profit_percentage")," %"]})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"profit_percentage",type:"number",min:"0",onChange:oe,placeholder:s("profit_percentage"),value:se.profit_percentage})})]})}),te.map((function(e,t){return Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.cb,{htmlFor:"text-input",children:[s("Phone"),"  (",t+1,")   "]})}),Object(m.jsx)(d.u,{xs:"12",md:"10",className:"p-0",style:{direction:"ltr"},children:Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"phone",onChange:function(e){!function(e,t){var c=Object(a.a)(te);c[t]=Object(l.a)(Object(l.a)({},c[t]),{},{value:e}),ce(c)}(e.target.value,t)},required:1==t,placeholder:s("Phone"),value:e.value})})}),te.length>1?Object(m.jsx)(d.u,{xs:"12",md:"2",children:Object(m.jsx)(d.f,{color:"danger",type:"button",onClick:function(){var t;t=e.id,ce((function(e){return e.filter((function(e){return e.id!==t}))}))},children:Object(m.jsx)("i",{className:"fa fa-trash  "})})}):null]})},e.id)})),Object(m.jsx)(d.u,{md:"12",children:Object(m.jsx)(d.f,{color:"primary",className:"col-md-4 mb-2",type:"button",onClick:function(){ce((function(e){return[].concat(Object(a.a)(e),[{id:ie(1,1e4),value:""}])}))},children:"ar"==p.language?"\u0625\u0636\u0627\u0641\u0629 \u0647\u0648\u0627\u062a\u0641 \u0627\u062e\u0631\u0649":"Add More Phones"})}),Object(m.jsx)(d.u,{xl:"12",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:s("Address")})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"address",onChange:oe,placeholder:s("Address"),value:se.address})})]})}),Object(m.jsx)("hr",{style:{width:"100%"}}),Object(m.jsx)(d.u,{md:"6",className:"p-4",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.cb,{col:!0,md:12,children:"ar"==p.language?"\u0627\u0644\u0634\u0639\u0627\u0631":"Logo"}),Object(m.jsxs)(d.u,{xs:"12",md:"12",children:[Object(m.jsx)(d.U,{accept:"image/*",custom:!0,id:"custom-file-input",onChange:function(e){!function(e){e.target.files[0]&&T(e.target.files[0])}(e)}}),Object(m.jsx)(d.cb,{htmlFor:"custom-file-input",variant:"custom-file",children:W?W.name:"ar"==p.language?"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629 ...":"Choose image ..."})]})]})}),Object(m.jsx)(d.u,{md:"6",children:W?Object(m.jsx)("img",{className:"imgLogo",src:URL.createObjectURL(W)}):Object(m.jsx)(m.Fragment,{children:D&&D.logo?Object(m.jsx)("img",{className:"imgLogo",src:D.logo}):null})}),Object(m.jsx)("hr",{style:{width:"100%"}}),Object(m.jsxs)(d.u,{md:"12",children:[" ",Object(m.jsx)("strong",{children:"ar"===p.language?"\u0631\u0648\u0627\u0628\u0637":"URLS"})]}),le.map((function(e){return Object(m.jsx)(d.u,{md:"6",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:e.charAt(0).toUpperCase()+e.slice(1)})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:e,type:"url",onChange:oe,placeholder:e.charAt(0).toUpperCase()+e.slice(1),value:se[e]})})]})},e)})),Object(m.jsx)("hr",{style:{width:"100%"}}),Object(m.jsxs)(d.u,{md:"12",children:[" ",Object(m.jsxs)("strong",{children:["ar"===p.language?"\u0627\u0644\u0645\u0648\u0642\u0639 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629":"Position on map"," "]})]}),Object(m.jsx)(d.u,{md:"6",lg:"3",xl:"3",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.cb,{htmlFor:"text-input",children:["ar"===p.language?"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636":"latitude"," "]})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"latitude",type:"number",onChange:oe,placeholder:"ar"===p.language?"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636":"Lat",value:se.latitude})})]})}),Object(m.jsx)(d.u,{md:"6",lg:"3",xl:"3",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.cb,{htmlFor:"text-input",children:["ar"===p.language?"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644":"longitude","  "]})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)(d.S,{name:"longitude",type:"number",onChange:oe,placeholder:"ar"===p.language?"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644":"longitude",value:se.longitude})})]})}),Object(m.jsx)(d.u,{md:"6",lg:"12",children:Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.cb,{htmlFor:"text-input",children:["ar"===p.language?"\u0623\u0648 \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629 \u0644\u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639":"or click to select position on map"," "]})}),Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsx)("div",{style:{height:"350px",width:"100%"},children:Object(m.jsx)(b.a,{bootstrapURLKeys:{key:"AIzaSyAi51d5XZLV8oquto7pmBaEJqt2GYzJJvY",language:"en"},defaultCenter:{lat:se.latitude,lng:se.longitude},defaultZoom:11,onClick:function(e){var t=e.lat,c=e.lng;re(Object(l.a)(Object(l.a)({},se),{},{latitude:t,longitude:c}))},center:{lat:se.latitude,lng:se.longitude},children:Object(m.jsx)(ue,{lat:se.latitude,lng:se.longitude,text:"My Marker"})})})})]})})]})}),Object(m.jsx)(d.l,{className:"p-4",children:Object(m.jsxs)(d.wb,{className:"justify-content-center",children:[I&&"object"===typeof I?Object(m.jsx)(d.a,{color:"danger",className:"col-lg-12",children:Object.keys(I).map((function(e,t){return Object(m.jsxs)(u.a.Fragment,{children:[I[e],Object(m.jsx)("br",{})]},t)}))}):null,I&&"string"===typeof I?Object(m.jsxs)(d.a,{color:"danger",className:"col-lg-12",children:[I," "]}):null,q&&Object(m.jsx)(d.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",show:S,onShowChange:y,children:q}),Object(m.jsx)(d.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(m.jsxs)(d.f,{color:"success",block:!0,type:"submit",children:[s("Save"),Q&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})})})})]})})})}}.call(this,c(73))},1328:function(e,t,c){},835:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAUlEQVQ4jZWSvWpCQRCFP8ItJEgQEQkWPkUeQFKnELGQkCIEiyBilSqv5BOkSpVCFC1ErERSBbFKkSKoOSkyF5bL3NUsDAt7znd29gcyQ5AIHgVvgk+rkWAgKGT9WbgqGAuUU3NBPQ9ObCcJ1oKOoCwoCVqCpWkLtxNB1wzvgqqjl4KQJy/g1cS7yBFvzDPzxK2Jl5GAgnl26dpZoP/kgc7YewETm68jYKpNvfZugxeoOPqFPaMEPS8gEazMsBK0DSra5S1M+xCcu/0JmpFPlNZ95IggGEbgF0Xpv4CyfaYsvBHUjvFpyJXgK4C/BY2T4CCkLThYwMO/4CCkL3iOeX4BbI64pl9t1I8AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=68.a04c6399.chunk.js.map