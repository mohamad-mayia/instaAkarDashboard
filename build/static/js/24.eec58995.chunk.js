(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[24],{1163:function(e,t,c){"use strict";c.r(t),function(e){var a=c(121),n=c.n(a),s=c(45),r=c(174),o=c(659),l=c(1),i=c(658),u=(c(661),c(663),c(1164),c(660),c(665),c(14)),j=c(1503),b=c(17);t.default=function(){var t=Object(j.a)(),c=Object(o.a)(t,2),a=(c[0],c[1]),d=Object(u.g)(),p=Object(l.useState)(!0),m=Object(o.a)(p,2),O=(m[0],m[1],Object(l.useState)(!1)),h=Object(o.a)(O,2),g=h[0],f=h[1],x=Object(l.useState)(!1),y=Object(o.a)(x,2),k=y[0],N=(y[1],Object(l.useState)(!1)),S=Object(o.a)(N,2),v=(S[0],S[1],Object(l.useState)(10)),w=Object(o.a)(v,2),C=(w[0],w[1],Object(l.useState)(1)),A=Object(o.a)(C,2),E=A[0],B=(A[1],Object(l.useState)()),_=Object(o.a)(B,2),z=(_[0],_[1],Object(l.useState)()),I=Object(o.a)(z,2),D=(I[0],I[1]),T=Object(l.useState)(),U=Object(o.a)(T,2),J=(U[0],U[1],Object(l.useState)("")),L=Object(o.a)(J,2),P=L[0],F=L[1],G=Object(l.useState)(!1),q=Object(o.a)(G,2),H=q[0],K=q[1],M=Object(l.useState)(),Q=Object(o.a)(M,2),R=(Q[0],Q[1]),V=Object(l.useState)(),W=Object(o.a)(V,2),X=(W[0],W[1],Object(l.useState)()),Y=Object(o.a)(X,2),Z=(Y[0],Y[1]),$=Object(l.useState)(""),ee=Object(o.a)($,2),te=(ee[0],ee[1],Object(l.useState)(0)),ce=Object(o.a)(te,2),ae=ce[0],ne=(ce[1],localStorage.getItem("token")),se=JSON.parse(ne);Object(l.useEffect)(Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R(""),Z(""),function(){var t=Object(r.a)(n.a.mark((function t(c){var a,r,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"api/companies"),{method:"GET",headers:{Authorization:"Bearer "+se,Accept:"application/json"}});case 3:return a=t.sent,t.next=6,a.json();case 6:if(r=t.sent,console.log("companies",r),!r.success){t.next=14;break}return o=[],t.next=12,r.payload.map((function(e,t){o.push(Object(s.a)(Object(s.a)({},e),{},{"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":e.name_ar,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":e.name_en,"\u0627\u0644\u062a\u0635\u0646\u064a\u0641":e.categories.length>0?e.categories.map((function(e,t){return e.name_en})):"No Category"}))}));case 12:F(o),D(r.payload.last_page);case 14:r.message&&"Unauthorized."==r.message&&(localStorage.removeItem("token"),localStorage.clear(),d.push("/login")),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()();case 4:case"end":return t.stop()}}),t)}))),[E,H,a.language]);var re=Object(l.useState)(""),oe=Object(o.a)(re,2),le=oe[0],ie=oe[1],ue=function(){var t=Object(r.a)(n.a.mark((function t(){var c,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(""),Z(""),document.getElementById("root").style.opacity=.75,t.prev=3,t.next=6,fetch("".concat(e.apiUrl,"api/companies/").concat(le.id),{method:"DELETE",headers:{Authorization:"Bearer "+se,Accept:"application/json"}});case 6:return c=t.sent,t.next=9,c.json();case 9:a=t.sent,console.log("response",a),console.log(a),1==a.success&&a.payload&&(f(!g),document.getElementById("root").style.opacity=1,K(!H)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.log(t.t0);case 18:document.getElementById("root").style.opacity=1;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}();function je(e,t,c){c=c||"*";for(var a=document.getElementsByTagName(c),n=0;n<a.length;n++)a[n].getAttribute(e)==t&&(a[n].disabled=!0)}return je("aria-label","column name: '\u0627\u0644\u0634\u0639\u0627\u0631' filter input","input"),je("aria-label","column name: '\u0639\u0645\u0644\u064a\u0627\u062a' filter input","input"),Object(b.jsxs)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:[Object(b.jsx)(i.w,{className:"p-0",children:0==ae&&Object(b.jsxs)(i.j,{className:"",children:[Object(b.jsx)(i.n,{children:Object(b.jsxs)(i.wb,{className:"justify-content-center row-gap-15 ",children:[Object(b.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"Categories"}),Object(b.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(b.jsx)(i.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return d.push("/companies/AddNewCompany")},children:"Add New Category"})})]})}),Object(b.jsx)(i.k,{className:"p-1",children:Object(b.jsx)(i.wb,{className:"justify-content-center",children:Object(b.jsx)(i.u,{md:"12",children:Object(b.jsx)(i.j,{children:Object(b.jsx)(i.k,{className:"compTabel",children:P&&Object(b.jsx)(i.y,{items:P,fields:["id",{label:"Arabic Name",key:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a"},{label:"English Name",key:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a"},{label:"Category",key:"\u0627\u0644\u062a\u0635\u0646\u064a\u0641"},{label:"Logo",key:"\u0627\u0644\u0634\u0639\u0627\u0631"},{label:"Actions",key:"\u0639\u0645\u0644\u064a\u0627\u062a"}],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,columnFilter:!0,scopedSlots:{"\u0627\u0644\u0634\u0639\u0627\u0631":function(t){return Object(b.jsx)("td",{children:Object(b.jsx)("img",{className:"logoAll",src:e.apiUrl+t.logo})})},"\u0639\u0645\u0644\u064a\u0627\u062a":function(e){return Object(b.jsxs)("td",{children:[Object(b.jsx)(i.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){f(!k),ie(e)}(e)},children:"ar"==a.language?"\u062d\u0630\u0641":"Delete"}),Object(b.jsx)(i.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return d.push("/companies/Company/".concat(e.id))},children:"ar"==a.language?"\u0639\u0631\u0636 .....":"Show...."})]})}}})})})})})})]})}),Object(b.jsxs)(i.gb,{show:g,onClose:function(){return f(!g)},size:"sm",color:"danger",children:[Object(b.jsx)(i.jb,{closeButton:!0,children:Object(b.jsx)(i.kb,{children:(a.language,"Delete Company")})}),Object(b.jsx)(i.hb,{children:"Are you sure you want to delete a company(  ".concat(le.name_en," )")}),Object(b.jsxs)(i.ib,{children:[Object(b.jsx)(i.f,{color:"danger",onClick:function(){return ue()},children:"Delete "})," ",Object(b.jsx)(i.f,{color:"secondary",onClick:function(){return f(!g)},children:"Cancel"})]})]})]})}}.call(this,c(73))},1164:function(e,t,c){},661:function(e,t,c){},665:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var a=c(45),n=c(177),s=c(1),r=c.n(s),o=c(658),l=c(17),i=["name","text"],u=function(e){var t=e.name,c=e.text,s=Object(n.a)(e,i),r=t?"https://coreui.io/react/docs/components/".concat(t):e.href;return Object(l.jsx)("div",{className:"card-header-actions",children:Object(l.jsx)(o.db,Object(a.a)(Object(a.a)({},s),{},{href:r,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:Object(l.jsx)("small",{className:"text-muted",children:c||"docs"})}))})},j=r.a.memo(u)}}]);
//# sourceMappingURL=24.eec58995.chunk.js.map