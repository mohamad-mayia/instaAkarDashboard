(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[102],{1193:function(e,t,n){"use strict";n.r(t),function(e){var a=n(121),c=n.n(a),r=n(174),s=n(659),o=n(1),i=n(14),u=n(658),l=(n(660),n(1194),n(176)),j=n(1503),b=n(17);t.default=function(){var t=Object(i.g)(),n=Object(j.a)(),a=Object(s.a)(n,2),d=a[0],p=a[1],h=Object(o.useContext)(l.a).refreshTokenHandler,g=Object(o.useState)(!1),O=Object(s.a)(g,2),m=O[0],f=O[1],x=Object(o.useState)(""),k=Object(s.a)(x,2),v=k[0],y=k[1],S=Object(o.useState)([]),w=Object(s.a)(S,2),A=w[0],N=w[1],C=Object(o.useState)(""),E=Object(s.a)(C,2),U=E[0],B=E[1],I=Object(o.useState)(!1),J=Object(s.a)(I,2),_=(J[0],J[1],Object(o.useState)()),z=Object(s.a)(_,2),T=(z[0],z[1]),D=Object(o.useState)(1),G=Object(s.a)(D,2),P=(G[0],G[1],Object(o.useState)()),F=Object(s.a)(P,2),H=(F[0],F[1]),K=Object(o.useState)(""),L=Object(s.a)(K,2),q=(L[0],L[1],Object(o.useState)(0)),M=Object(s.a)(q,2),Q=M[0],R=(M[1],localStorage.getItem("token")),V=(JSON.parse(R),Object(o.useState)(10)),W=Object(s.a)(V,2);W[0],W[1];Object(o.useEffect)(Object(r.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=function(){var t=Object(r.a)(c.a.mark((function t(a){var r,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/countries"),{method:"GET",headers:{Authorization:"Bearer "+r,Accept:"application/json"}});case 4:return s=t.sent,t.next=7,s.json();case 7:if(!(o=t.sent).message||"Unauthenticated."!=o.message){t.next=10;break}return t.abrupt("return",h((function(){n(a)})));case 10:o.message&&"Success"==o.message&&B(o.payload),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}())();case 2:case"end":return t.stop()}}),t)}))),[]);var X=Object(o.useState)(""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=function(){var t=Object(r.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(""),H(""),document.getElementById("root").style.opacity=.75,n=JSON.parse(localStorage.getItem("token")),t.prev=4,t.next=7,fetch("".concat(e.apiUrl,"api/areas/").concat(Z.id),{method:"DELETE",headers:{Authorization:"Bearer "+n,Accept:"application/json"}});case 7:return a=t.sent,t.next=10,a.json();case 10:if(r=t.sent,console.log("response",r),!r.message||"Unauthenticated."!==r.message){t.next=14;break}return t.abrupt("return",h((function(){ee()})));case 14:r.message&&"Success"===r.message&&(f(!1),document.getElementById("root").style.opacity=1,ne(v)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),console.log(t.t0);case 20:document.getElementById("root").style.opacity=1;case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(){return t.apply(this,arguments)}}(),te=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t),t?ne(t):N([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var t=Object(r.a)(c.a.mark((function t(n){var a,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("token")),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"api/countries?country_id=").concat(n),{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}});case 4:return 204==(r=t.sent).status&&N([]),t.next=8,r.json();case 8:if(!(s=t.sent).message||"Unauthenticated."!=s.message){t.next=11;break}return t.abrupt("return",h((function(){ne(n)})));case 11:s.message&&"Success"==s.message&&N(s.payload),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(u.wb,{children:[0==Q&&Object(b.jsx)(u.u,{xl:12,children:Object(b.jsxs)(u.j,{children:[Object(b.jsx)(u.n,{children:Object(b.jsxs)(u.wb,{className:" row-gap-15",children:[Object(b.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"===p.language?"\u0627\u0644\u0645\u0646\u0627\u0637\u0642":"Areas"}),Object(b.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(b.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/Areas/AddNewArea")},children:"ar"===p.language?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629 \u062c\u062f\u064a\u062f":"Add New Area"})}),Object(b.jsx)(u.u,{md:"5",children:Object(b.jsxs)(u.K,{row:!0,children:[Object(b.jsx)(u.u,{md:"12",children:Object(b.jsxs)(u.cb,{htmlFor:"text-input",children:["   ",d("Country")]})}),Object(b.jsx)(u.u,{xs:"12",md:"12",children:Object(b.jsxs)(u.xb,{custom:!0,name:"category_id",value:v,onChange:function(e){return te(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:d("Select Country")}),U.length>0&&U.map((function(e){return Object(b.jsxs)("option",{value:e.id,children:["  ",e.name[p.language],"   "]},e.id)}))]})})]})})]})}),Object(b.jsxs)(u.k,{className:"usersTabel",children:[!v&&Object(b.jsx)(u.wb,{children:Object(b.jsx)(u.u,{md:"12",children:Object(b.jsx)(u.a,{className:"col-lg-12 ",color:"warning",children:"ar"==p.language?"\u0627\u062e\u062a\u0631 \u062f\u0648\u0644\u0629 \u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0647\u0627":"Select a country to view its areas"})})}),A&&v&&Object(b.jsx)(u.y,{items:A,fields:["id",{label:"ar"===p.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name",key:"name_ar"},{label:"ar"===p.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name",key:"name_en"},{label:"ar"===p.language?"\u0639\u0645\u0644\u064a\u0627\u062a":"Actions",key:"Actions"}],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,scopedSlots:{Actions:function(e){return Object(b.jsxs)("td",{children:[Object(b.jsxs)(u.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){f(!0),$(e)}(e)},children:[" ",d("Delete")]}),Object(b.jsxs)(u.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return t.push("/Areas/".concat(v,"/AreaUpdate/").concat(e.id))},children:[d("Update"),"  "]})]})},name_ar:function(e){return Object(b.jsxs)("td",{children:[" ",e.name.ar,"  "]})},name_en:function(e){return Object(b.jsxs)("td",{children:[" ",e.name.en,"  "]})}}})]})]})}),Object(b.jsxs)(u.gb,{show:m,onClose:function(){return f(!1)},size:"sm",color:"danger",children:[Object(b.jsx)(u.jb,{closeButton:!0,children:Object(b.jsxs)(u.kb,{children:["ar"===p.language?"\u062d\u0630\u0641 \u0645\u0646\u0637\u0642\u0629":"Delete Area"," "]})}),Object(b.jsx)(u.hb,{children:"".concat("ar"===p.language?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0645\u0646\u0637\u0642\u0629":"Are you sure you want to delete the Area","   (").concat(Z.name&&Z.name[p.language],")")}),Object(b.jsxs)(u.ib,{children:[Object(b.jsxs)(u.f,{color:"danger",onClick:function(){return ee()},children:[d("Delete")," "]})," ",Object(b.jsx)(u.f,{color:"secondary",onClick:function(){return f(!1)},children:d("Cancel")})]})]})]})}}.call(this,n(73))},1194:function(e,t,n){}}]);
//# sourceMappingURL=102.df5a5289.chunk.js.map