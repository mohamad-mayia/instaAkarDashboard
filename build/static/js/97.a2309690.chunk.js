(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[97],{1211:function(e,t,c){"use strict";c.r(t),function(e){var a=c(121),n=c.n(a),s=c(174),r=c(659),o=c(1),l=c(14),u=c(658),i=(c(660),c(1212),c(1503)),j=c(17);t.default=function(){var t=Object(l.g)(),c=Object(i.a)(),a=Object(r.a)(c,2),b=(a[0],a[1]),O=Object(o.useState)(!0),d=Object(r.a)(O,2),p=(d[0],d[1],Object(o.useState)(!1)),g=Object(r.a)(p,2),h=g[0],f=g[1],m=Object(o.useState)(!1),x=Object(r.a)(m,2),S=x[0],k=(x[1],Object(o.useState)(!1)),y=Object(r.a)(k,2),v=(y[0],y[1],Object(o.useState)("")),w=Object(r.a)(v,2),N=w[0],E=w[1],A=Object(o.useState)(!1),C=Object(r.a)(A,2),B=C[0],I=C[1],U=Object(o.useState)(),z=Object(r.a)(U,2),D=(z[0],z[1]),T=Object(o.useState)(1),_=Object(r.a)(T,2),J=_[0],P=(_[1],Object(o.useState)()),q=Object(r.a)(P,2),F=(q[0],q[1],Object(o.useState)()),G=Object(r.a)(F,2),L=(G[0],G[1]),H=Object(o.useState)(""),K=Object(r.a)(H,2),M=(K[0],K[1],Object(o.useState)(0)),Q=Object(r.a)(M,2),R=Q[0],V=(Q[1],localStorage.getItem("token")),W=JSON.parse(V),X=Object(o.useState)(""),Y=Object(r.a)(X,2),Z=(Y[0],Y[1],Object(o.useState)(10)),$=Object(r.a)(Z,2);$[0],$[1];Object(o.useEffect)(Object(s.a)(n.a.mark((function c(){return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(s.a)(n.a.mark((function c(a){var s,r;return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/super/ticketStatuses?pagiante=0"),{method:"GET",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 3:return 204==(s=c.sent).status&&E([]),c.next=7,s.json();case 7:r=c.sent,console.log("faqs",r),r.success&&(E(r.payload),ce.id&&ae(r.payload.filter((function(e){return e.id==ce.id}))[0])),r.message&&"Unauthenticated."==r.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(0),console.log(c.t0);case 16:case"end":return c.stop()}}),c,null,[[0,13]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[J,B]);var ee=Object(o.useState)(""),te=Object(r.a)(ee,2),ce=te[0],ae=te[1],ne=Object(o.useState)([]),se=Object(r.a)(ne,2),re=(se[0],se[1],Object(o.useState)(!1)),oe=Object(r.a)(re,2),le=(oe[0],oe[1],Object(o.useState)("")),ue=Object(r.a)(le,2),ie=ue[0],je=ue[1],be=function(){var t=Object(s.a)(n.a.mark((function t(){var c,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(""),L(""),document.getElementById("root").style.opacity=.75,t.prev=3,t.next=6,fetch("".concat(e.apiUrl,"/super/ticketStatuses/").concat(ie.id),{method:"DELETE",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 6:return c=t.sent,t.next=9,c.json();case 9:a=t.sent,console.log("response",a),console.log(a),1==a.success&&a.payload&&(f(!h),document.getElementById("root").style.opacity=1,I(!B)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.log(t.t0);case 18:document.getElementById("root").style.opacity=1;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(u.wb,{children:[0==R&&Object(j.jsx)(u.u,{xl:12,children:Object(j.jsxs)(u.j,{children:[Object(j.jsx)(u.n,{children:Object(j.jsxs)(u.wb,{className:" row-gap-15",children:[Object(j.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"==b.language?"\u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062a":"Ticket Statuses"}),Object(j.jsx)(u.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(j.jsx)(u.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/Statuses/AddNewStatus")},children:"ar"==b.language?"\u0625\u0636\u0627\u0641\u0629 \u062d\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629":"Add New Status"})})]})}),Object(j.jsx)(u.k,{className:"usersTabel",children:N&&Object(j.jsx)(u.y,{items:N,fields:["id","name_en","name_ar","actions"],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,columnFilter:!0,scopedSlots:{actions:function(e){return Object(j.jsxs)("td",{children:[Object(j.jsx)(u.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){f(!S),je(e)}(e)},children:"ar"==b.language?"\u062d\u0630\u0641":"Delete"}),Object(j.jsx)("br",{}),Object(j.jsx)(u.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return t.push("/Statuses/Update/".concat(e.id))},children:"ar"==b.language?"\u062a\u0639\u062f\u064a\u0644 .....":"Update...."})]})}}})})]})}),Object(j.jsxs)(u.gb,{show:h,onClose:function(){return f(!h)},size:"sm",color:"danger",children:[Object(j.jsx)(u.jb,{closeButton:!0,children:Object(j.jsx)(u.kb,{children:"ar"==b.language?"\u062d\u0630\u0641 \u062d\u0627\u0644\u0629":"Delete Status"})}),Object(j.jsx)(u.hb,{children:"ar"==b.language?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u062d\u0627\u0644\u0629 (".concat(ie.name_ar,")"):"Are you sure you want to delete a Status (".concat(ie.name_en,")")}),Object(j.jsxs)(u.ib,{children:[Object(j.jsx)(u.f,{color:"danger",onClick:function(){return be()},children:"ar"==b.language?"\u062d\u0630\u0641":"Delete"})," ",Object(j.jsx)(u.f,{color:"secondary",onClick:function(){return f(!h)},children:"ar"==b.language?"\u0627\u0644\u063a\u0627\u0621":"Cancel"})]})]})]})}}.call(this,c(73))},1212:function(e,t,c){}}]);
//# sourceMappingURL=97.a2309690.chunk.js.map