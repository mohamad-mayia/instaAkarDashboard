(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[107],{1199:function(e,t,c){"use strict";c.r(t),function(e){var n=c(121),a=c.n(n),s=c(174),r=c(659),l=c(1),o=c(14),i=c(658),j=(c(660),c(1200),c(1503)),u=c(17);t.default=function(){var t=Object(o.g)(),c=Object(j.a)(),n=Object(r.a)(c,2),d=(n[0],n[1]),b=Object(l.useState)(!0),O=Object(r.a)(b,2),m=(O[0],O[1],Object(l.useState)(!1)),h=Object(r.a)(m,2),p=h[0],g=h[1],x=Object(l.useState)(!1),f=Object(r.a)(x,2),y=f[0],v=(f[1],Object(l.useState)(!1)),S=Object(r.a)(v,2),w=(S[0],S[1],Object(l.useState)("")),k=Object(r.a)(w,2),N=k[0],C=k[1],_=Object(l.useState)(!1),D=Object(r.a)(_,2),E=D[0],A=D[1],I=Object(l.useState)(),B=Object(r.a)(I,2),z=(B[0],B[1]),T=Object(l.useState)(1),U=Object(r.a)(T,2),P=(U[0],U[1],Object(l.useState)()),F=Object(r.a)(P,2),J=(F[0],F[1],Object(l.useState)()),G=Object(r.a)(J,2),q=(G[0],G[1]),K=Object(l.useState)(""),L=Object(r.a)(K,2),R=(L[0],L[1],Object(l.useState)(0)),H=Object(r.a)(R,2),M=H[0],Q=H[1],V=localStorage.getItem("token"),W=JSON.parse(V),X=Object(l.useState)(""),Y=Object(r.a)(X,2),Z=(Y[0],Y[1]),$=Object(l.useState)(10),ee=Object(r.a)($,2),te=(ee[0],ee[1],Object(l.useState)("")),ce=Object(r.a)(te,2),ne=ce[0],ae=ce[1],se=Object(l.useState)(""),re=Object(r.a)(se,2),le=(re[0],re[1]),oe=Object(l.useState)([]),ie=Object(r.a)(oe,2),je=(ie[0],ie[1],Object(l.useState)("")),ue=Object(r.a)(je,2),de=(ue[0],ue[1]),be=Object(l.useState)(""),Oe=Object(r.a)(be,2),me=(Oe[0],Oe[1]),he=Object(l.useState)(""),pe=Object(r.a)(he,2),ge=pe[0],xe=pe[1];Object(l.useEffect)(Object(s.a)(a.a.mark((function c(){return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(s.a)(a.a.mark((function c(n){var s,r;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/super/companies?paginate=0"),{method:"GET",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 3:return s=c.sent,c.next=6,s.json();case 6:r=c.sent,console.log("companies",r),r.success&&(ae(r.payload),ge&&C(r.payload.filter((function(e){return e.id==ge}))[0].departments)),r.message&&"Unauthorized."==r.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[d.language,E]);var fe=Object(l.useState)(""),ye=Object(r.a)(fe,2),ve=ye[0],Se=ye[1],we=Object(l.useState)([]),ke=Object(r.a)(we,2),Ne=(ke[0],ke[1]),Ce=Object(l.useState)(!1),_e=Object(r.a)(Ce,2),De=(_e[0],_e[1]),Ee=function(){var t=Object(s.a)(a.a.mark((function t(c){var n,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/super/departments/").concat(c),{method:"GET",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 3:return(n=t.sent).status,t.next=7,n.json();case 7:s=t.sent,console.log("response",s),console.log(s),1==s.success&&Se(s.payload),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),Ae=function(){var t=Object(s.a)(a.a.mark((function t(c,n){var s,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("root").style.opacity=.75,t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"/super/detach/users/").concat(n,"/departments/").concat(c),{method:"POST",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 4:return(s=t.sent).status,t.next=8,s.json();case 8:r=t.sent,console.log("response",r),console.log(r),1==r.success&&(Ee(ve.id),document.getElementById("root").style.opacity=1),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:document.getElementById("root").style.opacity=1;case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,c){return t.apply(this,arguments)}}(),Ie=Object(l.useState)(""),Be=Object(r.a)(Ie,2),ze=Be[0],Te=Be[1],Ue=function(){var t=Object(s.a)(a.a.mark((function t(){var c,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(""),q(""),document.getElementById("root").style.opacity=.75,t.prev=3,t.next=6,fetch("".concat(e.apiUrl,"/super/departments/").concat(ze.id),{method:"DELETE",headers:{Authorization:"Bearer "+W,Accept:"application/json"}});case 6:return c=t.sent,t.next=9,c.json();case 9:n=t.sent,console.log("response",n),console.log(n),1==n.success&&n.payload&&(g(!p),document.getElementById("root").style.opacity=1,A(!E)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.log(t.t0);case 18:document.getElementById("root").style.opacity=1;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)(i.wb,{children:[0==M&&Object(u.jsx)(i.u,{xl:12,children:Object(u.jsxs)(i.j,{children:[Object(u.jsx)(i.n,{children:Object(u.jsxs)(i.wb,{className:" row-gap-15",children:[Object(u.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"==d.language?"\u0627\u0644\u0627\u0642\u0633\u0627\u0645":"Departments"}),Object(u.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"row-gap-15 col-gap-15",children:Object(u.jsx)(i.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/Departments/AddNewDepartment")},children:"ar"==d.language?"\u0625\u0636\u0627\u0641\u0629 \u0642\u0633\u0645 \u062c\u062f\u064a\u062f":"Add New Department"})})]})}),Object(u.jsxs)(i.k,{className:"usersTabel",children:[Object(u.jsx)(i.wb,{children:Object(u.jsx)(i.u,{md:"6",lg:"6",xl:"6",children:Object(u.jsxs)(i.K,{row:!0,children:[Object(u.jsx)(i.u,{md:"12",children:Object(u.jsx)(i.cb,{htmlFor:"text-input",children:"ar"==d.language?"\u0627\u0644\u0634\u0631\u0643\u0629":"Company"})}),Object(u.jsx)(i.u,{xs:"12",md:"12",children:Object(u.jsxs)(i.xb,{custom:!0,name:"",required:!0,value:ge,onChange:function(e){return t=e.target.value,xe(t),void C(""==t?"":ne.filter((function(e){return e.id==t}))[0].departments);var t},children:[Object(u.jsx)("option",{value:"",children:"ar"==d.language?"\u0627\u062e\u062a\u0631 \u0634\u0631\u0643\u0629":"Select Company"}),ne.length>0&&ne.map((function(e){return Object(u.jsx)("option",{value:e.id,children:"ar"==d.language?e.name_ar:e.name_en},e.id)}))]})})]})})}),N?Object(u.jsx)(i.y,{items:N,fields:["id","name_en","name_ar","company_name","actions"],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,columnFilter:!0,scopedSlots:{name:function(e){return Object(u.jsx)("td",{children:e.first_name+" "+e.last_name})},actions:function(e){return Object(u.jsxs)("td",{children:[Object(u.jsx)(i.b,{className:"p-1 m-1 badg-click",color:"danger",onClick:function(){return function(e){g(!y),Te(e)}(e)},children:"ar"==d.language?"\u062d\u0630\u0641":"Delete"}),Object(u.jsx)("br",{}),Object(u.jsx)(i.b,{className:"p-1  m-1 badg-click",color:"info",onClick:function(){return function(e){Ee(e.id),Q(1)}(e)},children:"ar"==d.language?"\u0639\u0631\u0636 .....":"Show...."})]})}}}):Object(u.jsx)(i.wb,{children:Object(u.jsx)(i.u,{md:"12",children:Object(u.jsx)(i.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"warning",children:"ar"==d.language?"\u0627\u062e\u062a\u0631 \u0634\u0631\u0643\u0629 \u0644\u0639\u0631\u0636 \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0647\u0627":"Select a Copmany to view its Departments"})})})]})]})}),1==M&&ve&&Object(u.jsx)(i.u,{xl:12,children:Object(u.jsxs)(i.j,{children:[Object(u.jsx)(i.n,{children:Object(u.jsxs)(i.wb,{className:"justify-content-center row-gap-15 ",children:[Object(u.jsx)(i.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:"ar"==d.language?ve.name_ar:ve.name_en}),Object(u.jsxs)(i.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:[Object(u.jsx)(i.f,{color:"info",className:"col-lg-4  col-md-4 col-sm-12 col-xs-12 updatebtn",onClick:function(){return t.push("/Departments/Update/".concat(ve.id))},children:"ar"==d.language?"\u062a\u0639\u062f\u064a\u0644":"Update"}),Object(u.jsx)(i.f,{color:"success",className:"col-lg-4  col-md-4col-sm-12 col-xs-12 updatebtn",onClick:function(){return Se(""),Q(0),Z(""),Ne([]),le(""),de(""),me(""),void De(!1)},children:"ar"==d.language?"\u0631\u062c\u0648\u0639":"Back"})]})]})}),Object(u.jsxs)(i.k,{className:"",children:[Object(u.jsxs)(i.wb,{children:[Object(u.jsx)(i.u,{md:"12",children:Object(u.jsx)("strong",{children:"ar"==d.language?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0642\u0633\u0645":"Department Informations"})}),Object(u.jsx)(i.u,{lg:6,children:Object(u.jsx)("table",{className:"table table-striped table-hover",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ID"}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:ve.id})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ar"==d.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0646\u0643\u0644\u064a\u0632\u064a":"English Name"}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:ve.name_en})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ar"==d.language?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064a":"Arabic Name"}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:ve.name_ar})})]})]})})}),Object(u.jsx)(i.u,{lg:6,children:Object(u.jsx)("table",{className:"table table-striped table-hover",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:(d.language,"Company Id")}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:ve.company_id})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ar"==d.language?"\u0627\u0644\u0634\u0631\u0643\u0629":"Company"}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{children:ve.company_name})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ar"==d.language?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u0634\u0627\u0621":"Created At"}),Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{children:[" ",ve.created_at&&ve.created_at.slice(0,10)]})})]})]})})})]}),Object(u.jsxs)(i.wb,{children:[0==ve.employees.length&&Object(u.jsx)(i.u,{md:"12",children:Object(u.jsx)(i.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"info",children:Object(u.jsx)("strong",{children:"ar"==d.language?"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0648\u0638\u0641\u0648\u0646 \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645":"No Employees In This Department"})})}),ve.employees.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.u,{md:"12",children:Object(u.jsx)("strong",{children:"ar"==d.language?"\u0627\u0644\u0645\u0648\u0638\u0641\u0648\u0646 \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645":"Employees In This Department"})}),Object(u.jsx)(i.u,{md:"12",className:"usersTabel",children:ve.employees&&Object(u.jsx)(i.y,{items:ve.employees,fields:["id","email","username","position","actions"],hover:!0,striped:!0,pagination:!0,sorter:!0,itemsPerPage:12,columnFilter:!0,scopedSlots:{actions:function(e){return Object(u.jsx)("td",{children:Object(u.jsx)(i.b,{className:"p-1  m-1 badg-click",color:"danger",onClick:function(){return Ae(ve.id,e.id)},children:"ar"==d.language?"\u0625\u0632\u0627\u0644\u0629 ...":"Remove..."})})}}})})]})]})]})]})}),Object(u.jsxs)(i.gb,{show:p,onClose:function(){return g(!p)},size:"sm",color:"danger",children:[Object(u.jsx)(i.jb,{closeButton:!0,children:Object(u.jsx)(i.kb,{children:"ar"==d.language?"\u062d\u0630\u0641 \u0642\u0633\u0645":"Delete Department"})}),Object(u.jsx)(i.hb,{children:"ar"==d.language?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0642\u0633\u0645 (".concat(ze.name_ar,")"):"Are you sure you want to delete a department (".concat(ze.name_en,")")}),Object(u.jsxs)(i.ib,{children:[Object(u.jsx)(i.f,{color:"danger",onClick:function(){return Ue()},children:"ar"==d.language?"\u062d\u0630\u0641":"Delete"})," ",Object(u.jsx)(i.f,{color:"secondary",onClick:function(){return g(!p)},children:"ar"==d.language?"\u0627\u0644\u063a\u0627\u0621":"Cancel"})]})]})]})}}.call(this,c(73))},1200:function(e,t,c){}}]);
//# sourceMappingURL=107.246dc349.chunk.js.map