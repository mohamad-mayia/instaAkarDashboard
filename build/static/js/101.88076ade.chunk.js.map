{"version":3,"sources":["views/adminRegister/adminRegister.js"],"names":["Register","useState","value","setValue","errorMessage","setErrorMessage","errorPass","setErrorPass","succesAdd","setSuccessAdd","loading","setLoading","tokenString","localStorage","getItem","userToken","JSON","parse","first_name","middle_name","last_name","email","phone","address","postal_code","password","password_confirmation","adminData","setAdminData","handleData","e","target","name","handleSubmit","a","preventDefault","data","FormData","append","fetch","global","apiUrl","method","headers","Authorization","Accept","body","responsee","json","response","console","log","message","errors","className","onSubmit","md","lg","xl","onChange","type","placeholder","required","autoComplete","color","Object","keys","map","item","i","xs","sm","block"],"mappings":"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","file":"static/js/101.88076ade.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport 'react-phone-number-input/style.css'\nimport PhoneInput from 'react-phone-number-input'\nimport CIcon from '@coreui/icons-react'\nimport './adminRegister.scss'\nimport {CAlert} from '@coreui/react'\nimport '../../globalVar'\nconst Register = () => {\n  const [value, setValue] = useState()\n  const [errorMessage, setErrorMessage] = useState();\n  const [errorPass, setErrorPass] = useState();\n  const[succesAdd,setSuccessAdd]=useState()\n  const[loading,setLoading]=useState('')\n  const tokenString = localStorage.getItem(\"token\");\n  const userToken = JSON.parse(tokenString);\nconst [adminData,setAdminData]=useState({\n  first_name:'',\nmiddle_name:'',\nlast_name:'',\nemail:'',\nphone:'',\naddress:'',\npostal_code:'',\npassword:'',\npassword_confirmation:'',\n})\nconst{ first_name,\nmiddle_name,\nlast_name,\nemail,\nphone,\naddress,\npostal_code,\npassword,\npassword_confirmation,\n}=adminData;\n\nconst handleData=(e)=>{\n  setAdminData({...adminData,[e.target.name]:e.target.value})\n  setErrorPass('')\n  setErrorMessage('')\n  setSuccessAdd('')\n}\n\nconst handleSubmit=async(e)=>{\n  e.preventDefault()\n  setLoading(true)\n  setErrorPass('')\n  setErrorMessage('')\n  setSuccessAdd('')\n\n\nif(password!==password_confirmation){\n  setErrorPass(true)\n}\n\nelse{\n  const data = new FormData();\ndata.append('first_name', first_name);\ndata.append('middle_name', middle_name);\ndata.append('last_name', last_name);\ndata.append('address', address);\ndata.append('postal_code', postal_code);\ndata.append('phone', value);\ndata.append('email', email);\ndata.append('password', password);\ndata.append('password_confirmation', password_confirmation);\n\ntry {\n  const responsee = await fetch(\n    `${global.apiUrl}/users/adminRegister`,\n    {\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + userToken,\n                   // \"Content-Type\": \"application/json\",\n                  //'Access-Control-Allow-Origin': 'https://localhost:3000',\n                  // 'Access-Control-Allow-Credentials': 'true',\n        Accept: \"application/json\",\n      },\n      body:data,\n  \n    }\n  );\n  const response = await responsee.json();\n  console.log('response',response);\n  console.log(response);\n  if(response.message&&response.message==\"Admin user created successfully!\"){\n   \n    setSuccessAdd(\"Admin user created successfully!\")\n \n   \n  }\n  else{\n  setErrorMessage(response.errors)\n  }\n \n} catch (err) {\n  console.log(err);\n \n}\n\n\n\n\n}\n\nsetLoading(false)\n\n\n}\n\n\nconsole.log('adminregister',adminData)\nconsole.log('adminregister',value)\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center register-cont\">\n      <CContainer>\n      <CForm onSubmit={(e)=>{handleSubmit(e)}}>\n         {/* mx-4 */}\n            <CCard className=\"\">\n              <CCardBody className=\"p-4\">\n              <h1>Register</h1>\n                  <p className=\"text-muted\">Create admin account</p>\n              <CRow className=\"justify-content-center\">\n            \n          <CCol md=\"6\" lg=\"6\" xl=\"6\">\n                  \n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-user\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n                    name='first_name'\n                    type=\"text\" placeholder=\"*First Name\" required />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-user\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n\n                    name='middle_name'\n                    type=\"text\" placeholder=\"Middle Name\"  />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-user\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                      onChange={handleData}\n                    name='last_name'\n                    type=\"text\" placeholder=\"*Last Name\" required />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>@</CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n\n                    name='email'\n                    type=\"email\" placeholder=\"*Email\" autoComplete=\"email\" required />\n                  </CInputGroup>\n\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText> <CIcon name=\"cil-phone\" />\n</CInputGroupText>\n                    </CInputGroupPrepend>\n                    \n                    <PhoneInput className='form-control'\n                    // onChange={handleData}\n                       required\n                    name='phone'\n      placeholder=\"Phone Number\"\n      value={value}\n      // defaultCountry=\"SA\"\n      onChange={setValue}\n      \n      />\n                  </CInputGroup>\n\n         \n                  \n                  </CCol>\n      \n                  <CCol md=\"6\" lg=\"6\" xl=\"6\">\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                         <CIcon name=\"cil-location-pin\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n\n                    name='address'\n                    type=\"text\" placeholder=\"*Address\" required />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        P\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n\n                    name='postal_code'\n                    type=\"text\" placeholder=\"*Postal Code\" required />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-lock-locked\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                    onChange={handleData}\n\n                     name='password'\n                    type=\"password\" placeholder=\"Password\" required autoComplete=\"new-password\" />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-4\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-lock-locked\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                       onChange={handleData}\n                    name='password_confirmation'\n                    type=\"password\" placeholder=\"Confirm password\" required autoComplete=\"new-password\" />\n                  </CInputGroup>\n\n\n                  </CCol>\n                 </CRow>\n              </CCardBody>\n              <CCardFooter className=\"p-4\">\n                <CRow className=\"justify-content-center\">\n                { errorPass&& \n                \n                \n                <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\n                color=\"danger\"\n                // closeButton\n              >\n            Password and confirm password do not match\n              </CAlert>\n              \n              \n              }\n                   { errorMessage&& \n                   <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\n                   color=\"danger\"\n                   // closeButton\n              > \n               {     Object.keys(errorMessage).map((item, i) => (\n              \n         <>{errorMessage[item]}<br/></>  \n            \n                      \n                \n          ))}\n          </CAlert>\n          \n          }\n          \n              \n              \n              \n                { succesAdd&& \n                \n                \n                <CAlert className='col-lg-12  col-md-12 col-sm-12 col-xs-12 '\n                color=\"success\"\n                // closeButton\n              >\n            {succesAdd}\n              </CAlert>\n              \n              \n              }\n            \n                  <CCol  md=\"6\" lg=\"6\" xl=\"6\" xs=\"12\" sm=\"12\" >\n                  <CButton color=\"success\" block type='submit'>Create Account\n                  {loading&&<>{' '}<i className=\"fa fa-spinner fa-spin\" ></i></>} </CButton>\n                  </CCol>\n                \n                </CRow>\n              </CCardFooter>\n      \n            </CCard>\n       \n        </CForm>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Register\n"],"sourceRoot":""}