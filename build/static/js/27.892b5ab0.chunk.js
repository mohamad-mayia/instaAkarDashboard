(this.webpackJsonpinstaakar=this.webpackJsonpinstaakar||[]).push([[27],{1159:function(e,t,c){"use strict";c.r(t),function(e){var s=c(121),n=c.n(s),a=c(174),r=(c(175),c(45),c(659)),l=c(1),o=c(658),i=(c(661),c(663),c(1160),c(660),c(665),c(14)),j=c(17);t.default=function(){var t=Object(i.g)(),c=Object(l.useState)(10),s=Object(r.a)(c,2),u=(s[0],s[1],Object(l.useState)(1)),d=Object(r.a)(u,2),b=(d[0],d[1],Object(l.useState)()),m=Object(r.a)(b,2),p=(m[0],m[1],Object(l.useState)()),O=Object(r.a)(p,2),h=(O[0],O[1],Object(l.useState)()),x=Object(r.a)(h,2),f=(x[0],x[1],Object(l.useState)("")),g=Object(r.a)(f,2),v=g[0],w=g[1],y=Object(l.useState)(!1),N=Object(r.a)(y,2),S=N[0],k=N[1],_=Object(l.useState)(),B=Object(r.a)(_,2),A=B[0],z=B[1],E=Object(l.useState)(),I=Object(r.a)(E,2),U=(I[0],I[1],Object(l.useState)()),C=Object(r.a)(U,2),F=C[0],q=C[1],D=Object(l.useState)(""),T=Object(r.a)(D,2),J=T[0],K=T[1],L=Object(l.useState)(0),P=Object(r.a)(L,2),R=P[0],G=P[1],H=localStorage.getItem("token"),M=JSON.parse(H),Q=Object(l.useState)(""),V=Object(r.a)(Q,2),W=V[0],X=V[1],Y=Object(l.useState)({question_ar:"",question_en:"",answer_ar:"",answer_en:""}),Z=Object(r.a)(Y,2),$=Z[0],ee=(Z[1],$.question_ar,$.question_en,$.answer_ar,$.answer_en,Object(l.useState)({question_ar:"",question_en:"",answer_ar:"",answer_en:""})),te=Object(r.a)(ee,2),ce=(te[0],te[1],Object(l.useState)()),se=Object(r.a)(ce,2),ne=se[0],ae=se[1],re=Object(l.useState)(),le=Object(r.a)(re,2),oe=(le[0],le[1],Object(l.useState)()),ie=Object(r.a)(oe,2),je=(ie[0],ie[1],Object(l.useState)()),ue=Object(r.a)(je,2),de=(ue[0],ue[1],Object(l.useState)("")),be=Object(r.a)(de,2),me=(be[0],be[1],function(){var t=Object(a.a)(n.a.mark((function t(c){var s,a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),K(!0),z(""),q(""),s=new FormData,W&&s.append("photo",W),we&&s.append("with_button",1),!we&&s.append("with_button",0),we&&s.append("offer_id",we),t.prev=9,t.next=12,fetch("".concat(e.apiUrl,"/slider/storeSlider"),{method:"POST",headers:{Authorization:"Bearer "+M,Accept:"application/json"},body:s});case 12:return a=t.sent,t.next=15,a.json();case 15:r=t.sent,console.log("response",r),console.log(r),r.message&&"Slider created successfully!"==r.message?(q("Slider created successfully!"),k(!S),ye(""),X("")):z(r.errors),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(9),console.log(t.t0);case 24:K(!1);case 25:case"end":return t.stop()}}),t,null,[[9,21]])})));return function(e){return t.apply(this,arguments)}}()),pe=function(){var t=Object(a.a)(n.a.mark((function t(c){var s,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("root").style.opacity=.75,t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"/slider/deleteSlider?slider_id=").concat(c),{method:"DELETE",headers:{Authorization:"Bearer "+M,Accept:"application/json"}});case 4:return s=t.sent,t.next=7,s.json();case 7:a=t.sent,console.log("response",a),console.log(a),a.message&&"Slider deleted successfully!"==a.message&&(k(!S),document.getElementById("root").style.opacity=1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:document.getElementById("root").style.opacity=1;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();Object(l.useEffect)(Object(a.a)(n.a.mark((function c(){return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(a.a)(n.a.mark((function c(s){var a,r;return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/slider/viewAllSliders"),{method:"GET",headers:{Authorization:"Bearer "+M,Accept:"application/json"}});case 3:return a=c.sent,c.next=6,a.json();case 6:r=c.sent,console.log("Sliders",r),"Sliders retrieved successfully!"==r.message&&w(r.payload),r.message&&"Unauthorized or invalid token!"==r.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[S]),Object(l.useEffect)(Object(a.a)(n.a.mark((function c(){return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(function(){var c=Object(a.a)(n.a.mark((function c(s){var a,r;return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(e.apiUrl,"/offers/searchOffers?active=1"),{method:"GET",headers:{Authorization:"Bearer "+M,Accept:"application/json"}});case 3:return a=c.sent,c.next=6,a.json();case 6:r=c.sent,console.log(r),r.payload&&ae(r.payload),r.message&&"Unauthorized or invalid token!"==r.message&&(localStorage.removeItem("token"),localStorage.clear(),t.push("/login")),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}})()();case 2:case"end":return c.stop()}}),c)}))),[]);var Oe=Object(l.useState)(""),he=Object(r.a)(Oe,2),xe=he[0],fe=he[1],ge=Object(l.useState)(""),ve=Object(r.a)(ge,2),we=ve[0],ye=ve[1],Ne=function(){var t=Object(a.a)(n.a.mark((function t(c){var s,a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),K(!0),z(""),q(""),s=new FormData,we&&s.append("offer_id",we),xe&&s.append("slider_id",xe.id),t.prev=7,t.next=10,fetch("".concat(e.apiUrl,"/slider/addButtonToSlider"),{method:"POST",headers:{Authorization:"Bearer "+M,Accept:"application/json"},body:s});case 10:return a=t.sent,t.next=13,a.json();case 13:r=t.sent,console.log("response",r),console.log(r),r.message&&"Button added to the slider successfully!"==r.message?(q("Button added to the slider successfully!"),k(!S)):z(r),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),console.log(t.t0);case 22:K(!1);case 23:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}(),Se=function(){var t=Object(a.a)(n.a.mark((function t(c){var s,a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("root").style.opacity=.75,(s=new FormData).append("slider_id",c),t.prev=3,t.next=6,fetch("".concat(e.apiUrl,"/slider/removeButtonFromSlider"),{method:"POST",headers:{Authorization:"Bearer "+M,Accept:"application/json"},body:s});case 6:return a=t.sent,t.next=9,a.json();case 9:r=t.sent,console.log("response",r),console.log(r),r.message&&(document.getElementById("root").style.opacity=1,k(!S)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.log(t.t0);case 18:document.getElementById("root").style.opacity=1;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center register-cont",children:Object(j.jsxs)(o.w,{className:"p-0",children:[0==R&&Object(j.jsxs)(o.j,{className:"",children:[Object(j.jsx)(o.n,{children:Object(j.jsxs)(o.wb,{className:"justify-content-center row-gap-15 ",children:[Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(j.jsx)("strong",{children:"Slider"})}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(j.jsx)(o.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return fe(""),G(2),ye(""),z(""),void q("")},children:"Add New"})})]})}),Object(j.jsx)(o.k,{className:"p-1",children:Object(j.jsx)(o.wb,{className:"justify-content-center",children:Object(j.jsx)(o.u,{md:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)(o.k,{children:Object(j.jsx)(o.wb,{children:v&&v.map((function(e,t){return Object(j.jsx)(o.u,{md:"4",children:Object(j.jsxs)(o.j,{children:[Object(j.jsxs)(o.n,{children:["Slide "," "+(t+1),Object(j.jsx)("div",{className:"card-header-actions",children:Object(j.jsx)(o.b,{style:{cursor:"pointer"},onClick:function(){return pe(e.id)},shape:"pill",color:"danger",className:"float-right",children:"Delete"})})]}),Object(j.jsxs)(o.k,{className:"p-2",children:[Object(j.jsx)("img",{src:e.path,className:"slideImg"}),0==e.with_button?Object(j.jsxs)(o.wb,{className:"justify-content-center p-2 row-gap-15 ",children:[Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(j.jsx)("strong",{children:"No Offer"})}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(j.jsx)(o.f,{color:"success",className:"updatebtn p-1",onClick:function(){return function(e){fe(e),G(1),ye(""),z(""),q("")}(e)},children:"Add Button"})})]}):Object(j.jsxs)(o.wb,{className:"justify-content-center p-2 row-gap-15 ",children:[Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(j.jsxs)(o.db,{to:"/offer/".concat(e.offer_id),children:[Object(j.jsx)("strong",{children:"Offer"})," "]})}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(j.jsx)(o.f,{color:"danger",className:" updatebtn",onClick:function(){return Se(e.id)},children:"Remove Button"})})]})]})]})},e.id)}))})})})})})})]}),1==R&&Object(j.jsx)(o.j,{className:"",children:Object(j.jsxs)(o.J,{onSubmit:function(e){Ne(e)},children:[Object(j.jsx)(o.n,{children:Object(j.jsxs)(o.wb,{className:"justify-content-center row-gap-15 ",children:[Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(j.jsx)("strong",{children:"Add Button Slider"})}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(j.jsx)(o.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return G(0)},children:"Back"})})]})}),Object(j.jsx)(o.k,{className:"p-4",children:Object(j.jsxs)(o.wb,{className:"justify-content-center",children:[Object(j.jsx)(o.u,{md:"6",children:Object(j.jsxs)(o.K,{row:!0,children:[Object(j.jsx)(o.u,{md:"12",children:Object(j.jsx)(o.cb,{htmlFor:"text-input",children:"Select Offer"})}),Object(j.jsx)(o.u,{xs:"12",md:"12",children:ne.length>0&&Object(j.jsxs)(o.xb,{custom:!0,name:"offer_id",id:"select",required:!0,onChange:function(e){return ye(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"Select Offer"}),ne.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name_en},e.id)}))]})})]})}),Object(j.jsx)(o.u,{md:"6",children:Object(j.jsx)("img",{className:"slideImg",src:xe.path})})]})}),Object(j.jsx)(o.l,{className:"p-4",children:Object(j.jsxs)(o.wb,{className:"justify-content-center",children:[A&&Object(j.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",children:Object.keys(A).map((function(e,t){return Object(j.jsxs)(j.Fragment,{children:[A[e],Object(j.jsx)("br",{})]})}))}),F&&Object(j.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",children:F}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(j.jsxs)(o.f,{color:"success",block:!0,type:"submit",children:["Save",J&&Object(j.jsxs)(j.Fragment,{children:[" ",Object(j.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})}),2==R&&Object(j.jsx)(o.j,{className:"",children:Object(j.jsxs)(o.J,{onSubmit:function(e){me(e)},children:[Object(j.jsx)(o.n,{children:Object(j.jsxs)(o.wb,{className:"justify-content-center row-gap-15 ",children:[Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:"justify-content-center align-self-center align-items-center place-items-center text-capitalize",children:Object(j.jsx)("strong",{children:"Add New Slider"})}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",className:" row-gap-15 col-gap-15 ",children:Object(j.jsx)(o.f,{color:"success",className:"col-lg-6  col-md-6 col-sm-12 col-xs-12 updatebtn",onClick:function(){return G(0)},children:"Back"})})]})}),Object(j.jsx)(o.k,{className:"p-4",children:Object(j.jsxs)(o.wb,{className:"justify-content-center",children:[Object(j.jsxs)(o.u,{md:"6",children:[Object(j.jsxs)(o.K,{row:!0,children:[Object(j.jsx)(o.cb,{col:!0,md:12,children:"Change About Us Image"}),Object(j.jsxs)(o.u,{xs:"12",md:"12",children:[Object(j.jsx)(o.U,{required:!0,accept:"image/*",custom:!0,id:"custom-file-input",onChange:function(e){!function(e){e.target.files[0]&&X(e.target.files[0])}(e)}}),Object(j.jsx)(o.cb,{htmlFor:"custom-file-input",variant:"custom-file",children:W?W.name:"Choose file..."})]})]}),Object(j.jsxs)(o.K,{row:!0,children:[Object(j.jsx)(o.u,{md:"12",children:Object(j.jsx)(o.cb,{htmlFor:"text-input",children:"Select Offer (Optinal)"})}),Object(j.jsx)(o.u,{xs:"12",md:"12",children:ne.length>0&&Object(j.jsxs)(o.xb,{custom:!0,name:"offer_id",id:"select",value:we,onChange:function(e){return ye(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"No Offer (Default)"}),ne.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name_en},e.id)}))]})})]})]}),Object(j.jsx)(o.u,{md:"6",children:W?Object(j.jsx)("img",{className:"card-img-top",src:URL.createObjectURL(W)}):null})]})}),Object(j.jsx)(o.l,{className:"p-4",children:Object(j.jsxs)(o.wb,{className:"justify-content-center",children:[A&&Object(j.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"danger",children:Object.keys(A).map((function(e,t){return Object(j.jsxs)(j.Fragment,{children:[A[e],Object(j.jsx)("br",{})]})}))}),F&&Object(j.jsx)(o.a,{className:"col-lg-12  col-md-12 col-sm-12 col-xs-12 ",color:"success",children:F}),Object(j.jsx)(o.u,{md:"6",lg:"6",xl:"6",xs:"12",sm:"12",children:Object(j.jsxs)(o.f,{color:"success",block:!0,type:"submit",children:["Save",J&&Object(j.jsxs)(j.Fragment,{children:[" ",Object(j.jsx)("i",{className:"fa fa-spinner fa-spin"})]})," "]})})]})})]})})]})})}}.call(this,c(73))},1160:function(e,t,c){},661:function(e,t,c){},665:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var s=c(45),n=c(177),a=c(1),r=c.n(a),l=c(658),o=c(17),i=["name","text"],j=function(e){var t=e.name,c=e.text,a=Object(n.a)(e,i),r=t?"https://coreui.io/react/docs/components/".concat(t):e.href;return Object(o.jsx)("div",{className:"card-header-actions",children:Object(o.jsx)(l.db,Object(s.a)(Object(s.a)({},a),{},{href:r,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:Object(o.jsx)("small",{className:"text-muted",children:c||"docs"})}))})},u=r.a.memo(j)}}]);
//# sourceMappingURL=27.892b5ab0.chunk.js.map